/*! For license information please see mapedit.bundle.js.LICENSE.txt */
(()=>{var t,e,n={21468:(t,e,n)=>{"use strict";function r(t,e,n){if(null!==t)for(var i,o,s,a,h,u,l,c,f=0,d=0,p=t.type,g="FeatureCollection"===p,m="Feature"===p,y=g?t.features.length:1,v=0;v<y;v++){h=(c=!!(l=g?t.features[v].geometry:m?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<h;_++){var b=0,w=0;if(null!==(a=c?l.geometries[_]:l)){u=a.coordinates;var x=a.type;switch(f=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(u,d,v,b,w),d++,b++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++)e(u[i],d,v,b,w),d++,"MultiPoint"===x&&b++;"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(o=0;o<u[i].length-f;o++)e(u[i][o],d,v,b,w),d++;"MultiLineString"===x&&b++,"Polygon"===x&&w++}"Polygon"===x&&b++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===x&&(w=0),o=0;o<u[i].length;o++){for(s=0;s<u[i][o].length-f;s++)e(u[i][o][s],d,v,b,w),d++;w++}b++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)r(a.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}n.d(e,{Z:()=>i});const i=function(t){var e=[1/0,1/0,-1/0,-1/0];return r(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},27269:function(t){t.exports=function(){"use strict";function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,h=r-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(h-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-h*l/a+c)),Math.min(o,Math.floor(r+(a-h)*l/a+c)),s)}var f=n[r],d=i,p=o;for(e(n,i,r),s(n[o],f)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;s(n[d],f)<0;)d++;for(;s(n[p],f)>0;)p--}0===s(n[i],f)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,i,o,s){t(e,r,i||0,o||e.length-1,s||n)}}()},67:(t,e,n)=>{"use strict";t.exports=i,t.exports.default=i;var r=n(27269);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],h(i,t.leaf?r(o):o);return i}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!p(t,e))return n;for(var i,o,s,a,h=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],p(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):h.push(s));e=h.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!p(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],p(t,s=e.leaf?n(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,h=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;s||a.leaf||!d(a,h)?r?(n++,a=r.children[n],s=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=g(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=g([])).leaf=!1,i.height=r;var h,u,l,c,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(m(t,e,n,d,this.compareMinX),h=e;h<=n;h+=d)for(m(t,h,l=Math.min(h+d-1,n),f,this.compareMinY),u=h;u<=l;u+=f)c=Math.min(u+f-1,l),i.children.push(this._build(t,u,c,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,h,u,l,f,d,p;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,i=0,o=e.children.length;i<o;i++)h=c(s=e.children[i]),d=t,p=s,(u=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-h)<f?(f=u,l=h<l?h:l,a=s):u===f&&h<l&&(l=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),h(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,h,u,l,f,d,p,g,m,y,v;for(u=l=1/0,r=e;r<=n-e;r++)d=i=a(t,0,r,this.toBBox),p=o=a(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,g=Math.max(d.minX,p.minX),m=Math.max(d.minY,p.minY),y=Math.min(d.maxX,p.maxX),v=Math.min(d.maxY,p.maxY),s=Math.max(0,y-g)*Math.max(0,v-m),h=c(i)+c(o),s<u?(u=s,f=r,l=h<l?h:l):s===u&&h<l&&(l=h,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,u=a(t,0,e,s),l=a(t,n-e,n,s),c=f(u)+f(l);for(i=e;i<n-e;i++)o=t.children[i],h(u,t.leaf?s(o):o),c+=f(u);for(i=n-e-1;i>=e;i--)o=t.children[i],h(l,t.leaf?s(o):o),c+=f(l);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)h(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},97057:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){return void 0===r&&(r={}),n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function h(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function l(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function c(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return t%(2*Math.PI)*180/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return h(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return u(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=h,e.multiPolygon=u,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=l,e.lengthToRadians=c,e.lengthToDegrees=function(t,e){return f(c(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return l(c(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!d(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},19538:function(t){t.exports=function(){"use strict";function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,h=r-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(h-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-h*l/a+c)),Math.min(o,Math.floor(r+(a-h)*l/a+c)),s)}var f=n[r],d=i,p=o;for(e(n,i,r),s(n[o],f)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;s(n[d],f)<0;)d++;for(;s(n[p],f)>0;)p--}0===s(n[i],f)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,i,o,s){t(e,r,i||0,o||e.length-1,s||n)}}()},64860:(t,e,n)=>{"use strict";t.exports=i,t.exports.default=i;var r=n(19538);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],h(i,t.leaf?r(o):o);return i}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!p(t,e))return n;for(var i,o,s,a,h=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],p(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):h.push(s));e=h.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!p(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],p(t,s=e.leaf?n(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,h=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;s||a.leaf||!d(a,h)?r?(n++,a=r.children[n],s=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=g(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=g([])).leaf=!1,i.height=r;var h,u,l,c,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(m(t,e,n,d,this.compareMinX),h=e;h<=n;h+=d)for(m(t,h,l=Math.min(h+d-1,n),f,this.compareMinY),u=h;u<=l;u+=f)c=Math.min(u+f-1,l),i.children.push(this._build(t,u,c,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,h,u,l,f,d,p;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,i=0,o=e.children.length;i<o;i++)h=c(s=e.children[i]),d=t,p=s,(u=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-h)<f?(f=u,l=h<l?h:l,a=s):u===f&&h<l&&(l=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),h(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,h,u,l,f,d,p,g,m,y,v;for(u=l=1/0,r=e;r<=n-e;r++)d=i=a(t,0,r,this.toBBox),p=o=a(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,g=Math.max(d.minX,p.minX),m=Math.max(d.minY,p.minY),y=Math.min(d.maxX,p.maxX),v=Math.min(d.maxY,p.maxY),s=Math.max(0,y-g)*Math.max(0,v-m),h=c(i)+c(o),s<u?(u=s,f=r,l=h<l?h:l):s===u&&h<l&&(l=h,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,u=a(t,0,e,s),l=a(t,n-e,n,s),c=f(u)+f(l);for(i=e;i<n-e;i++)o=t.children[i],h(u,t.leaf?s(o):o),c+=f(u);for(i=n-e-1;i>=e;i--)o=t.children[i],h(l,t.leaf?s(o):o),c+=f(l);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)h(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},39809:(t,e,n)=>{var r=e;r.bignum=n(4590),r.define=n(22500).define,r.base=n(71979),r.constants=n(36826),r.decoders=n(78307),r.encoders=n(56579)},22500:(t,e,n)=>{var r=n(39809),i=n(35717);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=Object(function(){var t=new Error("Cannot find module 'vm'");throw t.code="MODULE_NOT_FOUND",t}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(r.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(r.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},36625:(t,e,n)=>{var r=n(35717),i=n(71979).Reporter,o=n(48764).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}r(s,i),e.C=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){var e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new s(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.R=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},71979:(t,e,n)=>{var r=e;r.Reporter=n(98465).b,r.DecoderBuffer=n(36625).C,r.EncoderBuffer=n(36625).R,r.Node=n(41949)},41949:(t,e,n)=>{var r=n(71979).Reporter,i=n(71979).EncoderBuffer,o=n(71979).DecoderBuffer,s=n(79746),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var t=this._baseState,e={};l.forEach((function(n){e[n]=t[n]}));var n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){var t=this._baseState;h.forEach((function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},u.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),s.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){var e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(s(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);var r=t[n];e[r]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){u.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(n),this}})),u.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var r,i=n.default,s=!0,a=null;if(null!==n.key&&(a=t.enterKey(n.key)),n.optional){var h=null;if(null!==n.explicit?h=n.explicit:null!==n.implicit?h=n.implicit:null!==n.tag&&(h=n.tag),null!==h||n.any){if(s=this._peekTag(t,h,n.any),t.isError(s))return s}else{var u=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(u)}}if(n.obj&&s&&(r=t.enterObject()),s){if(null!==n.explicit){var l=this._decodeTag(t,n.explicit);if(t.isError(l))return l;t=l}var c=t.offset;if(null===n.use&&null===n.choice){n.any&&(u=t.save());var f=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(f))return f;n.any?i=t.raw(u):t=f}if(e&&e.track&&null!==n.tag&&e.track(t.path(),c,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new o(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(d,e)}}return n.obj&&s&&(i=t.leaveObject(r)),null===n.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,n.key,i),i},u.prototype._decodeGeneric=function(t,e,n){var r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var s=t.save(),a=n.choice[o];try{var h=a._decode(t,e);if(t.isError(h))return!1;r={type:o,value:h},i=!0}catch(e){return t.restore(s),!1}return!0}),this),i?r:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r.default||r.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},u.prototype._encodeValue=function(t,e,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new r);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,n)._encode(t,e),a=!0;else if(i.children)s=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i}),this).filter((function(t){return t})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var h=this.clone();h._baseState.implicit=null,s=this._createEncoderBuffer(t.map((function(n){var r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)}),h))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,a,l,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},98465:(t,e,n)=>{var r=n(35717);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.b=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){var r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof o;if(e=r?t:new o(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},70160:(t,e,n)=>{var r=n(36826);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r._reverse(e.tag)},36826:(t,e,n)=>{var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n})),e},r.der=n(70160)},41671:(t,e,n)=>{var r=n(35717),i=n(39809),o=i.base,s=i.bignum,a=i.constants.der;function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.Node.call(this,"der",t)}function l(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:a.tag[n]}}function c(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var s=t.readUInt8(n);if(t.isError(s))return s;r|=s}return r}t.exports=h,h.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},r(u,o.Node),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var r=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){var r=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=c(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){var n=l(t,e);if(t.isError(n))return n;var r,i=c(t,n.primitive,e);if(t.isError(i))return i;if(r=n.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,r){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var s=n.decode(t,"der",r);if(t.isError(s)&&o)break;i.push(s)}return i},u.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var r=t.raw();if(r.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===e){var s=t.raw().toString("ascii");return this._isNumstr(s)?s:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){for(var r,i=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,h=i[0]%40;if(r=n?i:[a,h].concat(i.slice(1)),e){var u=e[r.join(" ")];void 0===u&&(u=e[r.join(".")]),void 0!==u&&(r=u)}return r},u.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),h=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),h=0|n.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,s,a,h,0)},u.prototype._decodeNull=function(t){return null},u.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){var n=t.raw(),r=new s(n);return e&&(r=e[r.toString(10)]||r),r},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},78307:(t,e,n)=>{var r=e;r.der=n(41671),r.pem=n(59631)},59631:(t,e,n)=>{var r=n(35717),i=n(48764).Buffer,o=n(41671);function s(t){o.call(this,t),this.enc="pem"}r(s,o),t.exports=s,s.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,h=-1,u=0;u<n.length;u++){var l=n[u].match(s);if(null!==l&&l[2]===r){if(-1!==a){if("END"!==l[1])break;h=u;break}if("BEGIN"!==l[1])break;a=u}}if(-1===a||-1===h)throw new Error("PEM section not found for: "+r);var c=n.slice(a+1,h).join("");c.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new i(c,"base64");return o.prototype.decode.call(this,f,e)}},66984:(t,e,n)=>{var r=n(35717),i=n(48764).Buffer,o=n(39809),s=o.base,a=o.constants.der;function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.Node.call(this,"der",t)}function l(t){return t<10?"0"+t:t}t.exports=h,h.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},r(u,s.Node),u.prototype._encodeComposite=function(t,e,n,r){var o,s=function(t,e,n,r){var i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}return i>=31?r.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|a.tagClassByName[n||"universal"]<<6)}(t,e,n,this.reporter);if(r.length<128)return(o=new i(2))[0]=s,o[1]=r.length,this._createEncoderBuffer([o,r]);for(var h=1,u=r.length;u>=256;u>>=8)h++;(o=new i(2+h))[0]=s,o[1]=128|h,u=1+h;for(var l=r.length;l>0;u--,l>>=8)o[u]=255&l;return this._createEncoderBuffer([o,r])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=new i(2*t.length),r=0;r<t.length;r++)n.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var r=0;r<t.length;r++)t[r]|=0}else if(Array.isArray(t))for(t=t.slice(),r=0;r<t.length;r++)t[r]|=0;if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var o=0;for(r=0;r<t.length;r++){var s=t[r];for(o++;s>=128;s>>=7)o++}var a=new i(o),h=a.length-1;for(r=t.length-1;r>=0;r--)for(s=t[r],a[h--]=127&s;(s>>=7)>0;)a[h--]=128|127&s;return this._createEncoderBuffer(a)},u.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[l(r.getFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[l(r.getFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=new i(n)}if(i.isBuffer(t)){var r=t.length;0===t.length&&r++;var o=new i(r);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);r=1;for(var s=t;s>=256;s>>=8)r++;for(s=(o=new Array(r)).length-1;s>=0;s--)o[s]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},56579:(t,e,n)=>{var r=e;r.der=n(66984),r.pem=n(2883)},2883:(t,e,n)=>{var r=n(35717),i=n(66984);function o(t){i.call(this,t),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},4590:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(80950).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),_.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(x,v),x.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return y[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},79742:(t,e)=>{"use strict";e.byteLength=function(t){var e=h(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=h(t),s=o[0],a=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,c=a>0?s-4:s;for(n=0;n<c;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,h=r-i;a<h;a+=s)o.push(u(t,a,a+s>h?h:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},13550:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(46601).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),h=e;h<a;h++){var u=t.charCodeAt(h)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n._strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?f[6-h.length]+h+n:h+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],l=p[t];n="";var c=this.clone();for(c.negative=0;!c.isZero();){var g=c.modrn(l).toString(t);n=(c=c.idivn(l)).isZero()?g+n:f[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function _(t,e){this.x=t,this.y=e}Math.imul||(m=g),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?g(this,t,e):n<1024?y(this,t,e):v(this,t,e)},_.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},_.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},_.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},_.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},_.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},_.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},_.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},_.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},_.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},_.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new C(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){C.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(M,w),i(E,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new M;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return b[t]=e,e},C.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},C.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},C.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},C.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},C.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},C.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},C.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},C.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},C.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},C.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},C.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},C.prototype.isqr=function(t){return this.imul(t,t.clone())},C.prototype.sqr=function(t){return this.mul(t,t)},C.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},C.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},C.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},C.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},C.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new I(t)},i(I,C),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},6565:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";var t=void 0!==n.g?n.g:this||window,e=document,r=e.documentElement,i=t.BSN={},o=i.supports=[],s="data-toggle",a="data-dismiss",h="Affix",u="Alert",l="Button",c="Carousel",f="Collapse",d="Dropdown",p="Modal",g="Popover",m="ScrollSpy",y="Tab",v="Tooltip",_="data-backdrop",b="data-keyboard",w="data-target",x="data-title",M="data-original-title",E="data-original-text",S="data-animation",C="data-container",I="data-placement",A="data-delay",P="aria-expanded",O="aria-hidden",k="click",R="focus",L="hover",T="keydown",N="keyup",D="resize",F="scroll",j="onmouseleave"in e?["mouseenter","mouseleave"]:["mouseover","mouseout"],B="touchstart",G="touchend",q="touchmove",U="show",z="shown",Z="hide",V="hidden",X="slid",W="change",Y="getAttribute",H="querySelectorAll",$="Transition",K="Duration",J="Webkit",Q="tabindex",tt="active",et="in",nt="collapsing",rt="disabled",it="left",ot="right",st="top",at="bottom",ht=!("opacity"in r.style),ut=/\b(top|bottom|left|right)+/,lt=0,ct="navbar-fixed-top",ft="navbar-fixed-bottom",dt=J+$ in r.style||$.toLowerCase()in r.style,pt=J+$ in r.style?J.toLowerCase()+$+"End":$.toLowerCase()+"end",gt=J+K in r.style?J.toLowerCase()+$+K:$.toLowerCase()+K,mt=function(t){t.focus?t.focus():t.setActive()},yt=function(t,e){t.classList.add(e)},vt=function(t,e){t.classList.remove(e)},_t=function(t,e){return t.classList.contains(e)},bt=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e}(t[ht?H:"getElementsByClassName"](ht?"."+e.replace(/\s(?=[a-z])/g,"."):e))},wt=function(t,n){return"object"==typeof t?t:(n||e).querySelector(t)},xt=function(t,n){var r=n.charAt(0),i=n.substr(1);if("."===r){for(;t&&t!==e;t=t.parentNode)if(null!==wt(n,t.parentNode)&&_t(t,i))return t}else if("#"===r)for(;t&&t!==e;t=t.parentNode)if(t.id===i)return t;return!1},Mt=function(t,e,n,r){r=r||!1,t.addEventListener(e,n,r)},Et=function(t,e,n,r){r=r||!1,t.removeEventListener(e,n,r)},St=function(t,e,n,r){Mt(t,e,(function i(o){n(o),Et(t,e,i,r)}),r)},Ct=!!function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});St(t,"testPassive",null,n)}catch(t){}return e}()&&{passive:!0},It=function(e){var n=dt?t.getComputedStyle(e)[gt]:0;return"number"!=typeof(n=parseFloat(n))||isNaN(n)?0:1e3*n},At=function(t,e){var n=0;It(t)?St(t,pt,(function(t){!n&&e(t),n=1})):setTimeout((function(){!n&&e(),n=1}),17)},Pt=function(t,e,n){var r=new CustomEvent(t+".bs."+e);r.relatedTarget=n,this.dispatchEvent(r)},Ot=function(){return{y:t.pageYOffset||r.scrollTop,x:t.pageXOffset||r.scrollLeft}},kt=function(t,n,i,o){var s,a,h,u,l=n.offsetWidth,c=n.offsetHeight,f=r.clientWidth||e.body.clientWidth,d=r.clientHeight||e.body.clientHeight,p=t.getBoundingClientRect(),g=o===e.body?Ot():{x:o.offsetLeft+o.scrollLeft,y:o.offsetTop+o.scrollTop},m=p.right-p.left,y=p.bottom-p.top,v=wt('[class*="arrow"]',n),_=p.top+y/2-c/2<0,b=p.left+m/2-l/2<0,w=p.left+l/2+m/2>=f,x=p.top+c/2+y/2>=d,M=p.top-c<0,E=p.left-l<0,S=p.top+c+y>=d,C=p.left+l+m>=f;(i=(i=(i=(i=(i=(i===it||i===ot)&&E&&C?st:i)===st&&M?at:i)===at&&S?st:i)===it&&E?ot:i)===ot&&C?it:i)===it||i===ot?(a=i===it?p.left+g.x-l:p.left+g.x+m,_?(s=p.top+g.y,h=y/2):x?(s=p.top+g.y-c+y,h=c-y/2):s=p.top+g.y-c/2+y/2):i!==st&&i!==at||(s=i===st?p.top+g.y-c:p.top+g.y+y,b?(a=0,u=p.left+m/2):w?(a=f-1.01*l,u=l-(f-p.left)+m/2):a=p.left+g.x-l/2+m/2),n.style.top=s+"px",n.style.left=a+"px",h&&(v.style.top=h+"px"),u&&(v.style.left=u+"px"),-1===n.className.indexOf(i)&&(n.className=n.className.replace(ut,i))};i.version="2.0.27";var Rt=function(n,i){i=i||{};var o=(n=wt(n)).getAttribute(w),s=n.getAttribute("data-offset-top"),a=n.getAttribute("data-offset-bottom"),u="affix",l="affixed",c="function",f="affix-bottom";if(this.target=i.target?wt(i.target):wt(o)||null,this.offsetTop=i.offsetTop?i.offsetTop:parseInt(s)||0,this.offsetBottom=i.offsetBottom?i.offsetBottom:parseInt(a)||0,this.target||this.offsetTop||this.offsetBottom){var d,p,g,m,y,v,_=this,b=!1,x=!1,M=function(){g=Math.max(e.body.scrollHeight,e.body.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),m=parseInt(Ot().y,0),d=null!==_.target?_.target.getBoundingClientRect().top+m:_.offsetTop?parseInt(typeof _.offsetTop===c?_.offsetTop():_.offsetTop||0):void 0,p=function(){if(_.offsetBottom)return g-n.offsetHeight-parseInt(typeof _.offsetBottom===c?_.offsetBottom():_.offsetBottom||0)}(),y=parseInt(d)-m<0&&m>parseInt(d),v=parseInt(p)-m<0&&m>parseInt(p)},E=function(){b&&_t(n,u)&&(vt(n,u),b=!1)},S=function(){v?(y&&E(),x||_t(n,f)||(Pt.call(n,u,u),Pt.call(n,f,u),yt(n,f),x=!0,Pt.call(n,l,u),Pt.call(n,"affixed-bottom",u))):(x&&_t(n,f)&&(vt(n,f),x=!1),y?b||_t(n,u)||(Pt.call(n,u,u),Pt.call(n,"affix-top",u),yt(n,u),b=!0,Pt.call(n,l,u),Pt.call(n,"affixed-top",u)):E())};this.update=function(){M(),S()},h in n||(Mt(t,F,_.update,Ct),!ht&&Mt(t,D,_.update,Ct)),n.Affix=_,_.update()}};o.push([h,Rt,'[data-spy="affix"]']);var Lt=function(t){t=wt(t);var e=this,n="alert",r=xt(t,".alert"),i=function(n){r=xt(n.target,".alert"),(t=wt('[data-dismiss="alert"]',r))&&r&&(t===n.target||t.contains(n.target))&&e.close()},o=function(){Pt.call(r,"closed",n),Et(t,k,i),r.parentNode.removeChild(r)};this.close=function(){r&&t&&_t(r,et)&&(Pt.call(r,"close",n),vt(r,et),r&&(_t(r,"fade")?At(r,o):o()))},u in t||Mt(t,k,i),t.Alert=e};o.push([u,Lt,'[data-dismiss="alert"]']);var Tt=function(t,n){t=wt(t),n=n||null;var r=!1,i="button",o="checked",s="reset",a="LABEL",h="INPUT",u=function(e){var n=e.target.tagName===a?e.target:e.target.parentNode.tagName===a?e.target.parentNode:null;if(n){var s=bt(n.parentNode,"btn"),u=n.getElementsByTagName(h)[0];if(u){if("checkbox"===u.type&&(u.checked?(vt(n,tt),u.getAttribute(o),u.removeAttribute(o),u.checked=!1):(yt(n,tt),u.getAttribute(o),u.setAttribute(o,o),u.checked=!0),r||(r=!0,Pt.call(u,W,i),Pt.call(t,W,i))),"radio"===u.type&&!r&&(!u.checked||0===e.screenX&&0==e.screenY)){yt(n,tt),u.setAttribute(o,o),u.checked=!0,Pt.call(u,W,i),Pt.call(t,W,i),r=!0;for(var l=0,c=s.length;l<c;l++){var f=s[l],d=f.getElementsByTagName(h)[0];f!==n&&_t(f,tt)&&(vt(f,tt),d.removeAttribute(o),d.checked=!1,Pt.call(d,W,i))}}setTimeout((function(){r=!1}),50)}}};if(_t(t,"btn"))null!==n&&(n!==s?n&&n!==s&&("loading"===n&&(yt(t,rt),t.setAttribute(rt,rt),t.setAttribute(E,t.innerHTML.trim())),t.innerHTML=t.getAttribute("data-"+n+"-text")):t.getAttribute(E)&&((_t(t,rt)||t.getAttribute(rt)===rt)&&(vt(t,rt),t.removeAttribute(rt)),t.innerHTML=t.getAttribute(E)));else{l in t||(Mt(t,k,u),Mt(t,N,(function(t){32===(t.which||t.keyCode)&&t.target===e.activeElement&&u(t)})),Mt(t,T,(function(t){32===(t.which||t.keyCode)&&t.preventDefault()})));for(var c=bt(t,"btn"),f=c.length,d=0;d<f;d++)!_t(c[d],tt)&&wt("input",c[d]).getAttribute(o)&&yt(c[d],tt);t.Button=this}};o.push([l,Tt,'[data-toggle="buttons"]']);var Nt=function(e,n){n=n||{};var i=(e=wt(e)).getAttribute("data-interval"),o=n.interval,s="false"===i?0:parseInt(i),a=e.getAttribute("data-pause")===L||!1,h="true"===e.getAttribute(b)||!1,u="carousel",l="paused",f="data-slide-to";this.keyboard=!0===n.keyboard||h,this.pause=!(n.pause!==L&&!a)&&L,this.interval="number"==typeof o?o:!1===o||0===s||!1===s?0:isNaN(s)?5e3:s;var d=this,p=e.index=0,g=e.timer=0,m=!1,y=!1,v=null,_=null,w=null,x=bt(e,"item"),M=x.length,E=this.direction=it,S=bt(e,"carousel-control"),C=S[0],I=S[1],A=wt(".carousel-indicators",e),P=A&&A.getElementsByTagName("LI")||[];if(!(M<2)){var O=function(){!1===d.interval||_t(e,l)||(yt(e,l),!m&&(clearInterval(g),g=null))},R=function(){!1!==d.interval&&_t(e,l)&&(vt(e,l),!m&&(clearInterval(g),g=null),!m&&d.cycle())},N=function(t){if(t.preventDefault(),!m){var e=t.currentTarget||t.srcElement;e===I?p++:e===C&&p--,d.slideTo(p)}},D=function(t){t(e,q,F,Ct),t(e,G,U,Ct)},F=function(t){if(y)return _=parseInt(t.touches[0].pageX),"touchmove"===t.type&&t.touches.length>1?(t.preventDefault(),!1):void 0;t.preventDefault()},U=function(t){if(y&&!m&&(w=_||parseInt(t.touches[0].pageX),y)){if((!e.contains(t.target)||!e.contains(t.relatedTarget))&&Math.abs(v-w)<75)return!1;_<v?p++:_>v&&p--,y=!1,d.slideTo(p),D(Et)}},z=function(t){for(var e=0,n=P.length;e<n;e++)vt(P[e],tt);P[t]&&yt(P[t],tt)};this.cycle=function(){g&&(clearInterval(g),g=null),g=setInterval((function(){var n,i;n=e.getBoundingClientRect(),i=t.innerHeight||r.clientHeight,n.top<=i&&n.bottom>=0&&(p++,d.slideTo(p))}),this.interval)},this.slideTo=function(t){if(!m){var n,r=this.getActiveIndex();r!==t&&(r<t||0===r&&t===M-1?E=d.direction=it:(r>t||r===M-1&&0===t)&&(E=d.direction=ot),t<0?t=M-1:t>=M&&(t=0),p=t,n=E===it?"next":"prev",Pt.call(e,"slide",u,x[t]),m=!0,clearInterval(g),g=null,z(t),dt&&_t(e,"slide")?(yt(x[t],n),x[t].offsetWidth,yt(x[t],E),yt(x[r],E),At(x[t],(function(i){var o=i&&i.target!==x[t]?1e3*i.elapsedTime+100:20;m&&setTimeout((function(){m=!1,yt(x[t],tt),vt(x[r],tt),vt(x[t],n),vt(x[t],E),vt(x[r],E),Pt.call(e,X,u,x[t]),d.interval&&!_t(e,l)&&d.cycle()}),o)}))):(yt(x[t],tt),x[t].offsetWidth,vt(x[r],tt),setTimeout((function(){m=!1,d.interval&&!_t(e,l)&&d.cycle(),Pt.call(e,X,u,x[t])}),100)))}},this.getActiveIndex=function(){return x.indexOf(bt(e,"item active")[0])||0},c in e||(d.pause&&d.interval&&(Mt(e,j[0],O),Mt(e,j[1],R),Mt(e,B,O,Ct),Mt(e,G,R,Ct)),x.length>1&&Mt(e,B,(function(t){y||(v=parseInt(t.touches[0].pageX),e.contains(t.target)&&(y=!0,D(Mt)))}),Ct),I&&Mt(I,k,N),C&&Mt(C,k,N),A&&Mt(A,k,(function(t){if(t.preventDefault(),!m){var e=t.target;if(!e||_t(e,tt)||!e.getAttribute(f))return!1;p=parseInt(e.getAttribute(f),10),d.slideTo(p)}})),d.keyboard&&Mt(t,T,(function(t){if(!m){switch(t.which){case 39:p++;break;case 37:p--;break;default:return}d.slideTo(p)}}))),d.getActiveIndex()<0&&(x.length&&yt(x[0],tt),P.length&&z(0)),d.interval&&d.cycle(),e.Carousel=d}};o.push([c,Nt,'[data-ride="carousel"]']);var Dt=function(t,e){t=wt(t),e=e||{};var n,r,i,o,s,a=null,h=null,u=this,l=t.getAttribute("data-parent"),c="collapse",d="collapsed",p=function(t,e){Pt.call(t,Z,c),t.isAnimating=!0,t.style.height=t.scrollHeight+"px",vt(t,c),vt(t,et),yt(t,nt),t.offsetWidth,t.style.height="0px",At(t,(function(){t.isAnimating=!1,t.setAttribute(P,"false"),e.setAttribute(P,"false"),vt(t,nt),yt(t,c),t.style.height="",Pt.call(t,V,c)}))};this.toggle=function(t){t.preventDefault(),_t(h,et)?u.hide():u.show()},this.hide=function(){h.isAnimating||(p(h,t),yt(t,d))},this.show=function(){var e,i;a&&(n=wt(".collapse.in",a),r=n&&(wt('[data-target="#'+n.id+'"]',a)||wt('[href="#'+n.id+'"]',a))),(!h.isAnimating||n&&!n.isAnimating)&&(r&&n!==h&&(p(n,r),yt(r,d)),i=t,Pt.call(e=h,U,c),e.isAnimating=!0,yt(e,nt),vt(e,c),e.style.height=e.scrollHeight+"px",At(e,(function(){e.isAnimating=!1,e.setAttribute(P,"true"),i.setAttribute(P,"true"),vt(e,nt),yt(e,c),yt(e,et),e.style.height="",Pt.call(e,z,c)})),vt(t,d))},f in t||Mt(t,k,u.toggle),(i=t.href&&t.getAttribute("href"),o=t.getAttribute(w),s=i||o&&"#"===o.charAt(0)&&o,h=s&&wt(s)).isAnimating=!1,a=wt(e.parent)||l&&xt(t,l),t.Collapse=u};o.push([f,Dt,'[data-toggle="collapse"]']);var Ft=function(t,n){t=wt(t),this.persist=!0===n||"true"===t.getAttribute("data-persist")||!1;var r=this,i=t.parentNode,o="dropdown",a="open",h=null,u=wt(".dropdown-menu",i),l=function(){for(var t=u.children,e=[],n=0;n<t.length;n++)t[n].children.length&&"A"===t[n].children[0].tagName&&e.push(t[n]);return e}(),c=function(t){(t.href&&"#"===t.href.slice(-1)||t.parentNode&&t.parentNode.href&&"#"===t.parentNode.href.slice(-1))&&this.preventDefault()},f=function(){var n=t.open?Mt:Et;n(e,k,p),n(e,T,m),n(e,N,y),n(e,R,p,!0)},p=function(e){var n=e.target,i=n&&(n.getAttribute(s)||n.parentNode&&Y in n.parentNode&&n.parentNode.getAttribute(s));(e.type!==R||n!==t&&n!==u&&!u.contains(n))&&(n!==u&&!u.contains(n)||!r.persist&&!i)&&(h=n===t||t.contains(n)?t:null,_(),c.call(e,n))},g=function(e){h=t,v(),c.call(e,e.target)},m=function(t){var e=t.which||t.keyCode;38!==e&&40!==e||t.preventDefault()},y=function(n){var i=n.which||n.keyCode,o=e.activeElement,s=l.indexOf(o.parentNode),a=o===t,c=u.contains(o),f=o.parentNode.parentNode===u;f&&(s=a?0:38===i?s>1?s-1:0:40===i&&s<l.length-1?s+1:s,l[s]&&mt(l[s].children[0])),(l.length&&f||!l.length&&(c||a)||!c)&&t.open&&27===i&&(r.toggle(),h=null)},v=function(){Pt.call(i,U,o,h),yt(i,a),t.setAttribute(P,!0),Pt.call(i,z,o,h),t.open=!0,Et(t,k,g),setTimeout((function(){mt(u.getElementsByTagName("INPUT")[0]||t),f()}),1)},_=function(){Pt.call(i,Z,o,h),vt(i,a),t.setAttribute(P,!1),Pt.call(i,V,o,h),t.open=!1,f(),mt(t),setTimeout((function(){Mt(t,k,g)}),1)};t.open=!1,this.toggle=function(){_t(i,a)&&t.open?_():v()},d in t||(!1 in u&&u.setAttribute(Q,"0"),Mt(t,k,g)),t.Dropdown=r};o.push([d,Ft,'[data-toggle="dropdown"]']);var jt=function(n,i){n=wt(n);var o="modal",s="static",h="modalTrigger",u="modal-backdrop",l=n.getAttribute(w)||n.getAttribute("href"),c=wt(l),f=_t(n,o)?n:c;if(_t(n,o)&&(n=null),f){i=i||{},this.keyboard=!1!==i.keyboard&&"false"!==f.getAttribute(b),this.backdrop=i.backdrop!==s&&f.getAttribute(_)!==s||s,this.backdrop=!1!==i.backdrop&&"false"!==f.getAttribute(_)&&this.backdrop,this.animation=!!_t(f,"fade"),this.content=i.content,f.isAnimating=!1;var d,g,m,y,v,x=this,M=null,E=bt(r,ct).concat(bt(r,ft)),S=function(){var n,r=e.body.currentStyle||t.getComputedStyle(e.body),i=parseInt(r.paddingRight,10);if(d&&(e.body.style.paddingRight=i+g+"px",f.style.paddingRight=g+"px",E.length))for(var o=0;o<E.length;o++)n=(E[o].currentStyle||t.getComputedStyle(E[o])).paddingRight,E[o].style.paddingRight=parseInt(n)+g+"px"},C=function(){var n,i,o;d=e.body.clientWidth<(o=r.getBoundingClientRect(),t.innerWidth||o.right-Math.abs(o.left)),(i=e.createElement("div")).className="modal-scrollbar-measure",e.body.appendChild(i),n=i.offsetWidth-i.clientWidth,e.body.removeChild(i),g=n},I=function(){(m=wt(".modal-backdrop"))&&null!==m&&"object"==typeof m&&(lt=0,e.body.removeChild(m),m=null)},A=function(){mt(f),f.isAnimating=!1,Pt.call(f,z,o,M),Mt(t,D,x.update,Ct),Mt(f,k,L),Mt(e,T,R)},P=function(){f.style.display="",n&&mt(n),Pt.call(f,V,o),bt(e,"modal in")[0]||(function(){if(e.body.style.paddingRight="",f.style.paddingRight="",E.length)for(var t=0;t<E.length;t++)E[t].style.paddingRight=""}(),vt(e.body,"modal-open"),m&&_t(m,"fade")?(vt(m,et),At(m,I)):I(),Et(t,D,x.update,Ct),Et(f,k,L),Et(e,T,R)),f.isAnimating=!1},R=function(t){if(!f.isAnimating){var e=t.which||t.keyCode;x.keyboard&&27==e&&_t(f,et)&&x.hide()}},L=function(t){if(!f.isAnimating){var e=t.target;_t(f,et)&&(e.parentNode.getAttribute(a)===o||e.getAttribute(a)===o||e===f&&x.backdrop!==s)&&(x.hide(),M=null,t.preventDefault())}};this.toggle=function(){_t(f,et)?this.hide():this.show()},this.show=function(){_t(f,et)||f.isAnimating||(clearTimeout(v),v=setTimeout((function(){f.isAnimating=!0,Pt.call(f,U,o,M);var t,n=bt(e,"modal in")[0];n&&n!==f&&(h in n&&n.modalTrigger.Modal.hide(),p in n&&n.Modal.hide()),x.backdrop&&!lt&&!m&&(t=e.createElement("div"),null===(m=wt(".modal-backdrop"))&&(t.setAttribute("class",u+(x.animation?" fade":"")),m=t,e.body.appendChild(m)),lt=1),m&&!_t(m,et)&&(m.offsetWidth,y=It(m),yt(m,et)),setTimeout((function(){f.style.display="block",C(),S(),yt(e.body,"modal-open"),yt(f,et),f.setAttribute(O,!1),_t(f,"fade")?At(f,A):A()}),dt&&m&&y?y:1)}),1))},this.hide=function(){!f.isAnimating&&_t(f,et)&&(clearTimeout(v),v=setTimeout((function(){f.isAnimating=!0,Pt.call(f,Z,o),m=wt(".modal-backdrop"),y=m&&It(m),vt(f,et),f.setAttribute(O,!0),setTimeout((function(){_t(f,"fade")?At(f,P):P()}),dt&&m&&y?y:2)}),2))},this.setContent=function(t){wt(".modal-content",f).innerHTML=t},this.update=function(){_t(f,et)&&(C(),S())},n&&!(p in n)&&Mt(n,k,(function(t){if(!f.isAnimating){var e=t.target;(e=e.hasAttribute(w)||e.hasAttribute("href")?e:e.parentNode)!==n||_t(f,et)||(f.modalTrigger=n,M=n,x.show(),t.preventDefault())}})),x.content&&x.setContent(x.content),n?(n.Modal=x,f.modalTrigger=n):f.Modal=x}};o.push([p,jt,'[data-toggle="modal"]']);var Bt=function(n,r){n=wt(n),r=r||{};var i=n.getAttribute("data-trigger"),o=n.getAttribute(S),s=n.getAttribute(I),a=n.getAttribute("data-dismissible"),h=n.getAttribute(A),u=n.getAttribute(C),l="popover",c="class",f="div",d="fade",p="data-content",m='<button type="button" class="close"></button>',y=wt(r.container),v=wt(u),_=xt(n,".modal"),b=xt(n,"."+ct),w=xt(n,"."+ft);this.template=r.template?r.template:null,this.trigger=r.trigger?r.trigger:i||L,this.animation=r.animation&&r.animation!==d?r.animation:o||d,this.placement=r.placement?r.placement:s||st,this.delay=parseInt(r.delay||h)||200,this.dismissible=!(!r.dismissible&&"true"!==a),this.container=y||v||b||w||_||e.body;var M=this,E=r.title||n.getAttribute(x)||null,P=r.content||n.getAttribute(p)||null;if(P||this.template){var O=null,R=0,T=this.placement,N=function(t){null!==O&&t.target===wt(".close",O)&&M.hide()},F=function(r){k!=M.trigger&&"focus"!=M.trigger||!M.dismissible&&r(n,"blur",M.hide),M.dismissible&&r(e,k,N),!ht&&r(t,D,M.hide,Ct)},B=function(){F(Mt),Pt.call(n,z,l)},G=function(){F(Et),M.container.removeChild(O),R=null,O=null,Pt.call(n,V,l)};this.toggle=function(){null===O?M.show():M.hide()},this.show=function(){clearTimeout(R),R=setTimeout((function(){null===O&&(T=M.placement,function(){if(E=r.title||n.getAttribute(x),P=(P=r.content||n.getAttribute(p))?P.replace(/^\s+|\s+$/g,""):null,O=e.createElement(f),null!==P&&null===M.template){if(O.setAttribute("role","tooltip"),null!==E){var t=e.createElement("h3");t.setAttribute(c,"popover-title"),t.innerHTML=M.dismissible?E+m:E,O.appendChild(t)}var i=e.createElement(f),o=e.createElement(f);i.setAttribute(c,"arrow"),o.setAttribute(c,"popover-content"),O.appendChild(i),O.appendChild(o),o.innerHTML=M.dismissible&&null===E?P+m:P}else{var s=e.createElement(f);M.template=M.template.replace(/^\s+|\s+$/g,""),s.innerHTML=M.template,O.innerHTML=s.firstChild.innerHTML}M.container.appendChild(O),O.style.display="block",O.setAttribute(c,"popover "+T+" "+M.animation)}(),kt(n,O,T,M.container),!_t(O,et)&&yt(O,et),Pt.call(n,U,l),M.animation?At(O,B):B())}),20)},this.hide=function(){clearTimeout(R),R=setTimeout((function(){O&&null!==O&&_t(O,et)&&(Pt.call(n,Z,l),vt(O,et),M.animation?At(O,G):G())}),M.delay)},g in n||(M.trigger===L?(Mt(n,j[0],M.show),M.dismissible||Mt(n,j[1],M.hide)):k!=M.trigger&&"focus"!=M.trigger||Mt(n,M.trigger,M.toggle)),n.Popover=M}};o.push([g,Bt,'[data-toggle="popover"]']);var Gt=function(e,n){e=wt(e);var r=wt(e.getAttribute(w)),i=e.getAttribute("data-offset");if((n=n||{}).target||r){for(var o,s=this,a=n.target&&wt(n.target)||r,h=a&&a.getElementsByTagName("A"),u=parseInt(n.offset||i)||10,l=[],c=[],f=e.offsetHeight<e.scrollHeight?e:t,d=f===t,p=0,g=h.length;p<g;p++){var y=h[p].getAttribute("href"),v=y&&"#"===y.charAt(0)&&"#"!==y.slice(-1)&&wt(y);v&&(l.push(h[p]),c.push(v))}var _=function(t){var n=l[t].parentNode,r=c[t],i=xt(n,".dropdown"),s=d&&r.getBoundingClientRect(),a=_t(n,tt)||!1,h=(d?s.top+o:r.offsetTop)-u,f=d?s.bottom+o-u:c[t+1]?c[t+1].offsetTop-u:e.scrollHeight,p=o>=h&&f>o;if(!a&&p)"LI"!==n.tagName||_t(n,tt)||(yt(n,tt),i&&!_t(i,tt)&&yt(i,tt),Pt.call(e,"activate","scrollspy",l[t]));else if(p){if(!p&&!a||a&&p)return}else"LI"===n.tagName&&_t(n,tt)&&(vt(n,tt),i&&_t(i,tt)&&!bt(n.parentNode,tt).length&&vt(i,tt))};this.refresh=function(){!function(){o=d?Ot().y:e.scrollTop;for(var t=0,n=l.length;t<n;t++)_(t)}()},m in e||(Mt(f,F,s.refresh,Ct),!ht&&Mt(t,D,s.refresh,Ct)),s.refresh(),e.ScrollSpy=s}};o.push([m,Gt,'[data-spy="scroll"]']);var qt=function(t,e){var n=(t=wt(t)).getAttribute("data-height"),r="tab";e=e||{},this.height=!!dt&&(e.height||"true"===n);var i,o,s,a,h,u,l,c=this,f=xt(t,".nav"),d=!1,p=f&&wt(".dropdown",f),g=function(){d.style.height="",vt(d,nt),f.isAnimating=!1},m=function(){d?u?g():setTimeout((function(){d.style.height=l+"px",d.offsetWidth,At(d,g)}),50):f.isAnimating=!1,Pt.call(i,z,r,o)},v=function(){d&&(s.style.float=it,a.style.float=it,h=s.scrollHeight),yt(a,tt),Pt.call(i,U,r,o),vt(s,tt),Pt.call(o,V,r,i),d&&(l=a.scrollHeight,u=l===h,yt(d,nt),d.style.height=h+"px",d.offsetHeight,s.style.float="",a.style.float=""),_t(a,"fade")?setTimeout((function(){yt(a,et),At(a,m)}),20):m()};if(f){f.isAnimating=!1;var _=function(){var t,e=bt(f,tt);return 1!==e.length||_t(e[0],"dropdown")?e.length>1&&(t=e[e.length-1]):t=e[0],t.getElementsByTagName("A")[0]},b=function(){return wt(_().getAttribute("href"))};this.show=function(){a=wt((i=i||t).getAttribute("href")),o=_(),s=b(),f.isAnimating=!0,vt(o.parentNode,tt),o.setAttribute(P,"false"),yt(i.parentNode,tt),i.setAttribute(P,"true"),p&&(_t(t.parentNode.parentNode,"dropdown-menu")?_t(p,tt)||yt(p,tt):_t(p,tt)&&vt(p,tt)),Pt.call(o,Z,r,i),_t(s,"fade")?(vt(s,et),At(s,v)):v()},y in t||Mt(t,k,(function(t){t.preventDefault(),i=t.currentTarget||this,!f.isAnimating&&!_t(i.parentNode,tt)&&c.show()})),c.height&&(d=b().parentNode),t.Tab=c}};o.push([y,qt,'[data-toggle="tab"]']);var Ut=function(n,r){r=r||{};var i=(n=wt(n)).getAttribute(S),o=n.getAttribute(I),s=n.getAttribute(A),a=n.getAttribute(C),h="tooltip",u="class",l="title",c="fade",f="div",d=wt(r.container),p=wt(a),g=xt(n,".modal"),m=xt(n,"."+ct),y=xt(n,"."+ft);this.animation=r.animation&&r.animation!==c?r.animation:i||c,this.placement=r.placement?r.placement:o||st,this.delay=parseInt(r.delay||s)||200,this.container=d||p||m||y||g||e.body;var _=this,b=0,w=this.placement,E=null,P=n.getAttribute(l)||n.getAttribute(x)||n.getAttribute(M);if(P&&""!=P){var O=function(){Pt.call(n,z,h),!ht&&Mt(t,D,_.hide,Ct)},k=function(){!ht&&Et(t,D,_.hide,Ct),_.container.removeChild(E),E=null,b=null,Pt.call(n,V,h)};this.show=function(){clearTimeout(b),b=setTimeout((function(){if(null===E){if(w=_.placement,0==function(){if(!(P=n.getAttribute(l)||n.getAttribute(x)||n.getAttribute(M))||""==P)return!1;(E=e.createElement(f)).setAttribute("role",h);var t=e.createElement(f),r=e.createElement(f);t.setAttribute(u,"tooltip-arrow"),r.setAttribute(u,"tooltip-inner"),E.appendChild(t),E.appendChild(r),r.innerHTML=P,_.container.appendChild(E),E.setAttribute(u,"tooltip "+w+" "+_.animation)}())return;kt(n,E,w,_.container),!_t(E,et)&&yt(E,et),Pt.call(n,U,h),_.animation?At(E,O):O()}}),20)},this.hide=function(){clearTimeout(b),b=setTimeout((function(){E&&_t(E,et)&&(Pt.call(n,Z,h),vt(E,et),_.animation?At(E,k):k())}),_.delay)},this.toggle=function(){E?_.hide():_.show()},v in n||(n.setAttribute(M,P),n.removeAttribute(l),Mt(n,j[0],_.show),Mt(n,j[1],_.hide)),n.Tooltip=_}};o.push([v,Ut,'[data-toggle="tooltip"]']);var zt=function(t,e){for(var n=0,r=e.length;n<r;n++)new t(e[n])},Zt=i.initCallback=function(t){t=t||e;for(var n=0,r=o.length;n<r;n++)zt(o[n][1],t.querySelectorAll(o[n][2]))};return e.body?Zt():Mt(e,"DOMContentLoaded",(function(){Zt()})),{Affix:Rt,Alert:Lt,Button:Tt,Carousel:Nt,Collapse:Dt,Dropdown:Ft,Modal:jt,Popover:Bt,ScrollSpy:Gt,Tab:qt,Tooltip:Ut}})?r.apply(e,[]):r)||(t.exports=i)},29931:(t,e,n)=>{var r;function i(t){this.rand=t}if(t.exports=function(t){return r||(r=new i(null)),r.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(89214);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},74497:(t,e,n)=>{var r=n(89509).Buffer;function i(t){r.isBuffer(t)||(t=r.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,n,r,i){for(var o,s,a,h,u=n[0],l=n[1],c=n[2],f=n[3],d=t[0]^e[0],p=t[1]^e[1],g=t[2]^e[2],m=t[3]^e[3],y=4,v=1;v<i;v++)o=u[d>>>24]^l[p>>>16&255]^c[g>>>8&255]^f[255&m]^e[y++],s=u[p>>>24]^l[g>>>16&255]^c[m>>>8&255]^f[255&d]^e[y++],a=u[g>>>24]^l[m>>>16&255]^c[d>>>8&255]^f[255&p]^e[y++],h=u[m>>>24]^l[d>>>16&255]^c[p>>>8&255]^f[255&g]^e[y++],d=o,p=s,g=a,m=h;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[g>>>8&255]<<8|r[255&m])^e[y++],s=(r[p>>>24]<<24|r[g>>>16&255]<<16|r[m>>>8&255]<<8|r[255&d])^e[y++],a=(r[g>>>24]<<24|r[m>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^e[y++],h=(r[m>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&g])^e[y++],[o>>>=0,s>>>=0,a>>>=0,h>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,h=0;h<256;++h){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,n[s]=u,r[u]=s;var l=t[s],c=t[l],f=t[c],d=257*t[u]^16843008*u;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*f^65537*c^257*l^16843008*s,o[0][u]=d<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===s?s=a=1:(s=l^t[t[t[f^l]]],a^=t[t[a]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function u(t){this._key=i(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=h.SBOX[s>>>24]<<24|h.SBOX[s>>>16&255]<<16|h.SBOX[s>>>8&255]<<8|h.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=h.SBOX[s>>>24]<<24|h.SBOX[s>>>16&255]<<16|h.SBOX[s>>>8&255]<<8|h.SBOX[255&s]),i[o]=i[o-e]^s}for(var u=[],l=0;l<r;l++){var c=r-l,f=i[c-(l%4?0:4)];u[l]=l<4||c<=4?f:h.INV_SUB_MIX[0][h.SBOX[f>>>24]]^h.INV_SUB_MIX[1][h.SBOX[f>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[f>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[255&f]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return s(t=i(t),this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=r.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},u.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var n=s(t,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=u},62422:(t,e,n)=>{var r=n(74497),i=n(89509).Buffer,o=n(71027),s=n(35717),a=n(83288),h=n(67295),u=n(20685);function l(t,e,n,s){o.call(this);var h=i.alloc(4,0);this._cipher=new r.AES(e);var l=this._cipher.encryptBlock(h);this._ghash=new a(l),n=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new a(n),o=e.length,s=o%16;r.update(e),s&&(s=16-s,r.update(i.alloc(s,0))),r.update(i.alloc(8,0));var h=8*o,l=i.alloc(8);l.writeUIntBE(h,0,8),r.update(l),t._finID=r.state;var c=i.from(t._finID);return u(c),c}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(l,o),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=h(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l},44696:(t,e,n)=>{var r=n(71494),i=n(66193),o=n(44946);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},66193:(t,e,n)=>{var r=n(62422),i=n(89509).Buffer,o=n(45),s=n(25969),a=n(71027),h=n(74497),u=n(13048);function l(t,e,n){a.call(this),this._cache=new c,this._last=void 0,this._cipher=new h.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function c(){this.cache=i.allocUnsafe(0)}function f(t,e,n){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,n,!0):"auth"===a.type?new r(a.module,e,n,!0):new l(a.module,e,n)}n(35717)(l,a),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return i.concat(r)},l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var n=-1;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},c.prototype.add=function(t){this.cache=i.concat([this.cache,t])},c.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},c.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(e,!1,n.key,n.iv);return f(t,r.key,r.iv)},e.createDecipheriv=f},71494:(t,e,n)=>{var r=n(45),i=n(62422),o=n(89509).Buffer,s=n(25969),a=n(71027),h=n(74497),u=n(13048);function l(t,e,n){a.call(this),this._cache=new f,this._cipher=new h.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(35717)(l,a),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return o.concat(r)};var c=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function d(t,e,n){var a=r[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===a.type?new s(a.module,e,n):"auth"===a.type?new i(a.module,e,n):new l(a.module,e,n)}l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=o.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(e,!1,n.key,n.iv);return d(t,i.key,i.iv)}},83288:(t,e,n)=>{var r=n(89509).Buffer,i=r.alloc(16,0);function o(t){var e=r.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},s.prototype.update=function(t){var e;for(this.cache=r.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},20685:t=>{t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},25292:(t,e,n)=>{var r=n(67295);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},86311:(t,e,n)=>{var r=n(89509).Buffer,i=n(67295);function o(t,e,n){var o=e.length,s=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=r.concat([t._prev,n?e:s]),s}e.encrypt=function(t,e,n){for(var i,s=r.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=r.allocUnsafe(0)),!(t._cache.length<=e.length)){s=r.concat([s,o(t,e,n)]);break}i=t._cache.length,s=r.concat([s,o(t,e.slice(0,i),n)]),e=e.slice(i)}return s}},21510:(t,e,n)=>{var r=n(89509).Buffer;function i(t,e,n){for(var r,i,s=-1,a=0;++s<8;)r=e&1<<7-s?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>s%8,t._prev=o(t._prev,n?r:i);return a}function o(t,e){var n=t.length,i=-1,o=r.allocUnsafe(t.length);for(t=r.concat([t,r.from([e])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,s=r.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],n);return s}},71964:(t,e,n)=>{var r=n(89509).Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=r.concat([t._prev.slice(1),r.from([n?e:i])]),i}e.encrypt=function(t,e,n){for(var o=e.length,s=r.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],n);return s}},96009:(t,e,n)=>{var r=n(67295),i=n(89509).Buffer,o=n(20685);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var a=0;a<n;a++){var h=s(t),u=o+16*a;t._cache.writeUInt32BE(h[0],u+0),t._cache.writeUInt32BE(h[1],u+4),t._cache.writeUInt32BE(h[2],u+8),t._cache.writeUInt32BE(h[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),r(e,l)}},11084:(t,e)=>{e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},45:(t,e,n)=>{var r={ECB:n(11084),CBC:n(25292),CFB:n(86311),CFB8:n(71964),CFB1:n(21510),OFB:n(18861),CTR:n(96009),GCM:n(96009)},i=n(44946);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},18861:(t,e,n)=>{var r=n(48764).Buffer,i=n(67295);function o(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=r.concat([t._cache,o(t)]);var n=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,n)}},25969:(t,e,n)=>{var r=n(74497),i=n(89509).Buffer,o=n(71027);function s(t,e,n,s){o.call(this),this._cipher=new r.AES(e),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=t}n(35717)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},53614:(t,e,n)=>{var r=n(47667),i=n(44696),o=n(45),s=n(99715),a=n(13048);function h(t,e,n){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,n);if(s[t])return new r({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function u(t,e,n){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,n);if(s[t])return new r({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,r=s[t].iv}var i=a(e,!1,n,r);return h(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=h,e.createDecipher=e.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,r=s[t].iv}var i=a(e,!1,n,r);return u(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=u,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},47667:(t,e,n)=>{var r=n(71027),i=n(15251),o=n(35717),s=n(89509).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function h(t){r.call(this);var e,n=t.mode.toLowerCase(),i=a[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=s.concat([o,o.slice(0,8)]));var h=t.iv;s.isBuffer(h)||(h=s.from(h)),this._des=i.create({key:o,iv:h,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=h,o(h,r),h.prototype._update=function(t){return s.from(this._des.update(t))},h.prototype._final=function(){return s.from(this._des.final())}},99715:(t,e)=>{e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},23663:(t,e,n)=>{var r=n(48764).Buffer,i=n(13550),o=n(61798);function s(t){var e,n=t.modulus.byteLength();do{e=new i(o(n))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var n=function(t){var e=s(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),o=e.modulus.byteLength(),a=new i(t).mul(n.blinder).umod(e.modulus),h=a.toRed(i.mont(e.prime1)),u=a.toRed(i.mont(e.prime2)),l=e.coefficient,c=e.prime1,f=e.prime2,d=h.redPow(e.exponent1).fromRed(),p=u.redPow(e.exponent2).fromRed(),g=d.isub(p).imul(l).umod(c).imul(f);return p.iadd(g).imul(n.unblinder).umod(e.modulus).toArrayLike(r,"be",o)}a.getr=s,t.exports=a},56042:(t,e,n)=>{"use strict";t.exports=n(75207)},64743:(t,e,n)=>{"use strict";var r=n(25679).Buffer,i=n(23482),o=n(88473),s=n(21391),a=n(82957),h=n(47753),u=n(75207);function l(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function c(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new l(t)}function d(t){return new c(t)}Object.keys(u).forEach((function(t){u[t].id=r.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]})),s(l,o.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,e){return this._hash.update("string"==typeof t?r.from(t,e):t),this},l.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=a(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},s(c,o.Writable),c.prototype._write=function(t,e,n){this._hash.update(t),n()},c.prototype.update=function(t,e){return this._hash.update("string"==typeof t?r.from(t,e):t),this},c.prototype.verify=function(t,e,n){var i="string"==typeof e?r.from(e,n):e;this.end();var o=this._hash.digest();return h(i,o,t,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},82957:(t,e,n)=>{"use strict";var r=n(25679).Buffer,i=n(58355),o=n(23663),s=n(86266).ec,a=n(13550),h=n(70980),u=n(1308);function l(t,e,n,o){if((t=r.from(t.toArray())).length<e.byteLength()){var s=r.alloc(e.byteLength()-t.length);t=r.concat([s,t])}var a=n.length,h=function(t,e){t=(t=c(t,e)).mod(e);var n=r.from(t.toArray());if(n.length<e.byteLength()){var i=r.alloc(e.byteLength()-n.length);n=r.concat([i,n])}return n}(n,e),u=r.alloc(a);u.fill(1);var l=r.alloc(a);return l=i(o,l).update(u).update(r.from([0])).update(t).update(h).digest(),u=i(o,l).update(u).digest(),{k:l=i(o,l).update(u).update(r.from([1])).update(t).update(h).digest(),v:u=i(o,l).update(u).digest()}}function c(t,e){var n=new a(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function f(t,e,n){var o,s;do{for(o=r.alloc(0);8*o.length<t.bitLength();)e.v=i(n,e.k).update(e.v).digest(),o=r.concat([o,e.v]);s=c(o,t),e.k=i(n,e.k).update(e.v).update(r.from([0])).digest(),e.v=i(n,e.k).update(e.v).digest()}while(-1!==s.cmp(t));return s}function d(t,e,n,r){return t.toRed(a.mont(n)).redPow(e).fromRed().mod(r)}t.exports=function(t,e,n,i,p){var g=h(e);if(g.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var n=u[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var i=new s(n).keyFromPrivate(e.privateKey).sign(t);return r.from(i.toDER())}(t,g)}if("dsa"===g.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,n){for(var i,o=e.params.priv_key,s=e.params.p,h=e.params.q,u=e.params.g,p=new a(0),g=c(t,h).mod(h),m=!1,y=l(o,h,t,n);!1===m;)p=d(u,i=f(h,y,n),s,h),0===(m=i.invm(h).imul(g.add(o.mul(p))).mod(h)).cmpn(0)&&(m=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var n=[48,t.length+e.length+4,2,t.length];return n=n.concat(t,[2,e.length],e),r.from(n)}(p,m)}(t,g,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==e.padding&&1!==e.padding)throw new Error("illegal or unsupported padding mode");t=r.concat([p,t]);for(var m=g.modulus.byteLength(),y=[0,1];t.length+y.length+1<m;)y.push(255);y.push(0);for(var v=-1;++v<t.length;)y.push(t[v]);return o(y,g)},t.exports.getKey=l,t.exports.makeKey=f},47753:(t,e,n)=>{"use strict";var r=n(25679).Buffer,i=n(13550),o=n(86266).ec,s=n(70980),a=n(1308);function h(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}t.exports=function(t,e,n,u,l){var c=s(n);if("ec"===c.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),s=n.data.subjectPrivateKey.data;return i.verify(e,t,s)}(t,e,c)}if("dsa"===c.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,o=n.data.q,a=n.data.g,u=n.data.pub_key,l=s.signature.decode(t,"der"),c=l.s,f=l.r;h(c,o),h(f,o);var d=i.mont(r),p=c.invm(o);return 0===a.toRed(d).redPow(new i(e).mul(p).mod(o)).fromRed().mul(u.toRed(d).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(f)}(t,e,c)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=r.concat([l,e]);for(var f=c.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<f;)d.push(255),p+=1;d.push(0);for(var g=-1;++g<e.length;)d.push(e[g]);d=r.from(d);var m=i.mont(c.modulus);t=(t=new i(t).toRed(m)).redPow(new i(c.publicExponent)),t=r.from(t.fromRed().toArray());var y=p<8?1:0;for(f=Math.min(t.length,d.length),t.length!==d.length&&(y=1),g=-1;++g<f;)y|=t[g]^d[g];return 0===y}},21391:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},25679:(t,e,n)=>{var r=n(48764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},67295:(t,e,n)=>{var r=n(48764).Buffer;t.exports=function(t,e){for(var n=Math.min(t.length,e.length),i=new r(n),o=0;o<n;++o)i[o]=t[o]^e[o];return i}},48764:(t,e,n)=>{"use strict";const r=n(79742),i=n(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=h,e.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(H(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(H(t,SharedArrayBuffer)||t&&H(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return h.from(r,e,n);const i=function(t){if(h.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||$(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,h.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return r?-1:X(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){let o,s=1,a=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,h/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===h)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+h>a&&(n=a-h),o=n;o>=0;o--){let n=!0;for(let r=0;r<h;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if($(r))return s;t[n+s]=r}return s}function w(t,e,n,r){return Y(X(e,t.length-n),t,n,r)}function x(t,e,n,r){return Y(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function M(t,e,n,r){return Y(W(e),t,n,r)}function E(t,e,n,r){return Y(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,h;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(h=(31&e)<<6|63&n,h>127&&(o=h));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(h=(15&e)<<12|(63&n)<<6|63&r,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(h=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},h.allocUnsafe=function(t){return c(t)},h.allocUnsafeSlow=function(t){return c(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(H(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=h.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(H(e,Uint8Array))i+e.length>r.length?(h.isBuffer(e)||(e=h.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!h.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},h.byteLength=g,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},h.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},h.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},h.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):m.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(t,e,n,r,i){if(H(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},h.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return x(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function A(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=K[t[r]];return i}function k(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function T(t,e,n,r,i){U(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,i){U(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}h.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=J((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=J((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=J((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),h.prototype.readBigInt64BE=J((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),h.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||L(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||L(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigUInt64LE=J((function(t,e=0){return T(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=J((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},h.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigInt64LE=J((function(t,e=0){return T(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=J((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,r){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},h.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=h.isBuffer(t)?t:h.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const B={};function G(t,e,n){B[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function q(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function U(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||Z(e,t.length-(n+1))}(r,i,o)}function z(t,e){if("number"!=typeof t)throw new B.ERR_INVALID_ARG_TYPE(e,"number",t)}function Z(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),G("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=q(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function X(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function H(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const K=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},21924:(t,e,n)=>{"use strict";var r=n(40210),i=n(55559),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},55559:(t,e,n)=>{"use strict";var r=n(58612),i=n(40210),o=n(67771),s=n(14453),a=i("%Function.prototype.apply%"),h=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||r.call(h,a),l=n(24429),c=i("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=u(r,h,arguments);return o(e,1+c(0,t.length-(arguments.length-1)),!0)};var f=function(){return u(r,a,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f},71027:(t,e,n)=>{var r=n(89509).Buffer,i=n(42830).Transform,o=n(32553).s;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(35717)(s,i),s.prototype.update=function(t,e,n){"string"==typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=s},72273:(t,e,n)=>{"use strict";var r=n(82582),i=n(43842),o=n(26960);const s=n(88639).orient2d;function a(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;var i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var h=[e,n,r,i],u=h.slice();for(s=0;s<t.length;s++)o(t[s],h)||u.push(t[s]);return function(t){t.sort(_);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&d(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&d(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}(u)}(t),s=new r(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var a,u=[],l=0;l<i.length;l++){var c=i[l];s.remove(c),a=g(c,a),u.push(a)}var f=new r(16);for(l=0;l<u.length;l++)f.insert(p(u[l]));for(var y=e*e,v=n*n;u.length;){var b=u.shift(),w=b.p,x=b.next.p,M=m(w,x);if(!(M<v)){var E=M/y;(c=h(s,b.prev.p,w,x,b.next.next.p,E,f))&&Math.min(m(c,w),m(c,x))<=E&&(u.push(b),u.push(g(c,b)),s.remove(c),f.remove(b),f.insert(p(b)),f.insert(p(b.next)))}}b=a;var S=[];do{S.push(b.p),b=b.next}while(b!==a);return S.push(b.p),S}function h(t,e,n,r,o,s,a){for(var h=new i([],u),c=t.data;c;){for(var d=0;d<c.children.length;d++){var p=c.children[d],g=c.leaf?y(p,n,r):l(n,r,p);g>s||h.push({node:p,dist:g})}for(;h.length&&!h.peek().node.children;){var m=h.pop(),v=m.node,_=y(v,e,n),b=y(v,r,o);if(m.dist<_&&m.dist<b&&f(n,v,a)&&f(r,v,a))return v}(c=h.pop())&&(c=c.node)}return null}function u(t,e){return t.dist-e.dist}function l(t,e,n){if(c(t,n)||c(e,n))return 0;var r=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=v(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=v(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function c(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function f(t,e,n){for(var r,i,o,s,a=Math.min(t[0],e[0]),h=Math.min(t[1],e[1]),u=Math.max(t[0],e[0]),l=Math.max(t[1],e[1]),c=n.search({minX:a,minY:h,maxX:u,maxY:l}),f=0;f<c.length;f++)if(r=c[f].p,i=c[f].next.p,o=t,r!==(s=e)&&i!==o&&d(r,i,o)>0!=d(r,i,s)>0&&d(o,s,r)>0!=d(o,s,i)>0)return!1;return!0}function d(t,e,n){return s(t[0],t[1],e[0],e[1],n[0],n[1])}function p(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function g(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function m(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function v(t,e,n,r,i,o,s,a){var h,u,l,c,f=n-t,d=r-e,p=s-i,g=a-o,m=t-i,y=e-o,v=f*f+d*d,_=f*p+d*g,b=p*p+g*g,w=f*m+d*y,x=p*m+g*y,M=v*b-_*_,E=M,S=M;0===M?(u=0,E=1,c=x,S=b):(c=v*x-_*w,(u=_*x-b*w)<0?(u=0,c=x,S=b):u>E&&(u=E,c=x+_,S=b)),c<0?(c=0,-w<0?u=0:-w>v?u=E:(u=-w,E=v)):c>S&&(c=S,-w+_<0?u=0:-w+_>v?u=E:(u=-w+_,E=v));var C=(1-(l=0===c?0:c/S))*i+l*s-((1-(h=0===u?0:u/E))*t+h*n),I=(1-l)*o+l*a-((1-h)*e+h*r);return C*C+I*I}function _(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}i.default&&(i=i.default),t.exports=a,t.exports.default=a},19662:(t,e,n)=>{var r=n(17854),i=n(60614),o=n(66330),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not a function")}},39483:(t,e,n)=>{var r=n(17854),i=n(4411),o=n(66330),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not a constructor")}},96077:(t,e,n)=>{var r=n(17854),i=n(60614),o=r.String,s=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw s("Can't set "+o(t)+" as a prototype")}},51223:(t,e,n)=>{var r=n(5112),i=n(70030),o=n(3070).f,s=r("unscopables"),a=Array.prototype;null==a[s]&&o(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},31530:(t,e,n)=>{"use strict";var r=n(28710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},25787:(t,e,n)=>{var r=n(17854),i=n(47976),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},19670:(t,e,n)=>{var r=n(17854),i=n(70111),o=r.String,s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not an object")}},24019:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},90260:(t,e,n)=>{"use strict";var r,i,o,s=n(24019),a=n(19781),h=n(17854),u=n(60614),l=n(70111),c=n(92597),f=n(70648),d=n(66330),p=n(68880),g=n(98052),m=n(3070).f,y=n(47976),v=n(79518),_=n(27674),b=n(5112),w=n(69711),x=h.Int8Array,M=x&&x.prototype,E=h.Uint8ClampedArray,S=E&&E.prototype,C=x&&v(x),I=M&&v(M),A=Object.prototype,P=h.TypeError,O=b("toStringTag"),k=w("TYPED_ARRAY_TAG"),R=w("TYPED_ARRAY_CONSTRUCTOR"),L=s&&!!_&&"Opera"!==f(h.opera),T=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!l(t))return!1;var e=f(t);return c(N,e)||c(D,e)};for(r in N)(o=(i=h[r])&&i.prototype)?p(o,R,i):L=!1;for(r in D)(o=(i=h[r])&&i.prototype)&&p(o,R,i);if((!L||!u(C)||C===Function.prototype)&&(C=function(){throw P("Incorrect invocation")},L))for(r in N)h[r]&&_(h[r],C);if((!L||!I||I===A)&&(I=C.prototype,L))for(r in N)h[r]&&_(h[r].prototype,I);if(L&&v(S)!==I&&_(S,I),a&&!c(I,O))for(r in T=!0,m(I,O,{get:function(){return l(this)?this[k]:void 0}}),N)h[r]&&p(h[r],k,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_CONSTRUCTOR:R,TYPED_ARRAY_TAG:T&&k,aTypedArray:function(t){if(F(t))return t;throw P("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!_||y(C,t)))return t;throw P(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(a){if(n)for(var i in N){var o=h[i];if(o&&c(o.prototype,t))try{delete o.prototype[t]}catch(n){try{o.prototype[t]=e}catch(t){}}}I[t]&&!n||g(I,t,n?e:L&&M[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(_){if(n)for(r in N)if((i=h[r])&&c(i,t))try{delete i[t]}catch(t){}if(C[t]&&!n)return;try{return g(C,t,n?e:L&&C[t]||e)}catch(t){}}for(r in N)!(i=h[r])||i[t]&&!n||g(i,t,e)}},isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||c(N,e)||c(D,e)},isTypedArray:F,TypedArray:C,TypedArrayPrototype:I}},13331:(t,e,n)=>{"use strict";var r=n(17854),i=n(1702),o=n(19781),s=n(24019),a=n(76530),h=n(68880),u=n(89190),l=n(47293),c=n(25787),f=n(19303),d=n(17466),p=n(57067),g=n(11179),m=n(79518),y=n(27674),v=n(8006).f,_=n(3070).f,b=n(21285),w=n(41589),x=n(58003),M=n(29909),E=a.PROPER,S=a.CONFIGURABLE,C=M.get,I=M.set,A="ArrayBuffer",P="Wrong index",O=r.ArrayBuffer,k=O,R=k&&k.prototype,L=r.DataView,T=L&&L.prototype,N=Object.prototype,D=r.Array,F=r.RangeError,j=i(b),B=i([].reverse),G=g.pack,q=g.unpack,U=function(t){return[255&t]},z=function(t){return[255&t,t>>8&255]},Z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},V=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return G(t,23,4)},W=function(t){return G(t,52,8)},Y=function(t,e){_(t.prototype,e,{get:function(){return C(this)[e]}})},H=function(t,e,n,r){var i=p(n),o=C(t);if(i+e>o.byteLength)throw F(P);var s=C(o.buffer).bytes,a=i+o.byteOffset,h=w(s,a,a+e);return r?h:B(h)},$=function(t,e,n,r,i,o){var s=p(n),a=C(t);if(s+e>a.byteLength)throw F(P);for(var h=C(a.buffer).bytes,u=s+a.byteOffset,l=r(+i),c=0;c<e;c++)h[u+c]=l[o?c:e-c-1]};if(s){var K=E&&O.name!==A;if(l((function(){O(1)}))&&l((function(){new O(-1)}))&&!l((function(){return new O,new O(1.5),new O(NaN),K&&!S})))K&&S&&h(O,"name",A);else{(k=function(t){return c(this,R),new O(p(t))}).prototype=R;for(var J,Q=v(O),tt=0;Q.length>tt;)(J=Q[tt++])in k||h(k,J,O[J]);R.constructor=k}y&&m(T)!==N&&y(T,N);var et=new L(new k(2)),nt=i(T.setInt8);et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||u(T,{setInt8:function(t,e){nt(this,t,e<<24>>24)},setUint8:function(t,e){nt(this,t,e<<24>>24)}},{unsafe:!0})}else R=(k=function(t){c(this,R);var e=p(t);I(this,{bytes:j(D(e),0),byteLength:e}),o||(this.byteLength=e)}).prototype,T=(L=function(t,e,n){c(this,T),c(t,R);var r=C(t).byteLength,i=f(e);if(i<0||i>r)throw F("Wrong offset");if(i+(n=void 0===n?r-i:d(n))>r)throw F("Wrong length");I(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)}).prototype,o&&(Y(k,"byteLength"),Y(L,"buffer"),Y(L,"byteLength"),Y(L,"byteOffset")),u(T,{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return V(H(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return V(H(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return q(H(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return q(H(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){$(this,1,t,U,e)},setUint8:function(t,e){$(this,1,t,U,e)},setInt16:function(t,e){$(this,2,t,z,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){$(this,2,t,z,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){$(this,4,t,Z,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){$(this,4,t,Z,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){$(this,4,t,X,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){$(this,8,t,W,e,arguments.length>2?arguments[2]:void 0)}});x(k,A),x(L,"DataView"),t.exports={ArrayBuffer:k,DataView:L}},1048:(t,e,n)=>{"use strict";var r=n(47908),i=n(51400),o=n(26244),s=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n),h=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=s((void 0===l?a:i(l,a))-u,a-h),f=1;for(u<h&&h<u+c&&(f=-1,u+=c-1,h+=c-1);c-- >0;)u in n?n[h]=n[u]:delete n[h],h+=f,u+=f;return n}},21285:(t,e,n)=>{"use strict";var r=n(47908),i=n(51400),o=n(26244);t.exports=function(t){for(var e=r(this),n=o(e),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),h=s>2?arguments[2]:void 0,u=void 0===h?n:i(h,n);u>a;)e[a++]=t;return e}},18533:(t,e,n)=>{"use strict";var r=n(42092).forEach,i=n(9341)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},97745:(t,e,n)=>{var r=n(26244);t.exports=function(t,e){for(var n=0,i=r(e),o=new t(i);i>n;)o[n]=e[n++];return o}},48457:(t,e,n)=>{"use strict";var r=n(17854),i=n(49974),o=n(46916),s=n(47908),a=n(53411),h=n(97659),u=n(4411),l=n(26244),c=n(86135),f=n(18554),d=n(71246),p=r.Array;t.exports=function(t){var e=s(t),n=u(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,r>2?arguments[2]:void 0));var y,v,_,b,w,x,M=d(e),E=0;if(!M||this==p&&h(M))for(y=l(e),v=n?new this(y):p(y);y>E;E++)x=m?g(e[E],E):e[E],c(v,E,x);else for(w=(b=f(e,M)).next,v=n?new this:[];!(_=o(w,b)).done;E++)x=m?a(b,g,[_.value,E],!0):_.value,c(v,E,x);return v.length=E,v}},41318:(t,e,n)=>{var r=n(45656),i=n(51400),o=n(26244),s=function(t){return function(e,n,s){var a,h=r(e),u=o(h),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=h[l++])!=a)return!0}else for(;u>l;l++)if((t||l in h)&&h[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},42092:(t,e,n)=>{var r=n(49974),i=n(1702),o=n(68361),s=n(47908),a=n(26244),h=n(65417),u=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,c=6==t,f=7==t,d=5==t||c;return function(p,g,m,y){for(var v,_,b=s(p),w=o(b),x=r(g,m),M=a(w),E=0,S=y||h,C=e?S(p,M):n||f?S(p,0):void 0;M>E;E++)if((d||E in w)&&(_=x(v=w[E],E,b),t))if(e)C[E]=_;else if(_)switch(t){case 3:return!0;case 5:return v;case 6:return E;case 2:u(C,v)}else switch(t){case 4:return!1;case 7:u(C,v)}return c?-1:i||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},86583:(t,e,n)=>{"use strict";var r=n(22104),i=n(45656),o=n(19303),s=n(26244),a=n(9341),h=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf"),f=l||!c;t.exports=f?function(t){if(l)return r(u,this,arguments)||0;var e=i(this),n=s(e),a=n-1;for(arguments.length>1&&(a=h(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},81194:(t,e,n)=>{var r=n(47293),i=n(5112),o=n(7392),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{"use strict";var r=n(47293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},53671:(t,e,n)=>{var r=n(17854),i=n(19662),o=n(47908),s=n(68361),a=n(26244),h=r.TypeError,u=function(t){return function(e,n,r,u){i(n);var l=o(e),c=s(l),f=a(l),d=t?f-1:0,p=t?-1:1;if(r<2)for(;;){if(d in c){u=c[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw h("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in c&&(u=n(u,c[d],d,l));return u}};t.exports={left:u(!1),right:u(!0)}},41589:(t,e,n)=>{var r=n(17854),i=n(51400),o=n(26244),s=n(86135),a=r.Array,h=Math.max;t.exports=function(t,e,n){for(var r=o(t),u=i(e,r),l=i(void 0===n?r:n,r),c=a(h(l-u,0)),f=0;u<l;u++,f++)s(c,f,t[u]);return c.length=f,c}},50206:(t,e,n)=>{var r=n(1702);t.exports=r([].slice)},94362:(t,e,n)=>{var r=n(41589),i=Math.floor,o=function(t,e){var n=t.length,h=i(n/2);return n<8?s(t,e):a(t,o(r(t,0,h),e),o(r(t,h),e),e)},s=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,s=0,a=0;s<i||a<o;)t[s+a]=s<i&&a<o?r(e[s],n[a])<=0?e[s++]:n[a++]:s<i?e[s++]:n[a++];return t};t.exports=o},77475:(t,e,n)=>{var r=n(17854),i=n(43157),o=n(4411),s=n(70111),a=n(5112)("species"),h=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===h||i(e.prototype))||s(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?h:e}},65417:(t,e,n)=>{var r=n(77475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},53411:(t,e,n)=>{var r=n(19670),i=n(99212);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},17072:(t,e,n)=>{var r=n(5112)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},84326:(t,e,n)=>{var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},70648:(t,e,n)=>{var r=n(17854),i=n(51694),o=n(60614),s=n(84326),a=n(5112)("toStringTag"),h=r.Object,u="Arguments"==s(function(){return arguments}());t.exports=i?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=h(t),a))?n:u?s(e):"Object"==(r=s(e))&&o(e.callee)?"Arguments":r}},99920:(t,e,n)=>{var r=n(92597),i=n(53887),o=n(31236),s=n(3070);t.exports=function(t,e,n){for(var a=i(e),h=s.f,u=o.f,l=0;l<a.length;l++){var c=a[l];r(t,c)||n&&r(n,c)||h(t,c,u(e,c))}}},49920:(t,e,n)=>{var r=n(47293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},24994:(t,e,n)=>{"use strict";var r=n(13383).IteratorPrototype,i=n(70030),o=n(79114),s=n(58003),a=n(97497),h=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!u,n)}),s(t,l,!1,!0),a[l]=h,t}},68880:(t,e,n)=>{var r=n(19781),i=n(3070),o=n(79114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},79114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},86135:(t,e,n)=>{"use strict";var r=n(34948),i=n(3070),o=n(79114);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},98052:(t,e,n)=>{var r=n(60614),i=n(68880),o=n(56339),s=n(13072);t.exports=function(t,e,n,a){a||(a={});var h=a.enumerable,u=void 0!==a.name?a.name:e;return r(n)&&o(n,u,a),a.global?h?t[e]=n:s(e,n):(a.unsafe?t[e]&&(h=!0):delete t[e],h?t[e]=n:i(t,e,n)),t}},89190:(t,e,n)=>{var r=n(98052);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},13072:(t,e,n)=>{var r=n(17854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},70654:(t,e,n)=>{"use strict";var r=n(82109),i=n(46916),o=n(31913),s=n(76530),a=n(60614),h=n(24994),u=n(79518),l=n(27674),c=n(58003),f=n(68880),d=n(98052),p=n(5112),g=n(97497),m=n(13383),y=s.PROPER,v=s.CONFIGURABLE,_=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x="keys",M="values",E="entries",S=function(){return this};t.exports=function(t,e,n,s,p,m,C){h(n,e,s);var I,A,P,O=function(t){if(t===p&&N)return N;if(!b&&t in L)return L[t];switch(t){case x:case M:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",R=!1,L=t.prototype,T=L[w]||L["@@iterator"]||p&&L[p],N=!b&&T||O(p),D="Array"==e&&L.entries||T;if(D&&(I=u(D.call(new t)))!==Object.prototype&&I.next&&(o||u(I)===_||(l?l(I,_):a(I[w])||d(I,w,S)),c(I,k,!0,!0),o&&(g[k]=S)),y&&p==M&&T&&T.name!==M&&(!o&&v?f(L,"name",M):(R=!0,N=function(){return i(T,this)})),p)if(A={values:O(M),keys:m?N:O(x),entries:O(E)},C)for(P in A)(b||R||!(P in L))&&d(L,P,A[P]);else r({target:e,proto:!0,forced:b||R},A);return o&&!C||L[w]===N||d(L,w,N,{name:p}),g[e]=N,A}},97235:(t,e,n)=>{var r=n(40857),i=n(92597),o=n(6061),s=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},19781:(t,e,n)=>{var r=n(47293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},80317:(t,e,n)=>{var r=n(17854),i=n(70111),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},48324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(t,e,n)=>{var r=n(80317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},68886:(t,e,n)=>{var r=n(88113).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},7871:t=>{t.exports="object"==typeof window&&"object"!=typeof Deno},30256:(t,e,n)=>{var r=n(88113);t.exports=/MSIE|Trident/.test(r)},71528:(t,e,n)=>{var r=n(88113),i=n(17854);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:(t,e,n)=>{var r=n(88113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},35268:(t,e,n)=>{var r=n(84326),i=n(17854);t.exports="process"==r(i.process)},71036:(t,e,n)=>{var r=n(88113);t.exports=/web0s(?!.*chrome)/i.test(r)},88113:(t,e,n)=>{var r=n(35005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,i,o=n(17854),s=n(88113),a=o.process,h=o.Deno,u=a&&a.versions||h&&h.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},98008:(t,e,n)=>{var r=n(88113).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},80748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(t,e,n)=>{var r=n(17854),i=n(31236).f,o=n(68880),s=n(98052),a=n(13072),h=n(99920),u=n(54705);t.exports=function(t,e){var n,l,c,f,d,p=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[p]||a(p,{}):(r[p]||{}).prototype)for(l in e){if(f=e[l],c=t.dontCallGetSet?(d=i(n,l))&&d.value:n[l],!u(g?l:p+(m?".":"#")+l,t.forced)&&void 0!==c){if(typeof f==typeof c)continue;h(f,c)}(t.sham||c&&c.sham)&&o(f,"sham",!0),s(n,l,f,t)}}},47293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},27007:(t,e,n)=>{"use strict";n(74916);var r=n(1702),i=n(98052),o=n(22261),s=n(47293),a=n(5112),h=n(68880),u=a("species"),l=RegExp.prototype;t.exports=function(t,e,n,c){var f=a(t),d=!s((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d&&!s((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!d||!p||n){var g=r(/./[f]),m=e(f,""[t],(function(t,e,n,i,s){var a=r(t),h=e.exec;return h===o||h===l.exec?d&&!s?{done:!0,value:g(e,n,i)}:{done:!0,value:a(n,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(l,f,m[1])}c&&h(l[f],"sham",!0)}},22104:(t,e,n)=>{var r=n(34374),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},49974:(t,e,n)=>{var r=n(1702),i=n(19662),o=n(34374),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},34374:(t,e,n)=>{var r=n(47293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},27065:(t,e,n)=>{"use strict";var r=n(17854),i=n(1702),o=n(19662),s=n(70111),a=n(92597),h=n(50206),u=n(34374),l=r.Function,c=i([].concat),f=i([].join),d={},p=function(t,e,n){if(!a(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=l("C,a","return new C("+f(r,",")+")")}return d[e](t,n)};t.exports=u?l.bind:function(t){var e=o(this),n=e.prototype,r=h(arguments,1),i=function(){var n=c(r,h(arguments));return this instanceof i?p(e,n.length,n):e.apply(t,n)};return s(n)&&(i.prototype=n),i}},46916:(t,e,n)=>{var r=n(34374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},76530:(t,e,n)=>{var r=n(19781),i=n(92597),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),h=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:h,CONFIGURABLE:u}},1702:(t,e,n)=>{var r=n(34374),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);t.exports=r?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},35005:(t,e,n)=>{var r=n(17854),i=n(60614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},71246:(t,e,n)=>{var r=n(70648),i=n(58173),o=n(97497),s=n(5112)("iterator");t.exports=function(t){if(null!=t)return i(t,s)||i(t,"@@iterator")||o[r(t)]}},18554:(t,e,n)=>{var r=n(17854),i=n(46916),o=n(19662),s=n(19670),a=n(66330),h=n(71246),u=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?h(t):e;if(o(n))return s(i(n,t));throw u(a(t)+" is not iterable")}},58173:(t,e,n)=>{var r=n(19662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},10647:(t,e,n)=>{var r=n(1702),i=n(47908),o=Math.floor,s=r("".charAt),a=r("".replace),h=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,c,f){var d=n+t.length,p=r.length,g=l;return void 0!==c&&(c=i(c),g=u),a(f,g,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return h(e,0,n);case"'":return h(e,d);case"<":u=c[h(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>p){var f=o(l/10);return 0===f?i:f<=p?void 0===r[f-1]?s(a,1):r[f-1]+s(a,1):i}u=r[l-1]}return void 0===u?"":u}))}},17854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},92597:(t,e,n)=>{var r=n(1702),i=n(47908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:t=>{t.exports={}},842:(t,e,n)=>{var r=n(17854);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},60490:(t,e,n)=>{var r=n(35005);t.exports=r("document","documentElement")},64664:(t,e,n)=>{var r=n(19781),i=n(47293),o=n(80317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},11179:(t,e,n)=>{var r=n(17854).Array,i=Math.abs,o=Math.pow,s=Math.floor,a=Math.log,h=Math.LN2;t.exports={pack:function(t,e,n){var u,l,c,f=r(n),d=8*n-e-1,p=(1<<d)-1,g=p>>1,m=23===e?o(2,-24)-o(2,-77):0,y=t<0||0===t&&1/t<0?1:0,v=0;for((t=i(t))!=t||t===1/0?(l=t!=t?1:0,u=p):(u=s(a(t)/h),t*(c=o(2,-u))<1&&(u--,c*=2),(t+=u+g>=1?m/c:m*o(2,1-g))*c>=2&&(u++,c/=2),u+g>=p?(l=0,u=p):u+g>=1?(l=(t*c-1)*o(2,e),u+=g):(l=t*o(2,g-1)*o(2,e),u=0));e>=8;)f[v++]=255&l,l/=256,e-=8;for(u=u<<e|l,d+=e;d>0;)f[v++]=255&u,u/=256,d-=8;return f[--v]|=128*y,f},unpack:function(t,e){var n,r=t.length,i=8*r-e-1,s=(1<<i)-1,a=s>>1,h=i-7,u=r-1,l=t[u--],c=127&l;for(l>>=7;h>0;)c=256*c+t[u--],h-=8;for(n=c&(1<<-h)-1,c>>=-h,h+=e;h>0;)n=256*n+t[u--],h-=8;if(0===c)c=1-a;else{if(c===s)return n?NaN:l?-1/0:1/0;n+=o(2,e),c-=a}return(l?-1:1)*n*o(2,c-e)}}},68361:(t,e,n)=>{var r=n(17854),i=n(1702),o=n(47293),s=n(84326),a=r.Object,h=i("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?h(t,""):a(t)}:a},79587:(t,e,n)=>{var r=n(60614),i=n(70111),o=n(27674);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},42788:(t,e,n)=>{var r=n(1702),i=n(60614),o=n(5465),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},29909:(t,e,n)=>{var r,i,o,s=n(68536),a=n(17854),h=n(1702),u=n(70111),l=n(68880),c=n(92597),f=n(5465),d=n(6200),p=n(3501),g="Object already initialized",m=a.TypeError,y=a.WeakMap;if(s||f.state){var v=f.state||(f.state=new y),_=h(v.get),b=h(v.has),w=h(v.set);r=function(t,e){if(b(v,t))throw new m(g);return e.facade=t,w(v,t,e),e},i=function(t){return _(v,t)||{}},o=function(t){return b(v,t)}}else{var x=d("state");p[x]=!0,r=function(t,e){if(c(t,x))throw new m(g);return e.facade=t,l(t,x,e),e},i=function(t){return c(t,x)?t[x]:{}},o=function(t){return c(t,x)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},97659:(t,e,n)=>{var r=n(5112),i=n(97497),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},43157:(t,e,n)=>{var r=n(84326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},60614:t=>{t.exports=function(t){return"function"==typeof t}},4411:(t,e,n)=>{var r=n(1702),i=n(47293),o=n(60614),s=n(70648),a=n(35005),h=n(42788),u=function(){},l=[],c=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(u),g=function(t){if(!o(t))return!1;try{return c(u,l,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,h(t))}catch(t){return!0}};m.sham=!0,t.exports=!c||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},54705:(t,e,n)=>{var r=n(47293),i=n(60614),o=/#|\.prototype\./,s=function(t,e){var n=h[a(t)];return n==l||n!=u&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},h=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},55988:(t,e,n)=>{var r=n(70111),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},70111:(t,e,n)=>{var r=n(60614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},31913:t=>{t.exports=!1},47850:(t,e,n)=>{var r=n(70111),i=n(84326),o=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},52190:(t,e,n)=>{var r=n(17854),i=n(35005),o=n(60614),s=n(47976),a=n(43307),h=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&s(e.prototype,h(t))}},20408:(t,e,n)=>{var r=n(17854),i=n(49974),o=n(46916),s=n(19670),a=n(66330),h=n(97659),u=n(26244),l=n(47976),c=n(18554),f=n(71246),d=n(99212),p=r.TypeError,g=function(t,e){this.stopped=t,this.result=e},m=g.prototype;t.exports=function(t,e,n){var r,y,v,_,b,w,x,M=n&&n.that,E=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),I=i(e,M),A=function(t){return r&&d(r,"normal",t),new g(!0,t)},P=function(t){return E?(s(t),C?I(t[0],t[1],A):I(t[0],t[1])):C?I(t,A):I(t)};if(S)r=t;else{if(!(y=f(t)))throw p(a(t)+" is not iterable");if(h(y)){for(v=0,_=u(t);_>v;v++)if((b=P(t[v]))&&l(m,b))return b;return new g(!1)}r=c(t,y)}for(w=r.next;!(x=o(w,r)).done;){try{b=P(x.value)}catch(t){d(r,"throw",t)}if("object"==typeof b&&b&&l(m,b))return b}return new g(!1)}},99212:(t,e,n)=>{var r=n(46916),i=n(19670),o=n(58173);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return i(s),n}},13383:(t,e,n)=>{"use strict";var r,i,o,s=n(47293),a=n(60614),h=n(70030),u=n(79518),l=n(98052),c=n(5112),f=n(31913),d=c("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),null==r||s((function(){var t={};return r[d].call(t)!==t}))?r={}:f&&(r=h(r)),a(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},97497:t=>{t.exports={}},26244:(t,e,n)=>{var r=n(17466);t.exports=function(t){return r(t.length)}},56339:(t,e,n)=>{var r=n(47293),i=n(60614),o=n(92597),s=n(19781),a=n(76530).CONFIGURABLE,h=n(42788),u=n(29909),l=u.enforce,c=u.get,f=Object.defineProperty,d=s&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||a&&t.name!==e)&&f(t,"name",{value:e,configurable:!0}),d&&n&&o(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=l(t);return o(r,"source")||(r.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=g((function(){return i(this)&&c(this).source||h(this)}),"toString")},74758:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},95948:(t,e,n)=>{var r,i,o,s,a,h,u,l,c=n(17854),f=n(49974),d=n(31236).f,p=n(20261).set,g=n(6833),m=n(71528),y=n(71036),v=n(35268),_=c.MutationObserver||c.WebKitMutationObserver,b=c.document,w=c.process,x=c.Promise,M=d(c,"queueMicrotask"),E=M&&M.value;E||(r=function(){var t,e;for(v&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},g||v||y||!_||!b?!m&&x&&x.resolve?((u=x.resolve(void 0)).constructor=x,l=f(u.then,u),s=function(){l(r)}):v?s=function(){w.nextTick(r)}:(p=f(p,c),s=function(){p(r)}):(a=!0,h=b.createTextNode(""),new _(r).observe(h,{characterData:!0}),s=function(){h.data=a=!a})),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},30735:(t,e,n)=>{var r=n(30133);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},30133:(t,e,n)=>{var r=n(7392),i=n(47293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},68536:(t,e,n)=>{var r=n(17854),i=n(60614),o=n(42788),s=r.WeakMap;t.exports=i(s)&&/native code/.test(o(s))},78523:(t,e,n)=>{"use strict";var r=n(19662),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},83009:(t,e,n)=>{var r=n(17854),i=n(47293),o=n(1702),s=n(41340),a=n(53111).trim,h=n(81361),u=r.parseInt,l=r.Symbol,c=l&&l.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==u(h+"08")||22!==u(h+"0x16")||c&&!i((function(){u(Object(c))}));t.exports=p?function(t,e){var n=a(s(t));return u(n,e>>>0||(d(f,n)?16:10))}:u},21574:(t,e,n)=>{"use strict";var r=n(19781),i=n(1702),o=n(46916),s=n(47293),a=n(81956),h=n(25181),u=n(55296),l=n(47908),c=n(68361),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||s((function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||a(f({},e)).join("")!=i}))?function(t,e){for(var n=l(t),i=arguments.length,s=1,f=h.f,d=u.f;i>s;)for(var g,m=c(arguments[s++]),y=f?p(a(m),f(m)):a(m),v=y.length,_=0;v>_;)g=y[_++],r&&!o(d,m,g)||(n[g]=m[g]);return n}:f},70030:(t,e,n)=>{var r,i=n(19670),o=n(36048),s=n(80748),a=n(3501),h=n(60490),u=n(80317),l=n(6200)("IE_PROTO"),c=function(){},f=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&r?d(r):((e=u("iframe")).style.display="none",h.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):d(r);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=i(t),n=new c,c.prototype=null,n[l]=t):n=p(),void 0===e?n:o.f(n,e)}},36048:(t,e,n)=>{var r=n(19781),i=n(3353),o=n(3070),s=n(19670),a=n(45656),h=n(81956);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=h(e),u=i.length,l=0;u>l;)o.f(t,n=i[l++],r[n]);return t}},3070:(t,e,n)=>{var r=n(17854),i=n(19781),o=n(64664),s=n(3353),a=n(19670),h=n(34948),u=r.TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor;e.f=i?s?function(t,e,n){if(a(t),e=h(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=c(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=h(e),a(n),o)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},31236:(t,e,n)=>{var r=n(19781),i=n(46916),o=n(55296),s=n(79114),a=n(45656),h=n(34948),u=n(92597),l=n(64664),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=h(e),l)try{return c(t,e)}catch(t){}if(u(t,e))return s(!i(o.f,t,e),t[e])}},1156:(t,e,n)=>{var r=n(84326),i=n(45656),o=n(8006).f,s=n(41589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return s(a)}}(t):o(i(t))}},8006:(t,e,n)=>{var r=n(16324),i=n(80748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},25181:(t,e)=>{e.f=Object.getOwnPropertySymbols},79518:(t,e,n)=>{var r=n(17854),i=n(92597),o=n(60614),s=n(47908),a=n(6200),h=n(49920),u=a("IE_PROTO"),l=r.Object,c=l.prototype;t.exports=h?l.getPrototypeOf:function(t){var e=s(t);if(i(e,u))return e[u];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?c:null}},47976:(t,e,n)=>{var r=n(1702);t.exports=r({}.isPrototypeOf)},16324:(t,e,n)=>{var r=n(1702),i=n(92597),o=n(45656),s=n(41318).indexOf,a=n(3501),h=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&h(l,n);for(;e.length>u;)i(r,n=e[u++])&&(~s(l,n)||h(l,n));return l}},81956:(t,e,n)=>{var r=n(16324),i=n(80748);t.exports=Object.keys||function(t){return r(t,i)}},55296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},27674:(t,e,n)=>{var r=n(1702),i=n(19670),o=n(96077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},90288:(t,e,n)=>{"use strict";var r=n(51694),i=n(70648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},92140:(t,e,n)=>{var r=n(17854),i=n(46916),o=n(60614),s=n(70111),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!s(r=i(n,t)))return r;if(o(n=t.valueOf)&&!s(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!s(r=i(n,t)))return r;throw a("Can't convert object to primitive value")}},53887:(t,e,n)=>{var r=n(35005),i=n(1702),o=n(8006),s=n(25181),a=n(19670),h=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?h(e,n(t)):e}},40857:(t,e,n)=>{var r=n(17854);t.exports=r},12534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},63702:(t,e,n)=>{var r=n(17854),i=n(2492),o=n(60614),s=n(54705),a=n(42788),h=n(5112),u=n(7871),l=n(31913),c=n(7392),f=i&&i.prototype,d=h("species"),p=!1,g=o(r.PromiseRejectionEvent),m=s("Promise",(function(){var t=a(i),e=t!==String(i);if(!e&&66===c)return!0;if(l&&(!f.catch||!f.finally))return!0;if(c>=51&&/native code/.test(t))return!1;var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[d]=r,!(p=n.then((function(){}))instanceof r)||!e&&u&&!g}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},2492:(t,e,n)=>{var r=n(17854);t.exports=r.Promise},69478:(t,e,n)=>{var r=n(19670),i=n(70111),o=n(78523);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},80612:(t,e,n)=>{var r=n(2492),i=n(17072),o=n(63702).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},2626:(t,e,n)=>{var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},18572:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},97651:(t,e,n)=>{var r=n(17854),i=n(46916),o=n(19670),s=n(60614),a=n(84326),h=n(22261),u=r.TypeError;t.exports=function(t,e){var n=t.exec;if(s(n)){var r=i(n,t,e);return null!==r&&o(r),r}if("RegExp"===a(t))return i(h,t,e);throw u("RegExp#exec called on incompatible receiver")}},22261:(t,e,n)=>{"use strict";var r,i,o=n(46916),s=n(1702),a=n(41340),h=n(67066),u=n(52999),l=n(72309),c=n(70030),f=n(29909).get,d=n(9441),p=n(38173),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,v=s("".charAt),_=s("".indexOf),b=s("".replace),w=s("".slice),x=(i=/b*/g,o(m,r=/a/,"a"),o(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),M=u.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(x||E||M||d||p)&&(y=function(t){var e,n,r,i,s,u,l,d=this,p=f(d),S=a(t),C=p.raw;if(C)return C.lastIndex=d.lastIndex,e=o(y,C,S),d.lastIndex=C.lastIndex,e;var I=p.groups,A=M&&d.sticky,P=o(h,d),O=d.source,k=0,R=S;if(A&&(P=b(P,"y",""),-1===_(P,"g")&&(P+="g"),R=w(S,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==v(S,d.lastIndex-1))&&(O="(?: "+O+")",R=" "+R,k++),n=new RegExp("^(?:"+O+")",P)),E&&(n=new RegExp("^"+O+"$(?!\\s)",P)),x&&(r=d.lastIndex),i=o(m,A?n:d,R),A?i?(i.input=w(i.input,k),i[0]=w(i[0],k),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:x&&i&&(d.lastIndex=d.global?i.index+i[0].length:r),E&&i&&i.length>1&&o(g,i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&I)for(i.groups=u=c(null),s=0;s<I.length;s++)u[(l=I[s])[0]]=i[l[1]];return i}),t.exports=y},67066:(t,e,n)=>{"use strict";var r=n(19670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},34706:(t,e,n)=>{var r=n(46916),i=n(92597),o=n(47976),s=n(67066),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||i(t,"flags")||!o(a,t)?e:r(s,t)}},52999:(t,e,n)=>{var r=n(47293),i=n(17854).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=o||r((function(){return!i("a","y").sticky})),a=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},9441:(t,e,n)=>{var r=n(47293),i=n(17854).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},38173:(t,e,n)=>{var r=n(47293),i=n(17854).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},84488:(t,e,n)=>{var r=n(17854).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},17152:(t,e,n)=>{var r=n(17854),i=n(22104),o=n(60614),s=n(88113),a=n(50206),h=n(48053),u=/MSIE .\./.test(s),l=r.Function,c=function(t){return u?function(e,n){var r=h(arguments.length,1)>2,s=o(e)?e:l(e),u=r?a(arguments,2):void 0;return t(r?function(){i(s,this,u)}:s,n)}:t};t.exports={setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)}},96340:(t,e,n)=>{"use strict";var r=n(35005),i=n(3070),o=n(5112),s=n(19781),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},58003:(t,e,n)=>{var r=n(3070).f,i=n(92597),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},6200:(t,e,n)=>{var r=n(72309),i=n(69711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,n)=>{var r=n(17854),i=n(13072),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},72309:(t,e,n)=>{var r=n(31913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.7",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.7/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:(t,e,n)=>{var r=n(19670),i=n(39483),o=n(5112)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},28710:(t,e,n)=>{var r=n(1702),i=n(19303),o=n(41340),s=n(84488),a=r("".charAt),h=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,n){var r,l,c=o(s(e)),f=i(n),d=c.length;return f<0||f>=d?t?"":void 0:(r=h(c,f))<55296||r>56319||f+1===d||(l=h(c,f+1))<56320||l>57343?t?a(c,f):r:t?u(c,f,f+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},76091:(t,e,n)=>{var r=n(76530).PROPER,i=n(47293),o=n(81361);t.exports=function(t){return i((function(){return!!o[t]()||""!==""[t]()||r&&o[t].name!==t}))}},53111:(t,e,n)=>{var r=n(1702),i=n(84488),o=n(41340),s=n(81361),a=r("".replace),h="["+s+"]",u=RegExp("^"+h+h+"*"),l=RegExp(h+h+"*$"),c=function(t){return function(e){var n=o(i(e));return 1&t&&(n=a(n,u,"")),2&t&&(n=a(n,l,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},56532:(t,e,n)=>{var r=n(46916),i=n(35005),o=n(5112),s=n(98052);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,a=o("toPrimitive");e&&!e[a]&&s(e,a,(function(t){return r(n,this)}),{arity:1})}},20261:(t,e,n)=>{var r,i,o,s,a=n(17854),h=n(22104),u=n(49974),l=n(60614),c=n(92597),f=n(47293),d=n(60490),p=n(50206),g=n(80317),m=n(48053),y=n(6833),v=n(35268),_=a.setImmediate,b=a.clearImmediate,w=a.process,x=a.Dispatch,M=a.Function,E=a.MessageChannel,S=a.String,C=0,I={};try{r=a.location}catch(t){}var A=function(t){if(c(I,t)){var e=I[t];delete I[t],e()}},P=function(t){return function(){A(t)}},O=function(t){A(t.data)},k=function(t){a.postMessage(S(t),r.protocol+"//"+r.host)};_&&b||(_=function(t){m(arguments.length,1);var e=l(t)?t:M(t),n=p(arguments,1);return I[++C]=function(){h(e,void 0,n)},i(C),C},b=function(t){delete I[t]},v?i=function(t){w.nextTick(P(t))}:x&&x.now?i=function(t){x.now(P(t))}:E&&!y?(s=(o=new E).port2,o.port1.onmessage=O,i=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(k)?(i=k,a.addEventListener("message",O,!1)):i="onreadystatechange"in g("script")?function(t){d.appendChild(g("script")).onreadystatechange=function(){d.removeChild(this),A(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:_,clear:b}},51400:(t,e,n)=>{var r=n(19303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},57067:(t,e,n)=>{var r=n(17854),i=n(19303),o=n(17466),s=r.RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw s("Wrong length or index");return n}},45656:(t,e,n)=>{var r=n(68361),i=n(84488);t.exports=function(t){return r(i(t))}},19303:(t,e,n)=>{var r=n(74758);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},17466:(t,e,n)=>{var r=n(19303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},47908:(t,e,n)=>{var r=n(17854),i=n(84488),o=r.Object;t.exports=function(t){return o(i(t))}},84590:(t,e,n)=>{var r=n(17854),i=n(73002),o=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw o("Wrong offset");return n}},73002:(t,e,n)=>{var r=n(17854),i=n(19303),o=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw o("The argument can't be less than 0");return e}},57593:(t,e,n)=>{var r=n(17854),i=n(46916),o=n(70111),s=n(52190),a=n(58173),h=n(92140),u=n(5112),l=r.TypeError,c=u("toPrimitive");t.exports=function(t,e){if(!o(t)||s(t))return t;var n,r=a(t,c);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),h(t,e)}},34948:(t,e,n)=>{var r=n(57593),i=n(52190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},51694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},41340:(t,e,n)=>{var r=n(17854),i=n(70648),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},66330:(t,e,n)=>{var r=n(17854).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},19843:(t,e,n)=>{"use strict";var r=n(82109),i=n(17854),o=n(46916),s=n(19781),a=n(63832),h=n(90260),u=n(13331),l=n(25787),c=n(79114),f=n(68880),d=n(55988),p=n(17466),g=n(57067),m=n(84590),y=n(34948),v=n(92597),_=n(70648),b=n(70111),w=n(52190),x=n(70030),M=n(47976),E=n(27674),S=n(8006).f,C=n(97321),I=n(42092).forEach,A=n(96340),P=n(3070),O=n(31236),k=n(29909),R=n(79587),L=k.get,T=k.set,N=P.f,D=O.f,F=Math.round,j=i.RangeError,B=u.ArrayBuffer,G=B.prototype,q=u.DataView,U=h.NATIVE_ARRAY_BUFFER_VIEWS,z=h.TYPED_ARRAY_CONSTRUCTOR,Z=h.TYPED_ARRAY_TAG,V=h.TypedArray,X=h.TypedArrayPrototype,W=h.aTypedArrayConstructor,Y=h.isTypedArray,H="BYTES_PER_ELEMENT",$="Wrong length",K=function(t,e){W(t);for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i},J=function(t,e){N(t,e,{get:function(){return L(this)[e]}})},Q=function(t){var e;return M(G,t)||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},tt=function(t,e){return Y(t)&&!w(e)&&e in t&&d(+e)&&e>=0},et=function(t,e){return e=y(e),tt(t,e)?c(2,t[e]):D(t,e)},nt=function(t,e,n){return e=y(e),!(tt(t,e)&&b(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?N(t,e,n):(t[e]=n.value,t)};s?(U||(O.f=et,P.f=nt,J(X,"buffer"),J(X,"byteOffset"),J(X,"byteLength"),J(X,"length")),r({target:"Object",stat:!0,forced:!U},{getOwnPropertyDescriptor:et,defineProperty:nt}),t.exports=function(t,e,n){var s=t.match(/\d+$/)[0]/8,h=t+(n?"Clamped":"")+"Array",u="get"+t,c="set"+t,d=i[h],y=d,v=y&&y.prototype,_={},w=function(t,e){N(t,e,{get:function(){return function(t,e){var n=L(t);return n.view[u](e*s+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=L(t);n&&(r=(r=F(r))<0?0:r>255?255:255&r),i.view[c](e*s+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};U?a&&(y=e((function(t,e,n,r){return l(t,v),R(b(e)?Q(e)?void 0!==r?new d(e,m(n,s),r):void 0!==n?new d(e,m(n,s)):new d(e):Y(e)?K(y,e):o(C,y,e):new d(g(e)),t,y)})),E&&E(y,V),I(S(d),(function(t){t in y||f(y,t,d[t])})),y.prototype=v):(y=e((function(t,e,n,r){l(t,v);var i,a,h,u=0,c=0;if(b(e)){if(!Q(e))return Y(e)?K(y,e):o(C,y,e);i=e,c=m(n,s);var f=e.byteLength;if(void 0===r){if(f%s)throw j($);if((a=f-c)<0)throw j($)}else if((a=p(r)*s)+c>f)throw j($);h=a/s}else h=g(e),i=new B(a=h*s);for(T(t,{buffer:i,byteOffset:c,byteLength:a,length:h,view:new q(i)});u<h;)w(t,u++)})),E&&E(y,V),v=y.prototype=x(X)),v.constructor!==y&&f(v,"constructor",y),f(v,z,y),Z&&f(v,Z,h);var M=y!=d;_[h]=y,r({global:!0,constructor:!0,forced:M,sham:!U},_),H in y||f(y,H,s),H in v||f(v,H,s),A(h)}):t.exports=function(){}},63832:(t,e,n)=>{var r=n(17854),i=n(47293),o=n(17072),s=n(90260).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,h=r.Int8Array;t.exports=!s||!i((function(){h(1)}))||!i((function(){new h(-1)}))||!o((function(t){new h,new h(null),new h(1.5),new h(t)}),!0)||i((function(){return 1!==new h(new a(2),1,void 0).length}))},43074:(t,e,n)=>{var r=n(97745),i=n(66304);t.exports=function(t,e){return r(i(t),e)}},97321:(t,e,n)=>{var r=n(49974),i=n(46916),o=n(39483),s=n(47908),a=n(26244),h=n(18554),u=n(71246),l=n(97659),c=n(90260).aTypedArrayConstructor;t.exports=function(t){var e,n,f,d,p,g,m=o(this),y=s(t),v=arguments.length,_=v>1?arguments[1]:void 0,b=void 0!==_,w=u(y);if(w&&!l(w))for(g=(p=h(y,w)).next,y=[];!(d=i(g,p)).done;)y.push(d.value);for(b&&v>2&&(_=r(_,arguments[2])),n=a(y),f=new(c(m))(n),e=0;n>e;e++)f[e]=b?_(y[e],e):y[e];return f}},66304:(t,e,n)=>{var r=n(90260),i=n(36707),o=r.TYPED_ARRAY_CONSTRUCTOR,s=r.aTypedArrayConstructor;t.exports=function(t){return s(i(t,t[o]))}},69711:(t,e,n)=>{var r=n(1702),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},43307:(t,e,n)=>{var r=n(30133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,n)=>{var r=n(19781),i=n(47293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48053:(t,e,n)=>{var r=n(17854).TypeError;t.exports=function(t,e){if(t<e)throw r("Not enough arguments");return t}},6061:(t,e,n)=>{var r=n(5112);e.f=r},5112:(t,e,n)=>{var r=n(17854),i=n(72309),o=n(92597),s=n(69711),a=n(30133),h=n(43307),u=i("wks"),l=r.Symbol,c=l&&l.for,f=h?l:l&&l.withoutSetter||s;t.exports=function(t){if(!o(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&o(l,t)?u[t]=l[t]:u[t]=h&&c?c(e):f(e)}return u[t]}},81361:t=>{t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},18264:(t,e,n)=>{"use strict";var r=n(82109),i=n(17854),o=n(13331),s=n(96340),a=o.ArrayBuffer;r({global:!0,constructor:!0,forced:i.ArrayBuffer!==a},{ArrayBuffer:a}),s("ArrayBuffer")},39575:(t,e,n)=>{"use strict";var r=n(82109),i=n(1702),o=n(47293),s=n(13331),a=n(19670),h=n(51400),u=n(17466),l=n(36707),c=s.ArrayBuffer,f=s.DataView,d=f.prototype,p=i(c.prototype.slice),g=i(d.getUint8),m=i(d.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(p&&void 0===e)return p(a(this),t);for(var n=a(this).byteLength,r=h(t,n),i=h(void 0===e?n:e,n),o=new(l(this,c))(u(i-r)),s=new f(this),d=new f(o),y=0;r<i;)m(d,y++,g(s,r++));return o}})},92222:(t,e,n)=>{"use strict";var r=n(82109),i=n(17854),o=n(47293),s=n(43157),a=n(70111),h=n(47908),u=n(26244),l=n(86135),c=n(65417),f=n(81194),d=n(5112),p=n(7392),g=d("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",v=i.TypeError,_=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=f("concat"),w=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)};r({target:"Array",proto:!0,arity:1,forced:!_||!b},{concat:function(t){var e,n,r,i,o,s=h(this),a=c(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(w(o=-1===e?s:arguments[e])){if(f+(i=u(o))>m)throw v(y);for(n=0;n<i;n++,f++)n in o&&l(a,f,o[n])}else{if(f>=m)throw v(y);l(a,f++,o)}return a.length=f,a}})},26541:(t,e,n)=>{"use strict";var r=n(82109),i=n(42092).every;r({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},43290:(t,e,n)=>{var r=n(82109),i=n(21285),o=n(51223);r({target:"Array",proto:!0},{fill:i}),o("fill")},57327:(t,e,n)=>{"use strict";var r=n(82109),i=n(42092).filter;r({target:"Array",proto:!0,forced:!n(81194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},34553:(t,e,n)=>{"use strict";var r=n(82109),i=n(42092).findIndex,o=n(51223),s="findIndex",a=!0;s in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},89554:(t,e,n)=>{"use strict";var r=n(82109),i=n(18533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},91038:(t,e,n)=>{var r=n(82109),i=n(48457);r({target:"Array",stat:!0,forced:!n(17072)((function(t){Array.from(t)}))},{from:i})},82772:(t,e,n)=>{"use strict";var r=n(82109),i=n(1702),o=n(41318).indexOf,s=n(9341),a=i([].indexOf),h=!!a&&1/a([1],1,-0)<0,u=s("indexOf");r({target:"Array",proto:!0,forced:h||!u},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return h?a(this,t,e)||0:o(this,t,e)}})},79753:(t,e,n)=>{n(82109)({target:"Array",stat:!0},{isArray:n(43157)})},66992:(t,e,n)=>{"use strict";var r=n(45656),i=n(51223),o=n(97497),s=n(29909),a=n(3070).f,h=n(70654),u=n(31913),l=n(19781),c="Array Iterator",f=s.set,d=s.getterFor(c);t.exports=h(Array,"Array",(function(t,e){f(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(t){}},69600:(t,e,n)=>{"use strict";var r=n(82109),i=n(1702),o=n(68361),s=n(45656),a=n(9341),h=i([].join),u=o!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(t){return h(s(this),void 0===t?",":t)}})},21249:(t,e,n)=>{"use strict";var r=n(82109),i=n(42092).map;r({target:"Array",proto:!0,forced:!n(81194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},85827:(t,e,n)=>{"use strict";var r=n(82109),i=n(53671).left,o=n(9341),s=n(7392),a=n(35268);r({target:"Array",proto:!0,forced:!o("reduce")||!a&&s>79&&s<83},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},65069:(t,e,n)=>{"use strict";var r=n(82109),i=n(1702),o=n(43157),s=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},47042:(t,e,n)=>{"use strict";var r=n(82109),i=n(17854),o=n(43157),s=n(4411),a=n(70111),h=n(51400),u=n(26244),l=n(45656),c=n(86135),f=n(5112),d=n(81194),p=n(50206),g=d("slice"),m=f("species"),y=i.Array,v=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var n,r,i,f=l(this),d=u(f),g=h(t,d),_=h(void 0===e?d:e,d);if(o(f)&&(n=f.constructor,(s(n)&&(n===y||o(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===y||void 0===n))return p(f,g,_);for(r=new(void 0===n?y:n)(v(_-g,0)),i=0;g<_;g++,i++)g in f&&c(r,i,f[g]);return r.length=i,r}})},5212:(t,e,n)=>{"use strict";var r=n(82109),i=n(42092).some;r({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2707:(t,e,n)=>{"use strict";var r=n(82109),i=n(1702),o=n(19662),s=n(47908),a=n(26244),h=n(41340),u=n(47293),l=n(94362),c=n(9341),f=n(68886),d=n(30256),p=n(7392),g=n(98008),m=[],y=i(m.sort),v=i(m.push),_=u((function(){m.sort(void 0)})),b=u((function(){m.sort(null)})),w=c("sort"),x=!u((function(){if(p)return p<70;if(!(f&&f>3)){if(d)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:_||!b||!w||!x},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(x)return void 0===t?y(e):y(e,t);var n,r,i=[],u=a(e);for(r=0;r<u;r++)r in e&&v(i,e[r]);for(l(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:h(e)>h(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<u;)delete e[r++];return e}})},40561:(t,e,n)=>{"use strict";var r=n(82109),i=n(17854),o=n(51400),s=n(19303),a=n(26244),h=n(47908),u=n(65417),l=n(86135),c=n(81194)("splice"),f=i.TypeError,d=Math.max,p=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!c},{splice:function(t,e){var n,r,i,c,y,v,_=h(this),b=a(_),w=o(t,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-w):(n=x-2,r=p(d(s(e),0),b-w)),b+n-r>g)throw f(m);for(i=u(_,r),c=0;c<r;c++)(y=w+c)in _&&l(i,c,_[y]);if(i.length=r,n<r){for(c=w;c<b-r;c++)v=c+n,(y=c+r)in _?_[v]=_[y]:delete _[v];for(c=b;c>b-r+n;c--)delete _[c-1]}else if(n>r)for(c=b-r;c>w;c--)v=c+n-1,(y=c+r-1)in _?_[v]=_[y]:delete _[v];for(c=0;c<n;c++)_[c+w]=arguments[c+2];return _.length=b-r+n,i}})},3843:(t,e,n)=>{var r=n(82109),i=n(17854),o=n(1702),s=i.Date,a=o(s.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new s)}})},83710:(t,e,n)=>{var r=n(1702),i=n(98052),o=Date.prototype,s="Invalid Date",a=r(o.toString),h=r(o.getTime);String(new Date(NaN))!=s&&i(o,"toString",(function(){var t=h(this);return t==t?a(this):s}))},24812:(t,e,n)=>{var r=n(82109),i=n(27065);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},68309:(t,e,n)=>{var r=n(19781),i=n(76530).EXISTS,o=n(1702),s=n(3070).f,a=Function.prototype,h=o(a.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(u.exec);r&&!i&&s(a,"name",{configurable:!0,get:function(){try{return l(u,h(this))[1]}catch(t){return""}}})},38862:(t,e,n)=>{var r=n(82109),i=n(35005),o=n(22104),s=n(46916),a=n(1702),h=n(47293),u=n(43157),l=n(60614),c=n(70111),f=n(52190),d=n(50206),p=n(30133),g=i("JSON","stringify"),m=a(/./.exec),y=a("".charAt),v=a("".charCodeAt),_=a("".replace),b=a(1..toString),w=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,E=!p||h((function(){var t=i("Symbol")();return"[null]"!=g([t])||"{}"!=g({a:t})||"{}"!=g(Object(t))})),S=h((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),C=function(t,e){var n=d(arguments),r=e;if((c(e)||void 0!==t)&&!f(t))return u(e)||(e=function(t,e){if(l(r)&&(e=s(r,this,t,e)),!f(e))return e}),n[1]=e,o(g,null,n)},I=function(t,e,n){var r=y(n,e-1),i=y(n,e+1);return m(x,t)&&!m(M,i)||m(M,t)&&!m(x,r)?"\\u"+b(v(t,0),16):t};g&&r({target:"JSON",stat:!0,arity:3,forced:E||S},{stringify:function(t,e,n){var r=d(arguments),i=o(E?C:g,null,r);return S&&"string"==typeof i?_(i,w,I):i}})},73706:(t,e,n)=>{var r=n(17854);n(58003)(r.JSON,"JSON",!0)},44914:(t,e,n)=>{var r=n(82109),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},10408:(t,e,n)=>{n(58003)(Math,"Math",!0)},19601:(t,e,n)=>{var r=n(82109),i=n(21574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},78011:(t,e,n)=>{n(82109)({target:"Object",stat:!0,sham:!n(19781)},{create:n(70030)})},69070:(t,e,n)=>{var r=n(82109),i=n(19781),o=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},29660:(t,e,n)=>{var r=n(82109),i=n(30133),o=n(47293),s=n(25181),a=n(47908);r({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},30489:(t,e,n)=>{var r=n(82109),i=n(47293),o=n(47908),s=n(79518),a=n(49920);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},47941:(t,e,n)=>{var r=n(82109),i=n(47908),o=n(81956);r({target:"Object",stat:!0,forced:n(47293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},68304:(t,e,n)=>{n(82109)({target:"Object",stat:!0},{setPrototypeOf:n(27674)})},41539:(t,e,n)=>{var r=n(51694),i=n(98052),o=n(90288);r||i(Object.prototype,"toString",o,{unsafe:!0})},91058:(t,e,n)=>{var r=n(82109),i=n(83009);r({global:!0,forced:parseInt!=i},{parseInt:i})},70821:(t,e,n)=>{"use strict";var r=n(82109),i=n(46916),o=n(19662),s=n(78523),a=n(12534),h=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{all:function(t){var e=this,n=s.f(e),r=n.resolve,u=n.reject,l=a((function(){var n=o(e.resolve),s=[],a=0,l=1;h(t,(function(t){var o=a++,h=!1;l++,i(n,e,t).then((function(t){h||(h=!0,s[o]=t,--l||r(s))}),u)})),--l||r(s)}));return l.error&&u(l.value),n.promise}})},94164:(t,e,n)=>{"use strict";var r=n(82109),i=n(31913),o=n(63702).CONSTRUCTOR,s=n(2492),a=n(35005),h=n(60614),u=n(98052),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&h(s)){var c=a("Promise").prototype.catch;l.catch!==c&&u(l,"catch",c,{unsafe:!0})}},43401:(t,e,n)=>{"use strict";var r,i,o,s=n(82109),a=n(31913),h=n(35268),u=n(17854),l=n(46916),c=n(98052),f=n(27674),d=n(58003),p=n(96340),g=n(19662),m=n(60614),y=n(70111),v=n(25787),_=n(36707),b=n(20261).set,w=n(95948),x=n(842),M=n(12534),E=n(18572),S=n(29909),C=n(2492),I=n(63702),A=n(78523),P="Promise",O=I.CONSTRUCTOR,k=I.REJECTION_EVENT,R=I.SUBCLASSING,L=S.getterFor(P),T=S.set,N=C&&C.prototype,D=C,F=N,j=u.TypeError,B=u.document,G=u.process,q=A.f,U=q,z=!!(B&&B.createEvent&&u.dispatchEvent),Z="unhandledrejection",V=function(t){var e;return!(!y(t)||!m(e=t.then))&&e},X=function(t,e){var n,r,i,o=e.value,s=1==e.state,a=s?t.ok:t.fail,h=t.resolve,u=t.reject,c=t.domain;try{a?(s||(2===e.rejection&&K(e),e.rejection=1),!0===a?n=o:(c&&c.enter(),n=a(o),c&&(c.exit(),i=!0)),n===t.promise?u(j("Promise-chain cycle")):(r=V(n))?l(r,n,h,u):h(n)):u(o)}catch(t){c&&!i&&c.exit(),u(t)}},W=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)X(n,t);t.notified=!1,e&&!t.rejection&&H(t)})))},Y=function(t,e,n){var r,i;z?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!k&&(i=u["on"+t])?i(r):t===Z&&x("Unhandled promise rejection",n)},H=function(t){l(b,u,(function(){var e,n=t.facade,r=t.value;if($(t)&&(e=M((function(){h?G.emit("unhandledRejection",r,n):Y(Z,n,r)})),t.rejection=h||$(t)?2:1,e.error))throw e.value}))},$=function(t){return 1!==t.rejection&&!t.parent},K=function(t){l(b,u,(function(){var e=t.facade;h?G.emit("rejectionHandled",e):Y("rejectionhandled",e,t.value)}))},J=function(t,e,n){return function(r){t(e,r,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,W(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw j("Promise can't be resolved itself");var r=V(e);r?w((function(){var n={done:!1};try{l(r,e,J(tt,n,t),J(Q,n,t))}catch(e){Q(n,e,t)}})):(t.value=e,t.state=1,W(t,!1))}catch(e){Q({done:!1},e,t)}}};if(O&&(F=(D=function(t){v(this,F),g(t),l(r,this);var e=L(this);try{t(J(tt,e),J(Q,e))}catch(t){Q(e,t)}}).prototype,(r=function(t){T(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=c(F,"then",(function(t,e){var n=L(this),r=q(_(this,D));return n.parent=!0,r.ok=!m(t)||t,r.fail=m(e)&&e,r.domain=h?G.domain:void 0,0==n.state?n.reactions.add(r):w((function(){X(r,n)})),r.promise})),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=J(tt,e),this.reject=J(Q,e)},A.f=q=function(t){return t===D||void 0===t?new i(t):U(t)},!a&&m(C)&&N!==Object.prototype)){o=N.then,R||c(N,"then",(function(t,e){var n=this;return new D((function(t,e){l(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete N.constructor}catch(t){}f&&f(N,F)}s({global:!0,constructor:!0,wrap:!0,forced:O},{Promise:D}),d(D,P,!1,!0),p(P)},88674:(t,e,n)=>{n(43401),n(70821),n(94164),n(6027),n(60683),n(96294)},6027:(t,e,n)=>{"use strict";var r=n(82109),i=n(46916),o=n(19662),s=n(78523),a=n(12534),h=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{race:function(t){var e=this,n=s.f(e),r=n.reject,u=a((function(){var s=o(e.resolve);h(t,(function(t){i(s,e,t).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},60683:(t,e,n)=>{"use strict";var r=n(82109),i=n(46916),o=n(78523);r({target:"Promise",stat:!0,forced:n(63702).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},96294:(t,e,n)=>{"use strict";var r=n(82109),i=n(35005),o=n(31913),s=n(2492),a=n(63702).CONSTRUCTOR,h=n(69478),u=i("Promise"),l=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(t){return h(l&&this===u?s:this,t)}})},12419:(t,e,n)=>{var r=n(82109),i=n(35005),o=n(22104),s=n(27065),a=n(39483),h=n(19670),u=n(70111),l=n(70030),c=n(47293),f=i("Reflect","construct"),d=Object.prototype,p=[].push,g=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),m=!c((function(){f((function(){}))})),y=g||m;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){a(t),h(e);var n=arguments.length<3?t:a(arguments[2]);if(m&&!g)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(s,t,r))}var i=n.prototype,c=l(u(i)?i:d),y=o(t,c,e);return u(y)?y:c}})},24603:(t,e,n)=>{var r=n(19781),i=n(17854),o=n(1702),s=n(54705),a=n(79587),h=n(68880),u=n(8006).f,l=n(47976),c=n(47850),f=n(41340),d=n(34706),p=n(52999),g=n(2626),m=n(98052),y=n(47293),v=n(92597),_=n(29909).enforce,b=n(96340),w=n(5112),x=n(9441),M=n(38173),E=w("match"),S=i.RegExp,C=S.prototype,I=i.SyntaxError,A=o(C.exec),P=o("".charAt),O=o("".replace),k=o("".indexOf),R=o("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,N=/a/g,D=new S(T)!==T,F=p.MISSED_STICKY,j=p.UNSUPPORTED_Y;if(s("RegExp",r&&(!D||F||x||M||y((function(){return N[E]=!1,S(T)!=T||S(N)==N||"/a/i"!=S(T,"i")}))))){for(var B=function(t,e){var n,r,i,o,s,u,p=l(C,this),g=c(t),m=void 0===e,y=[],b=t;if(!p&&g&&m&&t.constructor===B)return t;if((g||l(C,t))&&(t=t.source,m&&(e=d(b))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),b=t,x&&"dotAll"in T&&(r=!!e&&k(e,"s")>-1)&&(e=O(e,/s/g,"")),n=e,F&&"sticky"in T&&(i=!!e&&k(e,"y")>-1)&&j&&(e=O(e,/y/g,"")),M&&(o=function(t){for(var e,n=t.length,r=0,i="",o=[],s={},a=!1,h=!1,u=0,l="";r<=n;r++){if("\\"===(e=P(t,r)))e+=P(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:A(L,R(t,r+1))&&(r+=2,h=!0),i+=e,u++;continue;case">"===e&&h:if(""===l||v(s,l))throw new I("Invalid capture group name");s[l]=!0,o[o.length]=[l,u],h=!1,l="";continue}h?l+=e:i+=e}return[i,o]}(t),t=o[0],y=o[1]),s=a(S(t,e),p?this:C,B),(r||i||y.length)&&(u=_(s),r&&(u.dotAll=!0,u.raw=B(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=P(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+P(t,++r);return i}(t),n)),i&&(u.sticky=!0),y.length&&(u.groups=y)),t!==b)try{h(s,"source",""===b?"(?:)":b)}catch(t){}return s},G=u(S),q=0;G.length>q;)g(B,S,G[q++]);C.constructor=B,B.prototype=C,m(i,"RegExp",B,{constructor:!0})}b("RegExp")},74916:(t,e,n)=>{"use strict";var r=n(82109),i=n(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},39714:(t,e,n)=>{"use strict";var r=n(76530).PROPER,i=n(98052),o=n(19670),s=n(41340),a=n(47293),h=n(34706),u="toString",l=RegExp.prototype.toString,c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=r&&l.name!=u;(c||f)&&i(RegExp.prototype,u,(function(){var t=o(this);return"/"+s(t.source)+"/"+s(h(t))}),{unsafe:!0})},78783:(t,e,n)=>{"use strict";var r=n(28710).charAt,i=n(41340),o=n(29909),s=n(70654),a="String Iterator",h=o.set,u=o.getterFor(a);s(String,"String",(function(t){h(this,{type:a,string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},4723:(t,e,n)=>{"use strict";var r=n(46916),i=n(27007),o=n(19670),s=n(17466),a=n(41340),h=n(84488),u=n(58173),l=n(31530),c=n(97651);i("match",(function(t,e,n){return[function(e){var n=h(this),i=null==e?void 0:u(e,t);return i?r(i,e,n):new RegExp(e)[t](a(n))},function(t){var r=o(this),i=a(t),h=n(e,r,i);if(h.done)return h.value;if(!r.global)return c(r,i);var u=r.unicode;r.lastIndex=0;for(var f,d=[],p=0;null!==(f=c(r,i));){var g=a(f[0]);d[p]=g,""===g&&(r.lastIndex=l(i,s(r.lastIndex),u)),p++}return 0===p?null:d}]}))},15306:(t,e,n)=>{"use strict";var r=n(22104),i=n(46916),o=n(1702),s=n(27007),a=n(47293),h=n(19670),u=n(60614),l=n(19303),c=n(17466),f=n(41340),d=n(84488),p=n(31530),g=n(58173),m=n(10647),y=n(97651),v=n(5112)("replace"),_=Math.max,b=Math.min,w=o([].concat),x=o([].push),M=o("".indexOf),E=o("".slice),S="$0"==="a".replace(/./,"$0"),C=!!/./[v]&&""===/./[v]("a","$0");s("replace",(function(t,e,n){var o=C?"$":"$0";return[function(t,n){var r=d(this),o=null==t?void 0:g(t,v);return o?i(o,t,r,n):i(e,f(r),t,n)},function(t,i){var s=h(this),a=f(t);if("string"==typeof i&&-1===M(i,o)&&-1===M(i,"$<")){var d=n(e,s,a,i);if(d.done)return d.value}var g=u(i);g||(i=f(i));var v=s.global;if(v){var S=s.unicode;s.lastIndex=0}for(var C=[];;){var I=y(s,a);if(null===I)break;if(x(C,I),!v)break;""===f(I[0])&&(s.lastIndex=p(a,c(s.lastIndex),S))}for(var A,P="",O=0,k=0;k<C.length;k++){for(var R=f((I=C[k])[0]),L=_(b(l(I.index),a.length),0),T=[],N=1;N<I.length;N++)x(T,void 0===(A=I[N])?A:String(A));var D=I.groups;if(g){var F=w([R],T,L,a);void 0!==D&&x(F,D);var j=f(r(i,void 0,F))}else j=m(R,a,L,T,D,i);L>=O&&(P+=E(a,O,L)+j,O=L+R.length)}return P+E(a,O)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!S||C)},23123:(t,e,n)=>{"use strict";var r=n(22104),i=n(46916),o=n(1702),s=n(27007),a=n(47850),h=n(19670),u=n(84488),l=n(36707),c=n(31530),f=n(17466),d=n(41340),p=n(58173),g=n(41589),m=n(97651),y=n(22261),v=n(52999),_=n(47293),b=v.UNSUPPORTED_Y,w=4294967295,x=Math.min,M=[].push,E=o(/./.exec),S=o(M),C=o("".slice);s("split",(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=d(u(this)),s=void 0===n?w:n>>>0;if(0===s)return[];if(void 0===t)return[o];if(!a(t))return i(e,o,t,s);for(var h,l,c,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=new RegExp(t.source,p+"g");(h=i(y,v,o))&&!((l=v.lastIndex)>m&&(S(f,C(o,m,h.index)),h.length>1&&h.index<o.length&&r(M,f,g(h,1)),c=h[0].length,m=l,f.length>=s));)v.lastIndex===h.index&&v.lastIndex++;return m===o.length?!c&&E(v,"")||S(f,""):S(f,C(o,m)),f.length>s?g(f,0,s):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=u(this),s=null==e?void 0:p(e,t);return s?i(s,e,r,n):i(o,d(r),e,n)},function(t,r){var i=h(this),s=d(t),a=n(o,i,s,r,o!==e);if(a.done)return a.value;var u=l(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(b?"g":"y"),y=new u(b?"^(?:"+i.source+")":i,g),v=void 0===r?w:r>>>0;if(0===v)return[];if(0===s.length)return null===m(y,s)?[s]:[];for(var _=0,M=0,E=[];M<s.length;){y.lastIndex=b?0:M;var I,A=m(y,b?C(s,M):s);if(null===A||(I=x(f(y.lastIndex+(b?M:0)),s.length))===_)M=c(s,M,p);else{if(S(E,C(s,_,M)),E.length===v)return E;for(var P=1;P<=A.length-1;P++)if(S(E,A[P]),E.length===v)return E;M=_=I}}return S(E,C(s,_)),E}]}),!!_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),b)},73210:(t,e,n)=>{"use strict";var r=n(82109),i=n(53111).trim;r({target:"String",proto:!0,forced:n(76091)("trim")},{trim:function(){return i(this)}})},72443:(t,e,n)=>{n(97235)("asyncIterator")},4032:(t,e,n)=>{"use strict";var r=n(82109),i=n(17854),o=n(46916),s=n(1702),a=n(31913),h=n(19781),u=n(30133),l=n(47293),c=n(92597),f=n(47976),d=n(19670),p=n(45656),g=n(34948),m=n(41340),y=n(79114),v=n(70030),_=n(81956),b=n(8006),w=n(1156),x=n(25181),M=n(31236),E=n(3070),S=n(36048),C=n(55296),I=n(98052),A=n(72309),P=n(6200),O=n(3501),k=n(69711),R=n(5112),L=n(6061),T=n(97235),N=n(56532),D=n(58003),F=n(29909),j=n(42092).forEach,B=P("hidden"),G="Symbol",q=F.set,U=F.getterFor(G),z=Object.prototype,Z=i.Symbol,V=Z&&Z.prototype,X=i.TypeError,W=i.QObject,Y=M.f,H=E.f,$=w.f,K=C.f,J=s([].push),Q=A("symbols"),tt=A("op-symbols"),et=A("wks"),nt=!W||!W.prototype||!W.prototype.findChild,rt=h&&l((function(){return 7!=v(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(z,e);r&&delete z[e],H(t,e,n),r&&t!==z&&H(z,e,r)}:H,it=function(t,e){var n=Q[t]=v(V);return q(n,{type:G,tag:t,description:e}),h||(n.description=e),n},ot=function(t,e,n){t===z&&ot(tt,e,n),d(t);var r=g(e);return d(n),c(Q,r)?(n.enumerable?(c(t,B)&&t[B][r]&&(t[B][r]=!1),n=v(n,{enumerable:y(0,!1)})):(c(t,B)||H(t,B,y(1,{})),t[B][r]=!0),rt(t,r,n)):H(t,r,n)},st=function(t,e){d(t);var n=p(e),r=_(n).concat(lt(n));return j(r,(function(e){h&&!o(at,n,e)||ot(t,e,n[e])})),t},at=function(t){var e=g(t),n=o(K,this,e);return!(this===z&&c(Q,e)&&!c(tt,e))&&(!(n||!c(this,e)||!c(Q,e)||c(this,B)&&this[B][e])||n)},ht=function(t,e){var n=p(t),r=g(e);if(n!==z||!c(Q,r)||c(tt,r)){var i=Y(n,r);return!i||!c(Q,r)||c(n,B)&&n[B][r]||(i.enumerable=!0),i}},ut=function(t){var e=$(p(t)),n=[];return j(e,(function(t){c(Q,t)||c(O,t)||J(n,t)})),n},lt=function(t){var e=t===z,n=$(e?tt:p(t)),r=[];return j(n,(function(t){!c(Q,t)||e&&!c(z,t)||J(r,Q[t])})),r};u||(I(V=(Z=function(){if(f(V,this))throw X("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=k(t),n=function(t){this===z&&o(n,tt,t),c(this,B)&&c(this[B],e)&&(this[B][e]=!1),rt(this,e,y(1,t))};return h&&nt&&rt(z,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return U(this).tag})),I(Z,"withoutSetter",(function(t){return it(k(t),t)})),C.f=at,E.f=ot,S.f=st,M.f=ht,b.f=w.f=ut,x.f=lt,L.f=function(t){return it(R(t),t)},h&&(H(V,"description",{configurable:!0,get:function(){return U(this).description}}),a||I(z,"propertyIsEnumerable",at,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),j(_(et),(function(t){T(t)})),r({target:G,stat:!0,forced:!u},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!h},{create:function(t,e){return void 0===e?v(t):st(v(t),e)},defineProperty:ot,defineProperties:st,getOwnPropertyDescriptor:ht}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ut}),N(),D(Z,G),O[B]=!0},41817:(t,e,n)=>{"use strict";var r=n(82109),i=n(19781),o=n(17854),s=n(1702),a=n(92597),h=n(60614),u=n(47976),l=n(41340),c=n(3070).f,f=n(99920),d=o.Symbol,p=d&&d.prototype;if(i&&h(d)&&(!("description"in p)||void 0!==d().description)){var g={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(g[e]=!0),e};f(m,d),m.prototype=p,p.constructor=m;var y="Symbol(test)"==String(d("test")),v=s(p.toString),_=s(p.valueOf),b=/^Symbol\((.*)\)[^)]+$/,w=s("".replace),x=s("".slice);c(p,"description",{configurable:!0,get:function(){var t=_(this),e=v(t);if(a(g,t))return"";var n=y?x(e,7,-1):w(e,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},40763:(t,e,n)=>{var r=n(82109),i=n(35005),o=n(92597),s=n(41340),a=n(72309),h=n(30735),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!h},{for:function(t){var e=s(t);if(o(u,e))return u[e];var n=i("Symbol")(e);return u[e]=n,l[n]=e,n}})},32165:(t,e,n)=>{n(97235)("iterator")},82526:(t,e,n)=>{n(4032),n(40763),n(26620),n(38862),n(29660)},26620:(t,e,n)=>{var r=n(82109),i=n(92597),o=n(52190),s=n(66330),a=n(72309),h=n(30735),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!h},{keyFor:function(t){if(!o(t))throw TypeError(s(t)+" is not a symbol");if(i(u,t))return u[t]}})},39341:(t,e,n)=>{var r=n(35005),i=n(97235),o=n(58003);i("toStringTag"),o(r("Symbol"),"Symbol")},92990:(t,e,n)=>{"use strict";var r=n(1702),i=n(90260),o=r(n(1048)),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return o(s(this),t,e,arguments.length>2?arguments[2]:void 0)}))},18927:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},33105:(t,e,n)=>{"use strict";var r=n(90260),i=n(46916),o=n(21285),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){var e=arguments.length;return i(o,s(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}))},35035:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).filter,o=n(43074),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=i(s(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)}))},7174:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},74345:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},76495:(t,e,n)=>{n(19843)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},32846:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},44731:(t,e,n)=>{"use strict";var r=n(90260),i=n(41318).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},77209:(t,e,n)=>{"use strict";var r=n(90260),i=n(41318).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},96319:(t,e,n)=>{"use strict";var r=n(17854),i=n(47293),o=n(1702),s=n(90260),a=n(66992),h=n(5112)("iterator"),u=r.Uint8Array,l=o(a.values),c=o(a.keys),f=o(a.entries),d=s.aTypedArray,p=s.exportTypedArrayMethod,g=u&&u.prototype,m=!i((function(){g[h].call([1])})),y=!!g&&g.values&&g[h]===g.values&&"values"===g.values.name,v=function(){return l(d(this))};p("entries",(function(){return f(d(this))}),m),p("keys",(function(){return c(d(this))}),m),p("values",v,m||!y,{name:"values"}),p(h,v,m||!y,{name:"values"})},58867:(t,e,n)=>{"use strict";var r=n(90260),i=n(1702),o=r.aTypedArray,s=r.exportTypedArrayMethod,a=i([].join);s("join",(function(t){return a(o(this),t)}))},37789:(t,e,n)=>{"use strict";var r=n(90260),i=n(22104),o=n(86583),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return i(o,s(this),e>1?[t,arguments[1]]:[t])}))},33739:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).map,o=n(66304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(o(t))(e)}))}))},14483:(t,e,n)=>{"use strict";var r=n(90260),i=n(53671).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},29368:(t,e,n)=>{"use strict";var r=n(90260),i=n(53671).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},12056:(t,e,n)=>{"use strict";var r=n(90260),i=r.aTypedArray,o=r.exportTypedArrayMethod,s=Math.floor;o("reverse",(function(){for(var t,e=this,n=i(e).length,r=s(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e}))},3462:(t,e,n)=>{"use strict";var r=n(17854),i=n(46916),o=n(90260),s=n(26244),a=n(84590),h=n(47908),u=n(47293),l=r.RangeError,c=r.Int8Array,f=c&&c.prototype,d=f&&f.set,p=o.aTypedArray,g=o.exportTypedArrayMethod,m=!u((function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]})),y=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new c(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=h(t);if(m)return i(d,this,n,e);var r=this.length,o=s(n),u=0;if(o+e>r)throw l("Wrong length");for(;u<o;)this[e+u]=n[u++]}),!m||y)},30678:(t,e,n)=>{"use strict";var r=n(90260),i=n(66304),o=n(47293),s=n(50206),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(t,e){for(var n=s(a(this),t,e),r=i(this),o=0,h=n.length,u=new r(h);h>o;)u[o]=n[o++];return u}),o((function(){new Int8Array(1).slice()})))},27462:(t,e,n)=>{"use strict";var r=n(90260),i=n(42092).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},33824:(t,e,n)=>{"use strict";var r=n(17854),i=n(1702),o=n(47293),s=n(19662),a=n(94362),h=n(90260),u=n(68886),l=n(30256),c=n(7392),f=n(98008),d=h.aTypedArray,p=h.exportTypedArrayMethod,g=r.Uint16Array,m=g&&i(g.prototype.sort),y=!(!m||o((function(){m(new g(2),null)}))&&o((function(){m(new g(2),{})}))),v=!!m&&!o((function(){if(c)return c<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var t,e,n=new g(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(m(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));p("sort",(function(t){return void 0!==t&&s(t),v?m(this,t):a(d(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!v||y)},55021:(t,e,n)=>{"use strict";var r=n(90260),i=n(17466),o=n(51400),s=n(66304),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=a(this),r=n.length,h=o(t,r);return new(s(n))(n.buffer,n.byteOffset+h*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-h))}))},12974:(t,e,n)=>{"use strict";var r=n(17854),i=n(22104),o=n(90260),s=n(47293),a=n(50206),h=r.Int8Array,u=o.aTypedArray,l=o.exportTypedArrayMethod,c=[].toLocaleString,f=!!h&&s((function(){c.call(new h(1))}));l("toLocaleString",(function(){return i(c,f?a(u(this)):u(this),a(arguments))}),s((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!s((function(){h.prototype.toLocaleString.call([1,2])})))},15016:(t,e,n)=>{"use strict";var r=n(90260).exportTypedArrayMethod,i=n(47293),o=n(17854),s=n(1702),a=o.Uint8Array,h=a&&a.prototype||{},u=[].toString,l=s([].join);i((function(){u.call({})}))&&(u=function(){return l(this)});var c=h.toString!=u;r("toString",u,c)},29135:(t,e,n)=>{n(19843)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},54747:(t,e,n)=>{var r=n(17854),i=n(48324),o=n(98509),s=n(18533),a=n(68880),h=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var u in i)i[u]&&h(r[u]&&r[u].prototype);h(o)},33948:(t,e,n)=>{var r=n(17854),i=n(48324),o=n(98509),s=n(66992),a=n(68880),h=n(5112),u=h("iterator"),l=h("toStringTag"),c=s.values,f=function(t,e){if(t){if(t[u]!==c)try{a(t,u,c)}catch(e){t[u]=c}if(t[l]||a(t,l,e),i[e])for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(e){t[n]=s[n]}}};for(var d in i)f(r[d]&&r[d].prototype,d);f(o,"DOMTokenList")},96815:(t,e,n)=>{var r=n(82109),i=n(17854),o=n(17152).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},88417:(t,e,n)=>{var r=n(82109),i=n(17854),o=n(17152).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},32564:(t,e,n)=>{n(96815),n(88417)},16497:(t,e,n)=>{var r=n(48764).Buffer;function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r.isBuffer},76393:(t,e,n)=>{var r=n(48764).Buffer,i=n(86266),o=n(16426);t.exports=function(t){return new a(t)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=s[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function h(t,e,n){Array.isArray(t)||(t=t.toArray());var i=new r(t);if(n&&i.length<n){var o=new r(n-i.length);o.fill(0),i=r.concat([o,i])}return e?i.toString(e):i}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,n){return e=e||"utf8",r.isBuffer(t)||(t=new r(t,e)),h(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),h(n,t)},a.prototype.getPrivateKey=function(t){return h(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",r.isBuffer(t)||(t=new r(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",r.isBuffer(t)||(t=new r(t,e));var n=new o(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}},16426:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(8623).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),_.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(x,v),x.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return y[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},23482:(t,e,n)=>{"use strict";var r=n(35717),i=n(62318),o=n(79785),s=n(89072),a=n(71027);function h(t){a.call(this,"digest"),this._hash=t}r(h,a),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new h(s(t))}},78028:(t,e,n)=>{var r=n(62318);t.exports=function(t){return(new r).update(t).digest()}},58355:(t,e,n)=>{"use strict";var r=n(35717),i=n(51031),o=n(71027),s=n(89509).Buffer,a=n(78028),h=n(79785),u=n(89072),l=s.alloc(128);function c(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var n="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>n?e=("rmd160"===t?new h:u(t)).update(e).digest():e.length<n&&(e=s.concat([e,l],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),a=0;a<n;a++)r[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new h:u(t),this._hash.update(r)}r(c,o),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new h:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new c("rmd160",e):"md5"===t?new i(a,e):new c(t,e)}},51031:(t,e,n)=>{"use strict";var r=n(35717),i=n(89509).Buffer,o=n(71027),s=i.alloc(128),a=64;function h(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,s],a));for(var n=this._ipad=i.allocUnsafe(a),r=this._opad=i.allocUnsafe(a),h=0;h<a;h++)n[h]=54^e[h],r[h]=92^e[h];this._hash=[n]}r(h,o),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=h},54098:function(t,e){var n="undefined"!=typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function g(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=p(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=u(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[u(t)]},f.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},f.prototype.set=function(t,e){this.map[u(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),c(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),c(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(t,e){var n,r,i=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},y.call(_.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];w.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(t,n){return new Promise((function(r,o){var s=new _(t,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function h(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new w(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",h),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",h)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=f,t.Request=_,t.Response=w),e.Headers=f,e.Request=_,e.Response=w,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},55835:(t,e,n)=>{"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(61798),e.createHash=e.Hash=n(23482),e.createHmac=e.Hmac=n(58355);var r=n(56042),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var s=n(25632);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=n(53614);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var h=n(62607);e.DiffieHellmanGroup=h.DiffieHellmanGroup,e.createDiffieHellmanGroup=h.createDiffieHellmanGroup,e.getDiffieHellman=h.getDiffieHellman,e.createDiffieHellman=h.createDiffieHellman,e.DiffieHellman=h.DiffieHellman;var u=n(64743);e.createSign=u.createSign,e.Sign=u.Sign,e.createVerify=u.createVerify,e.Verify=u.Verify,e.createECDH=n(76393);var l=n(7900);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var c=n(77963);e.randomFill=c.randomFill,e.randomFillSync=c.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},10251:(t,e,n)=>{var r=n(82215),i=n(82584),o=n(20609),s=n(98420),a=n(2847),h=n(18923),u=Date.prototype.getTime;function l(t){return null==t}function c(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,n,f){var d=f||{};return!!(d.strict?o(e,n):e===n)||(!e||!n||"object"!=typeof e&&"object"!=typeof n?d.strict?o(e,n):e==n:function(e,n,o){var f,d;if(typeof e!=typeof n)return!1;if(l(e)||l(n))return!1;if(e.prototype!==n.prototype)return!1;if(i(e)!==i(n))return!1;var p=s(e),g=s(n);if(p!==g)return!1;if(p||g)return e.source===n.source&&a(e)===a(n);if(h(e)&&h(n))return u.call(e)===u.call(n);var m=c(e),y=c(n);if(m!==y)return!1;if(m||y){if(e.length!==n.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==n[f])return!1;return!0}if(typeof e!=typeof n)return!1;try{var v=r(e),_=r(n)}catch(t){return!1}if(v.length!==_.length)return!1;for(v.sort(),_.sort(),f=v.length-1;f>=0;f--)if(v[f]!=_[f])return!1;for(f=v.length-1;f>=0;f--)if(!t(e[d=v[f]],n[d],o))return!1;return!0}(e,n,d))}},12296:(t,e,n)=>{"use strict";var r=n(24429),i=n(33464),o=n(14453),s=n(27296);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new o("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],c=!!s&&s(t,e);if(r)r(t,e,{configurable:null===u&&c?c.configurable:!u,enumerable:null===a&&c?c.enumerable:!a,value:n,writable:null===h&&c?c.writable:!h});else{if(!l&&(a||h||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},4289:(t,e,n)=>{"use strict";var r=n(82215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=n(12296),h=n(31044)(),u=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())return;var i;h?a(t,e,n,!0):a(t,e,n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)u(t,o[a],e[o[a]],n[o[a]])};l.supportsDescriptors=!!h,t.exports=l},68317:t=>{function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)},63781:t=>{function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(l),a=0,h=0;h<l;h++)s[h]=0;for(var u=0;u<n;u++){var l=this.dataset[u].length;if(o===this.assignments[u]){for(h=0;h<l;h++)s[h]+=this.dataset[u][h];a++}}if(a>0){for(h=0;h<l;h++)s[h]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)},73763:(t,e,n)=>{if(t.exports)var r=n(57985);function i(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}i.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var h=new r(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,h),this._expandCluster(a,h))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},i.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},i.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},i.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},i.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},i.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},i.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=i)},57985:t=>{function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)},52606:(t,e,n)=>{t.exports&&(t.exports={DBSCAN:n(68317),KMEANS:n(63781),OPTICS:n(73763),PriorityQueue:n(57985)})},15251:(t,e,n)=>{"use strict";e.utils=n(11278),e.Cipher=n(55756),e.DES=n(70778),e.CBC=n(39051),e.EDE=n(50651)},39051:(t,e,n)=>{"use strict";var r=n(79746),i=n(35717),o={};function s(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var s=n[r];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new s(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];for(o._update.call(this,s,0,n,r),a=0;a<this.blockSize;a++)s[a]=n[r+a]}else{for(o._update.call(this,t,e,n,r),a=0;a<this.blockSize;a++)n[r+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},55756:(t,e,n)=>{"use strict";var r=n(79746);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},70778:(t,e,n)=>{"use strict";var r=n(79746),i=n(35717),o=n(11278),s=n(55756);function a(){this.tmp=new Array(2),this.keys=null}function h(t){s.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(h,s),t.exports=h,h.create=function(t){return new h(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(t,e){t.keys=new Array(32),r.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var a=u[s>>>1];n=o.r28shl(n,a),i=o.r28shl(i,a),o.pc2(n,i,t.keys,s)}},h.prototype._update=function(t,e,n,r){var i=this._desState,s=o.readUInt32BE(t,e),a=o.readUInt32BE(t,e+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(n,s,r),o.writeUInt32BE(n,a,r+4)},h.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},h.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)r.equal(t[n],e);return t.slice(0,t.length-e)},h.prototype._encrypt=function(t,e,n,r,i){for(var s=e,a=n,h=0;h<t.keys.length;h+=2){var u=t.keys[h],l=t.keys[h+1];o.expand(a,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var c=o.substitute(u,l),f=a;a=(s^o.permute(c))>>>0,s=f}o.rip(a,s,r,i)},h.prototype._decrypt=function(t,e,n,r,i){for(var s=n,a=e,h=t.keys.length-2;h>=0;h-=2){var u=t.keys[h],l=t.keys[h+1];o.expand(s,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var c=o.substitute(u,l),f=s;s=(a^o.permute(c))>>>0,a=f}o.rip(s,a,r,i)}},50651:(t,e,n)=>{"use strict";var r=n(79746),i=n(35717),o=n(55756),s=n(70778);function a(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:n})]}function h(t){o.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(h,o),t.exports=h,h.create=function(t){return new h(t)},h.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},h.prototype._pad=s.prototype._pad,h.prototype._unpad=s.prototype._unpad},11278:(t,e)=>{"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,r,i){for(var o=0,s=0,a=n.length>>>1,h=0;h<a;h++)o<<=1,o|=t>>>n[h]&1;for(h=a;h<n.length;h++)s<<=1,s|=e>>>n[h]&1;r[i+0]=o>>>0,r[i+1]=s>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,i=0;i<4;i++)n<<=4,n|=r[64*i+(t>>>18-6*i&63)];for(i=0;i<4;i++)n<<=4,n|=r[256+64*i+(e>>>18-6*i&63)];return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<i.length;n++)e<<=1,e|=t>>>i[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},62607:(t,e,n)=>{var r=n(48764).Buffer,i=n(43590),o=n(29799),s=n(57426),a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new r(o[t].prime,"hex"),n=new r(o[t].gen,"hex");return new s(e,n)},e.createDiffieHellman=e.DiffieHellman=function t(e,n,o,h){return r.isBuffer(n)||void 0===a[n]?t(e,"binary",n,o):(n=n||"binary",h=h||"binary",o=o||new r([2]),r.isBuffer(o)||(o=new r(o,h)),"number"==typeof e?new s(i(e,o),o,!0):(r.isBuffer(e)||(e=new r(e,n)),new s(e,o,!0)))}},57426:(t,e,n)=>{var r=n(48764).Buffer,i=n(83620),o=new(n(63047)),s=new i(24),a=new i(11),h=new i(10),u=new i(3),l=new i(7),c=n(43590),f=n(61798);function d(t,e){return e=e||"utf8",r.isBuffer(t)||(t=new r(t,e)),this._pub=new i(t),this}function p(t,e){return e=e||"utf8",r.isBuffer(t)||(t=new r(t,e)),this._priv=new i(t),this}t.exports=m;var g={};function m(t,e,n){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function y(t,e){var n=new r(t.toArray());return e?n.toString(e):n}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in g)return g[r];var i,f=0;if(t.isEven()||!c.simpleSieve||!c.fermatTest(t)||!o.test(t))return f+=1,f+="02"===n||"05"===n?8:4,g[r]=f,f;switch(o.test(t.shrn(1))||(f+=2),n){case"02":t.mod(s).cmp(a)&&(f+=8);break;case"05":(i=t.mod(h)).cmp(u)&&i.cmp(l)&&(f+=8);break;default:f+=4}return g[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var e=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new r(e.toArray()),o=this.getPrime();if(n.length<o.length){var s=new r(o.length-n.length);s.fill(0),n=r.concat([s,n])}return n},m.prototype.getPublicKey=function(t){return y(this._pub,t)},m.prototype.getPrivateKey=function(t){return y(this._priv,t)},m.prototype.getPrime=function(t){return y(this.__prime,t)},m.prototype.getGenerator=function(t){return y(this._gen,t)},m.prototype.setGenerator=function(t,e){return e=e||"utf8",r.isBuffer(t)||(t=new r(t,e)),this.__gen=t,this._gen=new i(t),this}},43590:(t,e,n)=>{var r=n(61798);t.exports=v,v.simpleSieve=m,v.fermatTest=y;var i=n(83620),o=new i(24),s=new(n(63047)),a=new i(1),h=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),c=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function g(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!=0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return p=t,t}function m(t){for(var e=g(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function y(t){var e=i.mont(t);return 0===h.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new i(e);;){for(n=new i(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(a),n.testn(1)||n.iadd(h),e.cmp(h)){if(!e.cmp(u))for(;n.mod(l).cmp(c);)n.iadd(d)}else for(;n.mod(o).cmp(f);)n.iadd(d);if(m(p=n.shrn(1))&&m(n)&&y(p)&&y(n)&&s.test(p)&&s.test(n))return n}}},83620:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(7748).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),_.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(x,v),x.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return y[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},9187:t=>{"use strict";function e(t,e,r){r=r||2;var o,s,a,h,c,f,p,g=e&&e.length,m=g?e[0]*r:t.length,y=n(t,0,m,r,!0),v=[];if(!y||y.next===y.prev)return v;if(g&&(y=function(t,e,r,i){var o,s,a,h=[];for(o=0,s=e.length;o<s;o++)(a=n(t,e[o]*i,o<s-1?e[o+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),h.push(d(a));for(h.sort(u),o=0;o<h.length;o++)r=l(h[o],r);return r}(t,e,y,r)),t.length>80*r){o=a=t[0],s=h=t[1];for(var _=r;_<m;_+=r)(c=t[_])<o&&(o=c),(f=t[_+1])<s&&(s=f),c>a&&(a=c),f>h&&(h=f);p=0!==(p=Math.max(a-o,h-s))?32767/p:0}return i(y,v,r,o,s,p,0),v}function n(t,e,n,r,i){var o,s;if(i===C(t,e,n,r)>0)for(o=e;o<n;o+=r)s=M(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=M(o,t[o],t[o+1],s);return s&&y(s,s.next)&&(E(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,u,l,c,d){if(t){!d&&c&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,h,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,h--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(s>1)}(i)}(t,u,l,c);for(var p,g,m=t;t.prev!==t.next;)if(p=t.prev,g=t.next,c?s(t,u,l,c):o(t))e.push(p.i/n|0),e.push(t.i/n|0),e.push(g.i/n|0),E(t),t=g.next,m=g.next;else if((t=g)===m){d?1===d?i(t=a(r(t),e,n),e,n,u,l,c,2):2===d&&h(t,e,n,u,l,c):i(r(t),e,n,u,l,c,1);break}}}function o(t){var e=t.prev,n=t,r=t.next;if(m(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,s=r.x,a=e.y,h=n.y,u=r.y,l=i<o?i<s?i:s:o<s?o:s,c=a<h?a<u?a:u:h<u?h:u,f=i>o?i>s?i:s:o>s?o:s,d=a>h?a>u?a:u:h>u?h:u,g=r.next;g!==e;){if(g.x>=l&&g.x<=f&&g.y>=c&&g.y<=d&&p(i,a,o,h,s,u,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function s(t,e,n,r){var i=t.prev,o=t,s=t.next;if(m(i,o,s)>=0)return!1;for(var a=i.x,h=o.x,u=s.x,l=i.y,c=o.y,d=s.y,g=a<h?a<u?a:u:h<u?h:u,y=l<c?l<d?l:d:c<d?c:d,v=a>h?a>u?a:u:h>u?h:u,_=l>c?l>d?l:d:c>d?c:d,b=f(g,y,e,n,r),w=f(v,_,e,n,r),x=t.prevZ,M=t.nextZ;x&&x.z>=b&&M&&M.z<=w;){if(x.x>=g&&x.x<=v&&x.y>=y&&x.y<=_&&x!==i&&x!==s&&p(a,l,h,c,u,d,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,M.x>=g&&M.x<=v&&M.y>=y&&M.y<=_&&M!==i&&M!==s&&p(a,l,h,c,u,d,M.x,M.y)&&m(M.prev,M,M.next)>=0)return!1;M=M.nextZ}for(;x&&x.z>=b;){if(x.x>=g&&x.x<=v&&x.y>=y&&x.y<=_&&x!==i&&x!==s&&p(a,l,h,c,u,d,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;M&&M.z<=w;){if(M.x>=g&&M.x<=v&&M.y>=y&&M.y<=_&&M!==i&&M!==s&&p(a,l,h,c,u,d,M.x,M.y)&&m(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function a(t,e,n){var i=t;do{var o=i.prev,s=i.next.next;!y(o,s)&&v(o,i,i.next,s)&&w(o,s)&&w(s,o)&&(e.push(o.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),E(i),E(i.next),i=t=s),i=i.next}while(i!==t);return r(i)}function h(t,e,n,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&g(h,u)){var l=x(h,u);return h=r(h,h.next),l=r(l,l.next),i(h,e,n,o,s,a,0),void i(l,e,n,o,s,a,0)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,n=r.x<r.next.x?r:r.next,a===i))return n}r=r.next}while(r!==e);if(!n)return null;var h,u=n,l=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&p(o<f?i:s,o,l,f,o<f?s:i,o,r.x,r.y)&&(h=Math.abs(o-r.y)/(i-r.x),w(r,t)&&(h<d||h===d&&(r.x>n.x||r.x===n.x&&c(n,r)))&&(n=r,d=h)),r=r.next}while(r!==u);return n}(t,e);if(!n)return e;var i=x(n,t);return r(i,i.next),r(n,n.next)}function c(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function p(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&v(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||y(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,n,r){var i=b(m(t,e,n)),o=b(m(t,e,r)),s=b(m(n,r,t)),a=b(m(n,r,e));return i!==o&&s!==a||!(0!==i||!_(t,n,e))||!(0!==o||!_(t,r,e))||!(0!==s||!_(n,t,r))||!(0!==a||!_(n,e,r))}function _(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b(t){return t>0?1:t<0?-1:0}function w(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function x(t,e){var n=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function M(t,e,n,r){var i=new S(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(C(t,0,o,n));if(i)for(var a=0,h=e.length;a<h;a++){var u=e[a]*n,l=a<h-1?e[a+1]*n:t.length;s-=Math.abs(C(t,u,l,n))}var c=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,d=r[a+1]*n,p=r[a+2]*n;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},86266:(t,e,n)=>{"use strict";var r=e;r.version=n(18597).i8,r.utils=n(80953),r.rand=n(29931),r.curve=n(88254),r.curves=n(45427),r.ec=n(57954),r.eddsa=n(65980)},4918:(t,e,n)=>{"use strict";var r=n(73785),i=n(80953),o=i.getNAF,s=i.getJSF,a=i.assert;function h(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(t,e){a(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var s,h,u=[];for(s=0;s<r.length;s+=n.step){h=0;for(var l=s+n.step-1;l>=s;l--)h=(h<<1)+r[l];u.push(h)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(s=0;s<u.length;s++)(h=u[s])===d?f=f.mixedAdd(n.points[s]):h===-d&&(f=f.mixedAdd(n.points[s].neg()));c=c.add(f)}return c.toP()},h.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,s=o(e,n,this._bitLength),h=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var l=0;u>=0&&0===s[u];u--)l++;if(u>=0&&l++,h=h.dblp(l),u<0)break;var c=s[u];a(0!==c),h="affine"===t.type?c>0?h.mixedAdd(i[c-1>>1]):h.mixedAdd(i[-c-1>>1].neg()):c>0?h.add(i[c-1>>1]):h.add(i[-c-1>>1].neg())}return"affine"===t.type?h.toP():h},h.prototype._wnafMulAdd=function(t,e,n,r,i){var a,h,u,l=this._wnafT1,c=this._wnafT2,f=this._wnafT3,d=0;for(a=0;a<r;a++){var p=(u=e[a])._getNAFPoints(t);l[a]=p.wnd,c[a]=p.points}for(a=r-1;a>=1;a-=2){var g=a-1,m=a;if(1===l[g]&&1===l[m]){var y=[e[g],null,null,e[m]];0===e[g].y.cmp(e[m].y)?(y[1]=e[g].add(e[m]),y[2]=e[g].toJ().mixedAdd(e[m].neg())):0===e[g].y.cmp(e[m].y.redNeg())?(y[1]=e[g].toJ().mixedAdd(e[m]),y[2]=e[g].add(e[m].neg())):(y[1]=e[g].toJ().mixedAdd(e[m]),y[2]=e[g].toJ().mixedAdd(e[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],_=s(n[g],n[m]);for(d=Math.max(_[0].length,d),f[g]=new Array(d),f[m]=new Array(d),h=0;h<d;h++){var b=0|_[0][h],w=0|_[1][h];f[g][h]=v[3*(b+1)+(w+1)],f[m][h]=0,c[g]=y}}else f[g]=o(n[g],l[g],this._bitLength),f[m]=o(n[m],l[m],this._bitLength),d=Math.max(f[g].length,d),d=Math.max(f[m].length,d)}var x=this.jpoint(null,null,null),M=this._wnafT4;for(a=d;a>=0;a--){for(var E=0;a>=0;){var S=!0;for(h=0;h<r;h++)M[h]=0|f[h][a],0!==M[h]&&(S=!1);if(!S)break;E++,a--}if(a>=0&&E++,x=x.dblp(E),a<0)break;for(h=0;h<r;h++){var C=M[h];0!==C&&(C>0?u=c[h][C-1>>1]:C<0&&(u=c[h][-C-1>>1].neg()),x="affine"===u.type?x.mixedAdd(u):x.add(u))}}for(a=0;a<r;a++)c[a]=null;return i?x:x.toP()},h.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},31138:(t,e,n)=>{"use strict";var r=n(80953),i=n(73785),o=n(19610),s=n(4918),a=r.assert;function h(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,n,r,o){s.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(h,s),t.exports=h,h.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},h.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},h.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},h.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=r.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var h=a.fromRed().isOdd();return(e&&!h||!e&&h)&&(a=a.redNeg()),this.point(t,a)},h.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=r.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},h.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},o(u,s.BasePoint),h.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},h.prototype.point=function(t,e,n,r){return new u(this,t,e,n,r)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),s=o.redSub(n),a=r.redSub(e),h=i.redMul(s),u=o.redMul(a),l=i.redMul(a),c=s.redMul(o);return this.curve.point(h,u,c,l)},u.prototype._projDbl=function(){var t,e,n,r,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),h=this.y.redSqr();if(this.curve.twisted){var u=(r=this.curve._mulA(a)).redAdd(h);this.zOne?(t=s.redSub(a).redSub(h).redMul(u.redSub(this.curve.two)),e=u.redMul(r.redSub(h)),n=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),t=s.redSub(a).redISub(h).redMul(o),e=u.redMul(r.redSub(h)),n=u.redMul(o))}else r=a.redAdd(h),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(r)).redMul(o),e=this.curve._mulC(r).redMul(a.redISub(h)),n=r.redMul(o);return this.curve.point(t,e,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),s=i.redSub(r),a=i.redAdd(r),h=n.redAdd(e),u=o.redMul(s),l=a.redMul(h),c=o.redMul(h),f=s.redMul(a);return this.curve.point(u,l,f,c)},u.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),h=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),c=r.redMul(h).redMul(l);return this.curve.twisted?(e=r.redMul(u).redMul(s.redSub(this.curve._mulA(o))),n=h.redMul(u)):(e=r.redMul(u).redMul(s.redSub(o)),n=this.curve._mulC(h).redMul(u)),this.curve.point(c,e,n)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},u.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},88254:(t,e,n)=>{"use strict";var r=e;r.base=n(4918),r.short=n(6673),r.mont=n(22881),r.edwards=n(31138)},22881:(t,e,n)=>{"use strict";var r=n(73785),i=n(19610),o=n(4918),s=n(80953);function a(t){o.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},i(h,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new h(this,t,e)},a.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(t,e){return new h(t,e[0],e[1]||t.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),s=i.redMul(r),a=e.z.redMul(o.redAdd(s).redSqr()),h=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,h)},h.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(t,e,n)=>{"use strict";var r=n(80953),i=n(73785),o=n(19610),s=n(4918),a=r.assert;function h(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,n,r){s.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,r){s.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(h,s),t.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(n)}}},h.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},h.prototype._getEndoBasis=function(t){for(var e,n,r,o,s,a,h,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,d=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),y=new i(1),v=0;0!==f.cmpn(0);){var _=d.div(f);u=d.sub(_.mul(f)),l=m.sub(_.mul(p));var b=y.sub(_.mul(g));if(!r&&u.cmp(c)<0)e=h.neg(),n=p,r=u.neg(),o=l;else if(r&&2==++v)break;h=u,d=f,f=u,m=p,p=l,y=g,g=b}s=u.neg(),a=l;var w=r.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=e,a=n),r.negative&&(r=r.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:r,b:o},{a:s,b:a}]},h.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),h=i.mul(n.b),u=o.mul(r.b);return{k1:t.sub(s).sub(a),k2:h.add(u).neg()}},h.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},h.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],h=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),h=h.neg(!0)),r[2*o]=a,r[2*o+1]=h,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,s.BasePoint),h.prototype.point=function(t,e,n){return new u(this,t,e,n)},h.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,s.BasePoint),h.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),a=r.redSub(i),h=o.redSub(s);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=r.redMul(u),f=h.redSqr().redIAdd(l).redISub(c).redISub(c),d=h.redMul(c.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),u=h.redMul(s),l=n.redMul(h),c=a.redSqr().redIAdd(u).redISub(l).redISub(l),f=a.redMul(l.redISub(c)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(c,f,d)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,h=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),c=u.redSqr(),f=c.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(h)),p=o.redMul(c),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);e+1<t&&(h=h.redMul(f)),o=g,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),h=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(s.redISub(h)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},l.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),h=a.redSqr().redISub(s).redISub(s);t=h;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(h)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(c).redISub(l);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,n)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(c).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),h=r.redIAdd(r);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var c=this.x.redMul(a).redISub(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(u.redMul(h.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(c,f,d)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:(t,e,n)=>{"use strict";var r,i=e,o=n(33715),s=n(88254),a=n(80953).assert;function h(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new h(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=h,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(91037)}catch(t){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},57954:(t,e,n)=>{"use strict";var r=n(73785),i=n(2156),o=n(80953),s=n(45427),a=n(29931),h=o.assert,u=n(31251),l=n(90611);function c(t){if(!(this instanceof c))return new c(t);"string"==typeof t&&(h(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=c,c.prototype.keyPair=function(t){return new u(this,t)},c.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var s=new r(e.generate(n));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},c.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),h=t.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:h,pers:o.pers,persEnc:o.persEnc||"utf8"}),c=this.n.sub(new r(1)),f=0;;f++){var d=o.k?o.k(f):new r(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(0!==m.cmpn(0)){var y=d.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==g.cmp(m)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new l({r:m,s:y,recoveryParam:v})}}}}}},c.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new l(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,h=s.invm(this.n),u=h.mul(t).umod(this.n),c=h.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,n.getPublic(),c)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,n.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(t,e,n,i){h((3&n)===n,"The recovery param is more than two bits"),e=new l(e,i);var o=this.n,s=new r(t),a=e.r,u=e.s,c=1&n,f=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var d=e.r.invm(o),p=o.sub(s).mul(d).umod(o),g=u.mul(d).umod(o);return this.g.mulAdd(p,a,g)},c.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new l(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},31251:(t,e,n)=>{"use strict";var r=n(73785),i=n(80953).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(t,e,n)=>{"use strict";var r=n(73785),i=n(80953),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function h(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,s=e.place;o<r;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function u(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new a;if(48!==t[n.place++])return!1;var o=h(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var s=h(t,n);if(!1===s)return!1;var u=t.slice(n.place,s+n.place);if(n.place+=s,2!==t[n.place++])return!1;var l=h(t,n);if(!1===l)return!1;if(t.length!==l+n.place)return!1;var c=t.slice(n.place,l+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new r(u),this.s=new r(c),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=u(e),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,n.length);var o=r.concat(n),s=[48];return l(s,o.length),s=s.concat(o),i.encode(s,t)}},65980:(t,e,n)=>{"use strict";var r=n(33715),i=n(45427),o=n(80953),s=o.assert,a=o.parseBytes,h=n(79087),u=n(23622);function l(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=r.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),s=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),h=r.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:h,Rencoded:o})},l.prototype.verify=function(t,e,n){t=a(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return h.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return h.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!=(128&t[e]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return o.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},79087:(t,e,n)=>{"use strict";var r=n(80953),i=r.assert,o=r.parseBytes,s=r.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),t)},a.prototype.getPublic=function(t){return r.encode(this.pubBytes(),t)},t.exports=a},23622:(t,e,n)=>{"use strict";var r=n(73785),i=n(80953),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function h(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof r&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(h,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(h,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(h,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(h,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=h},91037:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(t,e,n)=>{"use strict";var r=e,i=n(73785),o=n(79746),s=n(34504);r.assert=o,r.toArray=s.toArray,r.zero2=s.zero2,r.toHex=s.toHex,r.encode=s.encode,r.getNAF=function(t,e,n){var r,i=new Array(Math.max(t.bitLength(),n)+1);for(r=0;r<i.length;r+=1)i[r]=0;var o=1<<e+1,s=t.clone();for(r=0;r<i.length;r++){var a,h=s.andln(o-1);s.isOdd()?(a=h>(o>>1)-1?(o>>1)-h:h,s.isubn(a)):a=0,i[r]=a,s.iushrn(1)}return i},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,h=t.andln(3)+i&3,u=e.andln(3)+o&3;3===h&&(h=-1),3===u&&(u=-1),s=0==(1&h)?0:3!=(r=t.andln(7)+i&7)&&5!==r||2!==u?h:-h,n[0].push(s),a=0==(1&u)?0:3!=(r=e.andln(7)+o&7)&&5!==r||2!==h?u:-u,n[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},73785:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(85568).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),_.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(x,v),x.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return y[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},19610:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},24429:(t,e,n)=>{"use strict";var r=n(40210)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(t){r=!1}t.exports=r},53981:t=>{"use strict";t.exports=EvalError},81648:t=>{"use strict";t.exports=Error},24726:t=>{"use strict";t.exports=RangeError},26712:t=>{"use strict";t.exports=ReferenceError},33464:t=>{"use strict";t.exports=SyntaxError},14453:t=>{"use strict";t.exports=TypeError},43915:t=>{"use strict";t.exports=URIError},17187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){var i,o,s,u;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=h(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var h=o[t];if(void 0===h)return!1;if("function"==typeof h)r(h,this,e);else{var u=h.length,l=p(h,u);for(n=0;n<u;++n)r(l[n],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},13048:(t,e,n)=>{var r=n(89509).Buffer,i=n(62318);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=n/8,a=r.alloc(s),h=r.alloc(o||0),u=r.alloc(0);s>0||o>0;){var l=new i;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var c=0;if(s>0){var f=a.length-s;c=Math.min(s,u.length),u.copy(a,f,0,c),s-=c}if(c<u.length&&o>0){var d=h.length-o,p=Math.min(o,u.length-c);u.copy(h,d,c,c+p),o-=p}}return u.fill(0),{key:a,iv:h}}},17648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,i="[object Function]",o=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},s=function(t,e){for(var n=[],r=e||0,i=0;r<t.length;r+=1,i+=1)n[i]=t[r];return n},a=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};t.exports=function(t){var h=this;if("function"!=typeof h||n.apply(h)!==i)throw new TypeError(e+h);for(var u,l=s(arguments,1),c=function(){if(this instanceof u){var e=h.apply(this,o(l,arguments));return Object(e)===e?e:this}return h.apply(t,o(l,arguments))},f=r(0,h.length-l.length),d=[],p=0;p<f;p++)d[p]="$"+p;if(u=Function("binder","return function ("+a(d,",")+"){ return binder.apply(this,arguments); }")(c),h.prototype){var g=function(){};g.prototype=h.prototype,u.prototype=new g,g.prototype=null}return u}},58612:(t,e,n)=>{"use strict";var r=n(17648);t.exports=Function.prototype.bind||r},25972:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(t){n=null}e.functionsHaveConfigurableNames=function(){if(!e()||!n)return!1;var t=n((function(){}),"name");return!!t&&!!t.configurable};var r=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof r&&""!==function(){}.bind().name},t.exports=e},29657:(t,e,n)=>{var r=n(10251),i=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function o(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return r(t,e,{strict:!0})}i.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=o(t),i=o(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},i.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},i.prototype.compareLine=function(t,e,n,r){if(!s(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},i.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},i.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},i.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},i.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},i.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},i.prototype.removePseudo=function(t){return t},t.exports=i},51787:(t,e,n)=>{var r=n(82582),i=n(97057),o=n(29181),s=n(21468).Z,a=o.featureEach,h=(o.coordEach,i.polygon,i.featureCollection);function u(t){var e=new r(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),r.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.remove.call(this,t,e)},e.clear=function(){return r.prototype.clear.call(this)},e.search=function(t){var e=r.prototype.search.call(this,this.toBBox(t));return h(e)},e.collides=function(t){return r.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=r.prototype.all.call(this);return h(t)},e.toJSON=function(){return r.prototype.toJSON.call(this)},e.fromJSON=function(t){return r.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=u,t.exports.default=u},29181:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87178);function i(t,e,n){if(null!==t)for(var r,o,s,a,h,u,l,c,f=0,d=0,p=t.type,g="FeatureCollection"===p,m="Feature"===p,y=g?t.features.length:1,v=0;v<y;v++){h=(c=!!(l=g?t.features[v].geometry:m?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<h;_++){var b=0,w=0;if(null!==(a=c?l.geometries[_]:l)){u=a.coordinates;var x=a.type;switch(f=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(u,d,v,b,w))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],d,v,b,w))return!1;d++,"MultiPoint"===x&&b++}"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(o=0;o<u[r].length-f;o++){if(!1===e(u[r][o],d,v,b,w))return!1;d++}"MultiLineString"===x&&b++,"Polygon"===x&&w++}"Polygon"===x&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(w=0,o=0;o<u[r].length;o++){for(s=0;s<u[r][o].length-f;s++){if(!1===e(u[r][o][s],d,v,b,w))return!1;d++}w++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,i,o,s,a,h,u,l,c,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,g=d?t.features.length:1;for(n=0;n<g;n++){for(a=d?t.features[n].geometry:p?t.geometry:t,u=d?t.features[n].properties:p?t.properties:{},l=d?t.features[n].bbox:p?t.bbox:void 0,c=d?t.features[n].id:p?t.id:void 0,s=(h=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=h?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,u,l,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,u,l,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,l,c))return!1;f++}}function h(t,e){a(t,(function(t,n,i,o,s){var a,h=null===t?null:t.type;switch(h){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(h){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<t.coordinates.length;u++){var l={type:a,coordinates:t.coordinates[u]};if(!1===e(r.feature(l,i),n,u))return!1}}))}function u(t,e){h(t,(function(t,n,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var h,u=0,l=0,c=0;return!1!==i(t,(function(i,a,f,d,p){if(void 0===h||n>u||d>l||p>c)return h=i,u=n,l=d,c=p,void(s=0);var g=r.lineString([h,i],t.properties);if(!1===e(g,n,o,p,s))return!1;s++,h=i}))&&void 0}}}))}function l(t,e){if(!t)throw new Error("geojson is required");h(t,(function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(r.lineString(s[a],t.properties),n,i,a))return!1}}}))}e.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,(function(t,r,i,s,a){o=0===r&&void 0===n?t:e(o,t,r,i,s,a)}),r),o},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,h=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),h=h||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":h=h||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return r.point(u,h,e);case"MultiPoint":return o<0&&(o=u.length+o),r.point(u[o],h,e);case"LineString":return a<0&&(a=u.length+a),r.point(u[a],h,e);case"Polygon":return s<0&&(s=u.length+s),a<0&&(a=u[s].length+a),r.point(u[s][a],h,e);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),r.point(u[o][a],h,e);case"MultiPolygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),a<0&&(a=u[o][s].length-a),r.point(u[o][s][a],h,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,h=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),h=h||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":h=h||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),r.lineString([u[a],u[a+1]],h,e);case"Polygon":return s<0&&(s=u.length+s),a<0&&(a=u[s].length+a-1),r.lineString([u[s][a],u[s][a+1]],h,e);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),r.lineString([u[o][a],u[o][a+1]],h,e);case"MultiPolygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),a<0&&(a=u[o][s].length-a-1),r.lineString([u[o][s][a],u[o][s][a+1]],h,e)}throw new Error("geojson is invalid")},e.flattenEach=h,e.flattenReduce=function(t,e,n){var r=n;return h(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r},e.lineEach=l,e.lineReduce=function(t,e,n){var r=n;return l(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},e.propEach=o,e.propReduce=function(t,e,n){var r=n;return o(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.segmentEach=u,e.segmentReduce=function(t,e,n){var r=n,i=!1;return u(t,(function(t,o,s,a,h){r=!1===i&&void 0===n?t:e(r,t,o,s,a,h),i=!0})),r}},87178:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(t[0])||!d(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function h(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function l(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function c(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return t%(2*Math.PI)*180/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return h(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return u(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=h,e.multiPolygon=u,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=l,e.lengthToRadians=c,e.lengthToDegrees=function(t,e){return f(c(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return l(c(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!d(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},40210:(t,e,n)=>{"use strict";var r,i=n(81648),o=n(53981),s=n(24726),a=n(26712),h=n(33464),u=n(14453),l=n(43915),c=Function,f=function(t){try{return c('"use strict"; return ('+t+").constructor;")()}catch(t){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(t){d=null}var p=function(){throw new u},g=d?function(){try{return p}catch(t){try{return d(arguments,"callee").get}catch(t){return p}}}():p,m=n(41405)(),y=n(28185)(),v=Object.getPrototypeOf||(y?function(t){return t.__proto__}:null),_={},b="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":m&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":_,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&v?v(""[Symbol.iterator]()):r,"%Symbol%":m?Symbol:r,"%SyntaxError%":h,"%ThrowTypeError%":g,"%TypedArray%":b,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(t){var x=v(v(t));w["%Error.prototype%"]=x}var M=function t(e){var n;if("%AsyncFunction%"===e)n=f("async function () {}");else if("%GeneratorFunction%"===e)n=f("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=f("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&v&&(n=v(i.prototype))}return w[e]=n,n},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(58612),C=n(48824),I=S.call(Function.call,Array.prototype.concat),A=S.call(Function.apply,Array.prototype.splice),P=S.call(Function.call,String.prototype.replace),O=S.call(Function.call,String.prototype.slice),k=S.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,T=function(t){var e=O(t,0,1),n=O(t,-1);if("%"===e&&"%"!==n)throw new h("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new h("invalid intrinsic syntax, expected opening `%`");var r=[];return P(t,R,(function(t,e,n,i){r[r.length]=n?P(i,L,"$1"):e||t})),r},N=function(t,e){var n,r=t;if(C(E,r)&&(r="%"+(n=E[r])[0]+"%"),C(w,r)){var i=w[r];if(i===_&&(i=M(r)),void 0===i&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new h("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,t))throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=T(t),r=n.length>0?n[0]:"",i=N("%"+r+"%",e),o=i.name,s=i.value,a=!1,l=i.alias;l&&(r=l[0],A(n,I([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var p=n[c],g=O(p,0,1),m=O(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new h("property names with quotes must have matching quotes");if("constructor"!==p&&f||(a=!0),C(w,o="%"+(r+="."+p)+"%"))s=w[o];else if(null!=s){if(!(p in s)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&c+1>=n.length){var y=d(s,p);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[p]}else f=C(s,p),s=s[p];f&&!a&&(w[o]=s)}}return s}},27296:(t,e,n)=>{"use strict";var r=n(40210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},31044:(t,e,n)=>{"use strict";var r=n(24429),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},28185:t=>{"use strict";var e={__proto__:null,foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof n)}},41405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(55419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},55419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},96410:(t,e,n)=>{"use strict";var r=n(55419);t.exports=function(){return r()&&!!Symbol.toStringTag}},3349:(t,e,n)=>{"use strict";var r=n(50213).Buffer,i=n(70326).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(70628)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},70628:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},9786:t=>{"use strict";var e={};function n(t,n,r){r||(r=Error);var i=function(t){var e,r;function i(e,r,i){return t.call(this,function(t,e,r){return"string"==typeof n?n:n(t,e,r)}(e,r,i))||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=t,e[t]=i}function r(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}n("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(t,e,n){var i,o,s,a,h;if("string"==typeof e&&(o="not ",e.substr(0,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(r(e,"type"));else{var u=("number"!=typeof h&&(h=0),h+".".length>(a=t).length||-1===a.indexOf(".",h)?"argument":"property");s='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(r(e,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},62910:(t,e,n)=>{"use strict";var r=n(34155),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=n(45789),s=n(70469);n(70628)(l,o);for(var a=i(s.prototype),h=0;h<a.length;h++){var u=a[h];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},58994:(t,e,n)=>{"use strict";t.exports=i;var r=n(70421);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(70628)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},45789:(t,e,n)=>{"use strict";var r,i=n(34155);t.exports=S,S.ReadableState=E,n(17187).EventEmitter;var o,s=function(t,e){return t.listeners(e).length},a=n(50677),h=n(48764).Buffer,u=n.g.Uint8Array||function(){},l=n(31616);o=l&&l.debuglog?l.debuglog("stream"):function(){};var c,f,d,p=n(98354),g=n(35072),m=n(31222).getHighWaterMark,y=n(9786).q,v=y.ERR_INVALID_ARG_TYPE,_=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(70628)(S,a);var x=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function E(t,e,i){r=r||n(62910),t=t||{},"boolean"!=typeof i&&(i=e instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(c||(c=n(32553).s),this.decoder=new c(t.encoding),this.encoding=t.encoding)}function S(t){if(r=r||n(62910),!(this instanceof S))return new S(t);var e=this instanceof r;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function C(t,e,n,r,i){o("readableAddChunk",e);var s,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,k(t)))}}(t,a);else if(i||(s=function(t,e){var n,r;return r=e,h.isBuffer(r)||r instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],e)),n}(a,e)),s)x(t,s);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),r)a.endEmitted?x(t,new w):I(t,a,e,!0);else if(a.ended)x(t,new _);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?I(t,a,e,!1):R(t,a)):I(t,a,e,!1)}else r||(a.reading=!1,R(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function I(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),R(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=h.from(t,e),e=""),n=!0),C(this,t,e,!1,n)},S.prototype.unshift=function(t){return C(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){c||(c=n(32553).s);var e=new c(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function P(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=A?t=A:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(k,t))}function k(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,F(t)}function R(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function T(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){o("readable nexttick read 0"),t.read(0)}function D(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function B(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(G,e,t))}function G(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function q(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}S.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):O(this),null;if(0===(t=P(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=P(n,e))),null===(r=t>0?j(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(t){x(this,new b("_read()"))},S.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,e);var a=e&&!1===e.end||t===i.stdout||t===i.stderr?g:h;function h(){o("onend"),t.end()}r.endEmitted?i.nextTick(a):n.once("end",a),t.on("unpipe",(function e(i,s){o("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",e),n.removeListener("end",h),n.removeListener("end",g),n.removeListener("data",c),l=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,F(t))}}(n);t.on("drain",u);var l=!1;function c(e){o("ondata");var i=t.write(e);o("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==q(r.pipes,t))&&!l&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(e){o("onerror",e),g(),t.removeListener("error",f),0===s(t,"error")&&x(t,e)}function d(){t.removeListener("finish",p),g()}function p(){o("onfinish"),t.removeListener("close",d),g()}function g(){o("unpipe"),n.unpipe(t)}return n.on("data",c),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),r.flowing||(o("pipe resume"),n.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=q(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},S.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?O(this):r.reading||i.nextTick(N,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(T,this),n},S.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(T,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(D,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<M.length;s++)t.on(M[s],this.emit.bind(this,M[s]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(30527)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=j,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=n(5327)),d(S,t,e)})},70421:(t,e,n)=>{"use strict";t.exports=l;var r=n(9786).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,h=n(62910);function u(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);h.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(70628)(l,h),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,h.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){h.prototype._destroy.call(this,t,(function(t){e(t)}))}},70469:(t,e,n)=>{"use strict";var r,i=n(34155);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(undefined),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=S,S.WritableState=E;var s,a={deprecate:n(94927)},h=n(50677),u=n(48764).Buffer,l=n.g.Uint8Array||function(){},c=n(35072),f=n(31222).getHighWaterMark,d=n(9786).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,_=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,x=c.errorOrDestroy;function M(){}function E(t,e,s){r=r||n(62910),t=t||{},"boolean"!=typeof s&&(s=e instanceof r),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(k,t,e),t._writableState.errorEmitted=!0,x(t,r)):(o(r),t._writableState.errorEmitted=!0,x(t,r),k(t,e))}(t,n,r,e,o);else{var s=P(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),r?i.nextTick(I,t,n,s,o):I(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function S(t){var e=this instanceof(r=r||n(62910));if(!e&&!s.call(S,this))return new S(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function C(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function I(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),k(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,h=!0;n;)i[a]=n,n.isBuf||(h=!1),n=n.next,a+=1;i.allBuffers=h,C(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback;if(C(t,e,!1,e.objectMode?1:u.length,u,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function P(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(n){e.pendingcb--,n&&x(t,n),e.prefinished=!0,t.emit("prefinish"),k(t,e)}))}function k(t,e){var n=P(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}n(70628)(S,h),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===S&&t&&t._writableState instanceof E}})):s=function(t){return t instanceof this},S.prototype.pipe=function(){x(this,new y)},S.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,u.isBuffer(r)||r instanceof l);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=M),o.ending?function(t,e){var n=new b;x(t,n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o;return null===n?o=new _:"string"==typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(x(t,o),i.nextTick(r,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var h=e.length<e.highWaterMark;if(h||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,a,r,i,o);return h}(this,o,a,t,e,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||A(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,n){n(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,k(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=c.destroy,S.prototype._undestroy=c.undestroy,S.prototype._destroy=function(t,e){e(t)}},30527:(t,e,n)=>{"use strict";var r,i=n(34155);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(28640),a=Symbol("lastResolve"),h=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function g(t){var e=t[a];if(null!==e){var n=t[d].read();null!==n&&(t[c]=null,t[a]=null,t[h]=null,e(p(n,!1)))}}function m(t){i.nextTick(g,t)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,n){i.nextTick((function(){t[u]?n(t[u]):e(p(void 0,!0))}))}));var n,r=this[c];if(r)n=new Promise(function(t,e){return function(n,r){t.then((function(){e[l]?n(p(void 0,!0)):e[f](n,r)}),r)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var t=this;return new Promise((function(e,n){t[d].destroy(null,(function(t){t?n(t):e(p(void 0,!0))}))}))})),r),y);t.exports=function(t){var e,n=Object.create(v,(o(e={},d,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,h,{value:null,writable:!0}),o(e,u,{value:null,writable:!0}),o(e,l,{value:t._readableState.endEmitted,writable:!0}),o(e,f,{value:function(t,e){var r=n[d].read();r?(n[c]=null,n[a]=null,n[h]=null,t(p(r,!1))):(n[a]=t,n[h]=e)},writable:!0}),e));return n[c]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[h];return null!==e&&(n[c]=null,n[a]=null,n[h]=null,e(t)),void(n[u]=t)}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[h]=null,r(p(void 0,!0))),n[l]=!0})),t.on("readable",m.bind(null,n)),n}},98354:(t,e,n)=>{"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(48764).Buffer,a=n(69386).inspect,h=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n;return e=t,n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,r,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,s.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:h,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],n&&o(e.prototype,n),t}()},35072:(t,e,n)=>{"use strict";var r=n(34155);function i(t,e){s(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,t)):r.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e?(r.nextTick(o,n),e(t)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}},28640:(t,e,n)=>{"use strict";var r=n(9786).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,h=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},c=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,c=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!c?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",h),e.on("close",h)),e.on("end",f),e.on("finish",l),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},5327:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},64218:(t,e,n)=>{"use strict";var r,i=n(9786).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function h(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(28640)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var h=!1;return function(e){if(!a&&!h)return h=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function c(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=c(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return h(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return e.reduce(l)}},31222:(t,e,n)=>{"use strict";var r=n(9786).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},50677:(t,e,n)=>{t.exports=n(17187).EventEmitter},70326:(t,e,n)=>{(e=t.exports=n(45789)).Stream=e,e.Readable=e,e.Writable=n(70469),e.Duplex=n(62910),e.Transform=n(70421),e.PassThrough=n(58994),e.finished=n(28640),e.pipeline=n(64218)},50213:(t,e,n)=>{var r=n(48764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},33715:(t,e,n)=>{var r=e;r.utils=n(26436),r.common=n(95772),r.sha=n(89041),r.ripemd=n(12949),r.hmac=n(52344),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},95772:(t,e,n)=>{"use strict";var r=n(26436),i=n(79746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},52344:(t,e,n)=>{"use strict";var r=n(26436),i=n(79746);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},12949:(t,e,n)=>{"use strict";var r=n(26436),i=n(95772),o=r.rotl32,s=r.sum32,a=r.sum32_3,h=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(l,u),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=n,_=r,b=i,w=u,x=l,M=0;M<80;M++){var E=s(o(h(n,c(M,r,i,u),t[p[M]+e],f(M)),m[M]),l);n=l,l=u,u=o(i,10),i=r,r=E,E=s(o(h(v,c(79-M,_,b,w),t[g[M]+e],d(M)),y[M]),x),v=x,x=w,w=o(b,10),b=_,_=E}E=a(this.h[1],i,w),this.h[1]=a(this.h[2],u,x),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],n,_),this.h[4]=a(this.h[0],r,b),this.h[0]=E},l.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(t,e,n)=>{"use strict";e.sha1=n(84761),e.sha224=n(10799),e.sha256=n(89344),e.sha384=n(80772),e.sha512=n(45900)},84761:(t,e,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(37038),s=r.rotl32,a=r.sum32,h=r.sum32_5,u=o.ft_1,l=i.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,l),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),g=h(s(i,5),u(p,o,l,f),d,n[r],c[p]);d=f,f=l,l=s(o,30),o=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},10799:(t,e,n)=>{"use strict";var r=n(26436),i=n(89344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},89344:(t,e,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(37038),s=n(79746),a=r.sum32,h=r.sum32_4,u=r.sum32_5,l=o.ch32,c=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,g=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(v,m),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=h(g(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],v=this.h[4],_=this.h[5],b=this.h[6],w=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var x=u(w,d(v),l(v,_,b),this.k[r],n[r]),M=a(f(i),c(i,o,m));w=b,b=_,_=v,v=a(y,x),y=m,m=o,o=i,i=a(x,M)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],_),this.h[6]=a(this.h[6],b),this.h[7]=a(this.h[7],w)},v.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},80772:(t,e,n)=>{"use strict";var r=n(26436),i=n(45900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},45900:(t,e,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(79746),s=r.rotr64_hi,a=r.rotr64_lo,h=r.shr64_hi,u=r.shr64_lo,l=r.sum64,c=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,m=r.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function b(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function w(t,e,n,r,i,o){var s=e&r^~e&o;return s<0&&(s+=4294967296),s}function x(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function M(t,e,n,r,i,o){var s=e&r^e&o^r&o;return s<0&&(s+=4294967296),s}function E(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function S(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function C(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function I(t,e){var n=s(t,e,1)^s(t,e,8)^h(t,e,7);return n<0&&(n+=4294967296),n}function A(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function P(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(_,y),t.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=(m=n[r-4],y=n[r-3],v=void 0,(v=s(m,y,19)^s(y,m,29)^h(m,y,6))<0&&(v+=4294967296),v),o=P(n[r-4],n[r-3]),a=n[r-14],u=n[r-13],l=I(n[r-30],n[r-29]),c=A(n[r-30],n[r-29]),f=n[r-32],g=n[r-31];n[r]=d(i,o,a,u,l,c,f,g),n[r+1]=p(i,o,a,u,l,c,f,g)}var m,y,v},_.prototype._update=function(t,e){this._prepareBlock(t,e);var n,r,i,a=this.W,h=this.h[0],u=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],v=this.h[5],_=this.h[6],I=this.h[7],A=this.h[8],P=this.h[9],O=this.h[10],k=this.h[11],R=this.h[12],L=this.h[13],T=this.h[14],N=this.h[15];o(this.k.length===a.length);for(var D=0;D<a.length;D+=2){var F=T,j=N,B=(i=void 0,(i=s(n=A,r=P,14)^s(n,r,18)^s(r,n,9))<0&&(i+=4294967296),i),G=C(A,P),q=b(A,0,O,0,R),U=w(0,P,0,k,0,L),z=this.k[D],Z=this.k[D+1],V=a[D],X=a[D+1],W=g(F,j,B,G,q,U,z,Z,V,X),Y=m(F,j,B,G,q,U,z,Z,V,X);F=E(h,u),j=S(h,u),B=x(h,0,d,0,y),G=M(0,u,0,p,0,v);var H=c(F,j,B,G),$=f(F,j,B,G);T=R,N=L,R=O,L=k,O=A,k=P,A=c(_,I,W,Y),P=f(I,I,W,Y),_=y,I=v,y=d,v=p,d=h,p=u,h=c(W,Y,H,$),u=f(W,Y,H,$)}l(this.h,0,h,u),l(this.h,2,d,p),l(this.h,4,y,v),l(this.h,6,_,I),l(this.h,8,A,P),l(this.h,10,O,k),l(this.h,12,R,L),l(this.h,14,T,N)},_.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},37038:(t,e,n)=>{"use strict";var r=n(26436).rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function s(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?s(e,n,r):2===t?o(e,n,r):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},26436:(t,e,n)=>{"use strict";var r=n(79746),i=n(35717);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function h(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=a(t[n].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=s(i)),n+=h(i.toString(16))}return n},e.zero2=a,e.zero8=h,e.join32=function(t,e,n,i){var o=n-e;r(o%4==0);for(var s=new Array(o/4),a=0,h=e;a<s.length;a++,h+=4){var u;u="big"===i?t[h]<<24|t[h+1]<<16|t[h+2]<<8|t[h+3]:t[h+3]<<24|t[h+2]<<16|t[h+1]<<8|t[h],s[a]=u>>>0}return s},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,s=(o<r?1:0)+n+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,s,a){var h=0,u=e;return h+=(u=u+r>>>0)<e?1:0,h+=(u=u+o>>>0)<o?1:0,t+n+i+s+(h+=(u=u+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,s,a){return e+r+o+a>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,s,a,h,u){var l=0,c=e;return l+=(c=c+r>>>0)<e?1:0,l+=(c=c+o>>>0)<o?1:0,l+=(c=c+a>>>0)<a?1:0,t+n+i+s+h+(l+=(c=c+u>>>0)<u?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,s,a,h,u){return e+r+o+a+u>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},48824:(t,e,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(58612);t.exports=o.call(r,i)},2156:(t,e,n)=>{"use strict";var r=n(33715),i=n(34504),o=n(79746);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=s,s.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},s.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(n),this._reseed++,i.encode(s,e)}},80645:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,h=(1<<a)-1,u=h>>1,l=-7,c=n?i-1:0,f=n?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+c],c+=f,l-=8);if(0===o)o=1-u;else{if(o===h)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,h,u=8*o-i-1,l=(1<<u)-1,c=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+c>=1?f/h:f*Math.pow(2,1-c))*h>=2&&(s++,h/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*h-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*g}},35717:t=>{"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},82584:t=>{"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,n=Object.prototype.toString,r=function(t){return!(e&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===n.call(t)},i=function(t){return!!r(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==n.call(t)&&"[object Function]"===n.call(t.callee)},o=function(){return r(arguments)}();r.isLegacyArguments=i,t.exports=o?r:i},18923:t=>{"use strict";var e=Date.prototype.getDay,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(r?function(t){try{return e.call(t),!0}catch(t){return!1}}(t):"[object Date]"===n.call(t))}},98420:(t,e,n)=>{"use strict";var r,i,o,s,a=n(21924),h=n(96410)();if(h){r=a("Object.prototype.hasOwnProperty"),i=a("RegExp.prototype.exec"),o={};var u=function(){throw o};s={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=u)}var l=a("Object.prototype.toString"),c=Object.getOwnPropertyDescriptor;t.exports=h?function(t){if(!t||"object"!=typeof t)return!1;var e=c(t,"lastIndex");if(!e||!r(e,"value"))return!1;try{i(t,s)}catch(t){return t===o}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===l(t)}},5826:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},62318:(t,e,n)=>{"use strict";var r=n(35717),i=n(3349),o=n(89509).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(t,e){return t<<e|t>>>32-e}function u(t,e,n,r,i,o,s){return h(t+(e&n|~e&r)+i+o|0,s)+e|0}function l(t,e,n,r,i,o,s){return h(t+(e&r|n&~r)+i+o|0,s)+e|0}function c(t,e,n,r,i,o,s){return h(t+(e^n^r)+i+o|0,s)+e|0}function f(t,e,n,r,i,o,s){return h(t+(n^(e|~r))+i+o|0,s)+e|0}r(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=u(n,r,i,o,t[0],3614090360,7),o=u(o,n,r,i,t[1],3905402710,12),i=u(i,o,n,r,t[2],606105819,17),r=u(r,i,o,n,t[3],3250441966,22),n=u(n,r,i,o,t[4],4118548399,7),o=u(o,n,r,i,t[5],1200080426,12),i=u(i,o,n,r,t[6],2821735955,17),r=u(r,i,o,n,t[7],4249261313,22),n=u(n,r,i,o,t[8],1770035416,7),o=u(o,n,r,i,t[9],2336552879,12),i=u(i,o,n,r,t[10],4294925233,17),r=u(r,i,o,n,t[11],2304563134,22),n=u(n,r,i,o,t[12],1804603682,7),o=u(o,n,r,i,t[13],4254626195,12),i=u(i,o,n,r,t[14],2792965006,17),n=l(n,r=u(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=l(o,n,r,i,t[6],3225465664,9),i=l(i,o,n,r,t[11],643717713,14),r=l(r,i,o,n,t[0],3921069994,20),n=l(n,r,i,o,t[5],3593408605,5),o=l(o,n,r,i,t[10],38016083,9),i=l(i,o,n,r,t[15],3634488961,14),r=l(r,i,o,n,t[4],3889429448,20),n=l(n,r,i,o,t[9],568446438,5),o=l(o,n,r,i,t[14],3275163606,9),i=l(i,o,n,r,t[3],4107603335,14),r=l(r,i,o,n,t[8],1163531501,20),n=l(n,r,i,o,t[13],2850285829,5),o=l(o,n,r,i,t[2],4243563512,9),i=l(i,o,n,r,t[7],1735328473,14),n=c(n,r=l(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=c(o,n,r,i,t[8],2272392833,11),i=c(i,o,n,r,t[11],1839030562,16),r=c(r,i,o,n,t[14],4259657740,23),n=c(n,r,i,o,t[1],2763975236,4),o=c(o,n,r,i,t[4],1272893353,11),i=c(i,o,n,r,t[7],4139469664,16),r=c(r,i,o,n,t[10],3200236656,23),n=c(n,r,i,o,t[13],681279174,4),o=c(o,n,r,i,t[0],3936430074,11),i=c(i,o,n,r,t[3],3572445317,16),r=c(r,i,o,n,t[6],76029189,23),n=c(n,r,i,o,t[9],3654602809,4),o=c(o,n,r,i,t[12],3873151461,11),i=c(i,o,n,r,t[15],530742520,16),n=f(n,r=c(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=f(o,n,r,i,t[7],1126891415,10),i=f(i,o,n,r,t[14],2878612391,15),r=f(r,i,o,n,t[5],4237533241,21),n=f(n,r,i,o,t[12],1700485571,6),o=f(o,n,r,i,t[3],2399980690,10),i=f(i,o,n,r,t[10],4293915773,15),r=f(r,i,o,n,t[1],2240044497,21),n=f(n,r,i,o,t[8],1873313359,6),o=f(o,n,r,i,t[15],4264355552,10),i=f(i,o,n,r,t[6],2734768916,15),r=f(r,i,o,n,t[13],1309151649,21),n=f(n,r,i,o,t[4],4149444226,6),o=f(o,n,r,i,t[11],3174756917,10),i=f(i,o,n,r,t[2],718787259,15),r=f(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},63047:(t,e,n)=>{var r=n(96240),i=n(29931);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var i=t.bitLength(),o=r.mont(t),s=new r(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),h=0;!a.testn(h);h++);for(var u=t.shrn(h),l=a.toRed(o);e>0;e--){var c=this._randrange(new r(2),a);n&&n(c);var f=c.toRed(o).redPow(u);if(0!==f.cmp(s)&&0!==f.cmp(l)){for(var d=1;d<h;d++){if(0===(f=f.redSqr()).cmp(s))return!1;if(0===f.cmp(l))break}if(d===h)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),i=r.mont(t),o=new r(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var h=t.shrn(a),u=s.toRed(i);e>0;e--){var l=this._randrange(new r(2),s),c=t.gcd(l);if(0!==c.cmpn(1))return c;var f=l.toRed(i).redPow(h);if(0!==f.cmp(o)&&0!==f.cmp(u)){for(var d=1;d<a;d++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(u))break}if(d===a)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},96240:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(56619).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),_.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(x,v),x.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return y[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},79746:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},34504:(t,e)=>{"use strict";var n=e;function r(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n].toString(16));return e}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16));else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}return n},n.zero2=r,n.toHex=i,n.encode=function(t,e){return"hex"===e?i(t):t}},27418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=i(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))n.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)r.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},20609:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},18987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(21414),a=Object.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{c(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(a&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)f.push(String(g));if(r&&t.length>0)for(var m=0;m<t.length;++m)f.push(String(m));else for(var y in t)p&&"prototype"===y||!i.call(t,y)||f.push(String(y));if(h)for(var v=function(t){if("undefined"==typeof window||!d)return c(t);try{return c(t)}catch(t){return!1}}(t),_=0;_<l.length;++_)v&&"constructor"===l[_]||!i.call(t,l[_])||f.push(l[_]);return f}}t.exports=r},82215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,i=n(21414),o=Object.keys,s=o?function(t){return o(t)}:n(18987),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},21414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},3965:function(t,e,n){t.exports=function(t,e,n,r,i,o,s,a){"use strict";function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=h(t),l=h(e),c=h(n),f=h(r),d=h(i),p=h(o),g=h(s),m=function(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(a),y="gcd-container",v="gcd-button-control",_="gcd-input-query",b="gcd-input-label",w="gcd-input-search",x={namespace:"ol-geocoder",spin:"gcd-pseudo-rotate",hidden:"gcd-hidden",address:"gcd-address",country:"gcd-country",city:"gcd-city",road:"gcd-road",olControl:"ol-control",glass:{container:"gcd-gl-container",control:"gcd-gl-control",button:"gcd-gl-btn",input:"gcd-gl-input",expanded:"gcd-gl-expanded",search:"gcd-gl-search",result:"gcd-gl-result"},inputText:{container:"gcd-txt-container",control:"gcd-txt-control",label:"gcd-txt-label",input:"gcd-txt-input",search:"gcd-txt-search",icon:"gcd-txt-glass",result:"gcd-txt-result"}},M={containerId:y,buttonControlId:v,inputQueryId:_,inputLabelId:b,inputSearchId:w,cssClasses:x};const E=Object.freeze({__proto__:null,containerId:y,buttonControlId:v,inputQueryId:_,inputLabelId:b,inputSearchId:w,cssClasses:x,default:M}),S="addresschosen",C="nominatim",I="reverse",A="glass-button",P="osm",O={provider:P,label:"",placeholder:"Search for an address",featureStyle:null,targetType:A,lang:"en-US",limit:5,keepOpen:!1,preventDefault:!1,preventPanning:!1,preventMarker:!1,defaultFlyResolution:10,debug:!1};function k(t,e="Assertion failed"){if(!t){if("undefined"!=typeof Error)throw new Error(e);throw e}}function R(t){const e=function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){let t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=()=>Date.now()-t}return window.performance.now()}().toString(36);return t?t+e:e}function L(t){return/^\d+$/u.test(t)}function T(t,e,n){if(Array.isArray(t))return void t.forEach((t=>T(t,e)));const r=Array.isArray(e)?e:e.split(/\s+/u);let i=r.length;for(;i--;)D(t,r[i])||G(t,r[i],n)}function N(t,e,n){if(Array.isArray(t))return void t.forEach((t=>N(t,e,n)));const r=Array.isArray(e)?e:e.split(/\s+/u);let i=r.length;for(;i--;)D(t,r[i])&&q(t,r[i],n)}function D(t,e){return t.classList?t.classList.contains(e):B(e).test(t.className)}function F(t){for(;t.firstChild;)t.firstChild.remove()}function j(t,e){let n;if(Array.isArray(t)){if(n=document.createElement(t[0]),t[1].id&&(n.id=t[1].id),t[1].classname&&(n.className=t[1].classname),t[1].attr){const{attr:e}=t[1];if(Array.isArray(e)){let t=-1;for(;++t<e.length;)n.setAttribute(e[t].name,e[t].value)}else n.setAttribute(e.name,e.value)}}else n=document.createElement(t);n.innerHTML=e;const r=document.createDocumentFragment();for(;n.childNodes[0];)r.append(n.childNodes[0]);return n.append(r),n}function B(t){return new RegExp(`(^|\\s+) ${t} (\\s+|$)`,"u")}function G(t,e,n){t.classList?t.classList.add(e):t.className=`${t.className} ${e}`.trim(),n&&L(n)&&window.setTimeout((()=>q(t,e)),n)}function q(t,e,n){t.classList?t.classList.remove(e):t.className=t.className.replace(B(e)," ").trim(),n&&L(n)&&window.setTimeout((()=>G(t,e)),n)}const U=E.cssClasses;class z{constructor(t){this.options=t,this.els=this.createControl()}createControl(){let t,e,n;return"text-input"===this.options.targetType?(e=`${U.namespace} ${U.inputText.container}`,t=j(["div",{id:E.containerId,classname:e}],z.input),n={container:t,control:t.querySelector(`.${U.inputText.control}`),label:t.querySelector(`.${U.inputText.label}`),input:t.querySelector(`.${U.inputText.input}`),search:t.querySelector(`.${U.inputText.search}`),result:t.querySelector(`.${U.inputText.result}`)},n.label.innerHTML=this.options.label):(e=`${U.namespace} ${U.glass.container}`,t=j(["div",{id:E.containerId,classname:e}],z.glass),n={container:t,control:t.querySelector(`.${U.glass.control}`),button:t.querySelector(`.${U.glass.button}`),input:t.querySelector(`.${U.glass.input}`),search:t.querySelector(`.${U.glass.search}`),result:t.querySelector(`.${U.glass.result}`)}),n.input.placeholder=this.options.placeholder,n}}function Z(t){return new Promise(((e,n)=>{const r=function(t,e){return e&&"object"==typeof e&&(t+=(/\?/u.test(t)?"&":"?")+V(e)),t}(t.url,t.data);t.jsonp?function(t,e,n){const{head:r}=document,i=document.createElement("script"),o=`f${Math.round(Math.random()*Date.now())}`;i.setAttribute("src",`${t+(t.indexOf("?")>0?"&":"?")+e}=${o}`),window[o]=t=>{window[o]=void 0,setTimeout((()=>r.removeChild(i)),0),n(t)},r.append(i)}(r,t.callbackName,e):fetch(r,{method:"GET",mode:"cors",credentials:"same-origin"}).then((t=>t.json())).then(e).catch(n)}))}function V(t){return Object.keys(t).reduce(((e,n)=>(e.push("object"==typeof t[n]?V(t[n]):`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`),e)),[]).join("&")}z.glass=`\n  <div class="${U.glass.control} ${U.olControl}">\n    <button type="button" id="${E.buttonControlId}" class="${U.glass.button}"></button>\n    <input type="text" id="${E.inputQueryId}" class="${U.glass.input}" autocomplete="off" placeholder="Search ...">\n    <a id="${E.inputSearchId}" class="${U.glass.search} ${U.hidden}"></a>\n  </div>\n  <ul class="${U.glass.result}"></ul>\n`,z.input=`\n  <div class="${U.inputText.control}">\n    <label type="button" id="${E.inputSearchId}" class="${U.inputText.label}"></label>\n    <input type="text" id="${E.inputQueryId}" class="${U.inputText.input}" autocomplete="off" placeholder="Search ...">\n    <span class="${U.inputText.icon}"></span>\n    <button type="button" id="${E.inputSearchId}" class="${U.inputText.search} ${U.hidden}"></button>\n  </div>\n  <ul class="${U.inputText.result}"></ul>\n`;class X{constructor(){this.settings={url:"https://photon.komoot.io/api/",params:{q:"",limit:10,lang:"en"},langs:["de","it","fr","en"]}}getParameters(t){return t.lang=t.lang.toLowerCase(),{url:this.settings.url,params:{q:t.query,limit:t.limit||this.settings.params.limit,lang:this.settings.langs.includes(t.lang)?t.lang:this.settings.params.lang}}}handleResponse(t){return 0===t.features.length?[]:t.features.map((t=>({lon:t.geometry.coordinates[0],lat:t.geometry.coordinates[1],address:{name:t.properties.name,postcode:t.properties.postcode,city:t.properties.city,state:t.properties.state,country:t.properties.country},original:{formatted:t.properties.name,details:t.properties}})))}}class W{constructor(t){this.settings={url:"https://nominatim.openstreetmap.org/search",...t,params:{q:"",format:"json",addressdetails:1,limit:10,countrycodes:"",viewbox:"","accept-language":"en-US"}}}getParameters(t){return{url:this.settings.url,params:{q:t.query,format:this.settings.params.format,addressdetails:this.settings.params.addressdetails,limit:t.limit||this.settings.params.limit,countrycodes:t.countrycodes||this.settings.params.countrycodes,viewbox:t.viewbox||this.settings.params.viewbox,"accept-language":t.lang||this.settings.params["accept-language"]}}}handleResponse(t){return 0===t.length?[]:t.map((t=>({lon:t.lon,lat:t.lat,bbox:t.boundingbox,address:{name:t.display_name,road:t.address.road||"",houseNumber:t.address.house_number||"",postcode:t.address.postcode,city:t.address.city||t.address.town,state:t.address.state,country:t.address.country},original:{formatted:t.display_name,details:t.address}})))}}class Y{constructor(){this.settings={url:"https://nominatim.openstreetmap.org/search",params:{q:"",key:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}}getParameters(t){return{url:this.settings.url,params:{q:t.query,key:t.key,format:"json",addressdetails:1,limit:t.limit||this.settings.params.limit,countrycodes:t.countrycodes||this.settings.params.countrycodes,"accept-language":t.lang||this.settings.params["accept-language"]}}}handleResponse(t){return 0===t.length?[]:t.map((t=>({lon:t.lon,lat:t.lat,address:{name:t.address.neighbourhood||"",road:t.address.road||"",postcode:t.address.postcode,city:t.address.city||t.address.town,state:t.address.state,country:t.address.country},original:{formatted:t.display_name,details:t.address}})))}}class H{constructor(){this.settings={url:"https://dev.virtualearth.net/REST/v1/Locations",callbackName:"jsonp",params:{query:"",key:"",includeNeighborhood:0,maxResults:10}}}getParameters(t){return{url:this.settings.url,callbackName:this.settings.callbackName,params:{query:t.query,key:t.key,includeNeighborhood:t.includeNeighborhood||this.settings.params.includeNeighborhood,maxResults:t.maxResults||this.settings.params.maxResults}}}handleResponse(t){const{resources:e}=t.resourceSets[0];return 0===e.length?[]:e.map((t=>({lon:t.point.coordinates[1],lat:t.point.coordinates[0],address:{name:t.name},original:{formatted:t.address.formattedAddress,details:t.address}})))}}class ${constructor(){this.settings={url:"https://api.opencagedata.com/geocode/v1/json?",params:{q:"",key:"",limit:10,countrycode:"",pretty:1,no_annotations:1}}}getParameters(t){return{url:this.settings.url,params:{q:t.query,key:t.key,limit:t.limit||this.settings.params.limit,countrycode:t.countrycodes||this.settings.params.countrycodes}}}handleResponse(t){return 0===t.results.length?[]:t.results.map((t=>({lon:t.geometry.lng,lat:t.geometry.lat,address:{name:t.components.house_number||"",road:t.components.road||"",postcode:t.components.postcode,city:t.components.city||t.components.town,state:t.components.state,country:t.components.country},original:{formatted:t.formatted,details:t.components}})))}}const K=E.cssClasses;class J{constructor(t,e){this.Base=t,this.layerName=R("geocoder-layer-"),this.layer=new f.default({background:"transparent",name:this.layerName,source:new d.default,displayInLayerSwitcher:!1}),this.options=t.options,this.options.provider="string"==typeof this.options.provider?this.options.provider.toLowerCase():this.options.provider,this.provider=this.newProvider(),this.els=e,this.container=this.els.container,this.registeredListeners={mapClick:!1},this.setListeners()}setListeners(){this.els.input.addEventListener("keypress",(t=>{const e=t.target.value.trim();(t.key?"Enter"===t.key:t.which?13===t.which:t.keyCode&&13===t.keyCode)&&(t.preventDefault(),this.query(e))}),!1),this.els.input.addEventListener("click",(t=>t.stopPropagation()),!1),this.els.input.addEventListener("input",(t=>{0!==t.target.value.trim().length?N(this.els.search,K.hidden):T(this.els.search,K.hidden)}),!1),this.els.search.addEventListener("click",(()=>{this.els.input.focus(),this.query(this.els.input.value)}),!1),this.options.targetType===A&&this.els.button.addEventListener("click",(t=>{t.stopPropagation(),D(this.els.control,K.glass.expanded)?this.collapse():this.expand()}),!1)}query(t){this.provider||(this.provider=this.newProvider());const e=this.provider.getParameters({query:t,key:this.options.key,lang:this.options.lang,countrycodes:this.options.countrycodes,viewbox:this.options.viewbox,limit:this.options.limit});this.clearResults(!1===this.options.keepOpen),T(this.els.search,K.spin);const n={url:e.url,data:e.params};e.callbackName&&(n.jsonp=!0,n.callbackName=e.callbackName),Z(n).then((t=>{this.options.debug&&console.info(t),N(this.els.search,K.spin);const e=this.provider.handleResponse(t);e&&(this.createList(e),this.listenMapClick())})).catch((()=>{N(this.els.search,K.spin);const t=j("li","<h5>Error! No internet connection?</h5>");this.els.result.append(t)}))}createList(t){const e=this.els.result;t.forEach((n=>{let r;if(r=this.options.provider===P?`<span class="${K.road}">${n.address.name}</span>`:this.addressTemplate(n.address),1==t.length)this.chosen(n,r,n.address,n.original);else{const t=j("li",`<a href="#">${r}</a>`);t.addEventListener("click",(t=>{t.preventDefault(),this.chosen(n,r,n.address,n.original)}),!1),e.append(t)}}))}chosen(t,e,n,r){const i=this.Base.getMap(),o=[Number.parseFloat(t.lon),Number.parseFloat(t.lat)],s=i.getView().getProjection(),a=m.transform(o,"EPSG:4326",s);let{bbox:h}=t;h&&(h=m.transformExtent([parseFloat(h[2]),parseFloat(h[0]),parseFloat(h[3]),parseFloat(h[1])],"EPSG:4326",s));const u={formatted:e,details:n,original:r};if(this.clearResults(!0),!0===this.options.preventDefault||!0===this.options.preventMarker)this.Base.dispatchEvent({type:S,address:u,coordinate:a,bbox:h,place:t});else{const e=this.createFeature(a,u);this.Base.dispatchEvent({type:S,address:u,feature:e,coordinate:a,bbox:h,place:t})}!0!==this.options.preventDefault&&!0!==this.options.preventPanning&&(h?i.getView().fit(h,{duration:500}):i.getView().animate({center:a,resolution:this.options.defaultFlyResolution,duration:500}))}createFeature(t){const e=new g.default(new p.default(t));return this.addLayer(),e.setStyle(this.options.featureStyle),e.setId(R("geocoder-ft-")),this.getSource().addFeature(e),e}addressTemplate(t){const e=[];return t.name&&e.push(['<span class="',K.road,'">{name}</span>'].join("")),(t.road||t.building||t.house_number)&&e.push(['<span class="',K.road,'">{building} {road} {house_number}</span>'].join("")),(t.city||t.town||t.village)&&e.push(['<span class="',K.city,'">{postcode} {city} {town} {village}</span>'].join("")),(t.state||t.country)&&e.push(['<span class="',K.country,'">{state} {country}</span>'].join("")),function(t,e){return t.replace(/\{\s*([\w-]+)\s*\}/gu,((t,n)=>{const r=void 0===e[n]?"":e[n];return String(r).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}))}(e.join("<br>"),t)}newProvider(){switch(this.options.provider){case P:return new W(this.options);case"mapquest":return new Y;case"photon":return new X;case"bing":return new H;case"opencage":return new $;default:return this.options.provider}}expand(){N(this.els.input,K.spin),T(this.els.control,K.glass.expanded),window.setTimeout((()=>this.els.input.focus()),100),this.listenMapClick()}collapse(){this.els.input.value="",this.els.input.blur(),T(this.els.search,K.hidden),N(this.els.control,K.glass.expanded),F(this.els.result)}listenMapClick(){if(this.registeredListeners.mapClick)return;const t=this,e=this.Base.getMap().getTargetElement();this.registeredListeners.mapClick=!0,e.addEventListener("click",{handleEvent(n){e.removeEventListener(n.type,this,!1),t.registeredListeners.mapClick=!1}},!1)}clearResults(t){t&&this.options.targetType===A?this.collapse():F(this.els.result)}getSource(){return this.layer.getSource()}addLayer(){let t=!1;const e=this.Base.getMap();e.getLayers().forEach((e=>{e===this.layer&&(t=!0)})),t||e.addLayer(this.layer)}}class Q extends u.default{constructor(t=C,e){k("string"==typeof t,"@param `type` should be string!"),k(t===C||t===I,`@param 'type' should be '${C}'\n      or '${I}'!`);const n={...O,featureStyle:[new l.default({image:new c.default({anchor:[.5,1],src:'data:image/svg+xml;charset=utf-8,<svg width="26" height="42" viewBox="0 0 26 42" xmlns="http://www.w3.org/2000/svg"><polygon points="1,18 14,42 25,18" fill="rgb(75,75,75)" /><ellipse cx="13" cy="13" rx="13" ry="13" fill="rgb(75,75,75)" /><ellipse cx="13" cy="14" rx="6" ry="6" fill="yellow" /></svg>'})})],...e};let r,i;const o=new z(n);if(t===C&&(r=o.els.container),super({element:r,...n}),!(this instanceof Q))return new Q;this.options=n,this.container=r,t===C&&(i=new J(this,o.els),this.layer=i.layer)}getLayer(){return this.layer}getSource(){return this.getLayer().getSource()}setProvider(t){this.options.provider=t}setProviderKey(t){this.options.key=t}}return Q}(n(88775),n(47539),n(2370),n(33661),n(71800),n(60188),n(81090),n(35798))},66421:function(t,e,n){t.exports=function(t,e,n){"use strict";t="default"in t?t.default:t,n="default"in n?n.default:n;const r="layer-switcher-";class i extends t{constructor(t){const e=Object.assign({},t),n=document.createElement("div");super({element:n,target:e.target}),this.activationMode=e.activationMode||"mouseover",this.startActive=!0===e.startActive,this.label=void 0!==e.label?e.label:"",this.collapseLabel=void 0!==e.collapseLabel?e.collapseLabel:"",this.tipLabel=e.tipLabel?e.tipLabel:"Legend",this.collapseTipLabel=e.collapseTipLabel?e.collapseTipLabel:"Collapse legend",this.groupSelectStyle=i.getGroupSelectStyle(e.groupSelectStyle),this.reverse=!1!==e.reverse,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",i.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",n.className=this.hiddenClassName,this.button=document.createElement("button"),n.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",n.appendChild(this.panel),i.enableTouchScroll_(this.panel),n.classList.add(r+"group-select-style-"+this.groupSelectStyle),n.classList.add(r+"activation-mode-"+this.activationMode),"click"===this.activationMode?(n.classList.add("activationModeClick"),this.button.onclick=t=>{const e=t||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),e.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=t=>{const e=t||window.event;this.showPanel(),e.preventDefault()},this.panel.onmouseout=t=>{this.panel.contains(t.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(t){for(let t=0;t<this.mapListeners.length;t++)e.unByKey(this.mapListeners[t]);this.mapListeners.length=0,super.setMap(t),t&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode&&this.mapListeners.push(t.on("pointerdown",(()=>{this.hidePanel()}))))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),i.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(t,e,n){const r=new Event("render");for(e.dispatchEvent(r),(n=n||{}).groupSelectStyle=i.getGroupSelectStyle(n.groupSelectStyle),i.ensureTopVisibleBaseLayerShown(t,n.groupSelectStyle);e.firstChild;)e.removeChild(e.firstChild);i.forEachRecursive(t,(function(t,e,n){t.set("indeterminate",!1)})),"children"===n.groupSelectStyle||"none"===n.groupSelectStyle?i.setGroupVisibility(t):"group"===n.groupSelectStyle&&i.setChildVisibility(t);const o=document.createElement("ul");e.appendChild(o),i.renderLayers_(t,t,o,n,(function(r){i.renderPanel(t,e,n)}));const s=new Event("rendercomplete");e.dispatchEvent(s)}static isBaseGroup(t){if(t instanceof n){const e=t.getLayers().getArray();return e.length&&"base"===e[0].get("type")}return!1}static setGroupVisibility(t){i.getGroupsAndLayers(t,(function(t){return t instanceof n&&!t.get("combine")&&!i.isBaseGroup(t)})).reverse().forEach((function(t){const e=t.getLayersArray().map((function(t){return t.getVisible()}));e.every((function(t){return!0===t}))?(t.setVisible(!0),t.set("indeterminate",!1)):e.every((function(t){return!1===t}))?(t.setVisible(!1),t.set("indeterminate",!1)):(t.setVisible(!0),t.set("indeterminate",!0))}))}static setChildVisibility(t){i.getGroupsAndLayers(t,(function(t){return t instanceof n&&!t.get("combine")&&!i.isBaseGroup(t)})).forEach((function(t){const e=t,n=e.getVisible(),r=e.get("indeterminate");e.getLayers().getArray().forEach((function(t){t.set("indeterminate",!1),n&&!r||!t.getVisible()||t.set("indeterminate",!0)}))}))}static ensureTopVisibleBaseLayerShown(t,e){let n;i.forEachRecursive(t,(function(t,e,r){"base"===t.get("type")&&t.getVisible()&&(n=t)})),n&&i.setVisible_(t,n,!0,e)}static getGroupsAndLayers(t,e){const n=[];return e=e||function(t,e,n){return!0},i.forEachRecursive(t,(function(t,r,i){t.get("title")&&e(t,r,i)&&n.push(t)})),n}static setVisible_(t,e,r,o){e.setVisible(r),r&&"base"===e.get("type")&&i.forEachRecursive(t,(function(t,n,r){t!=e&&"base"===t.get("type")&&t.setVisible(!1)})),e instanceof n&&!e.get("combine")&&"children"===o&&e.getLayers().forEach((n=>{i.setVisible_(t,n,e.getVisible(),o)}))}static renderLayer_(t,e,o,s,a){const h=document.createElement("li"),u=e.get("title"),l=i.uuid(),c=document.createElement("label");if(e instanceof n&&!e.get("combine")){const n=i.isBaseGroup(e);if(h.classList.add("group"),n&&h.classList.add(r+"base-group"),e.get("fold")){h.classList.add(r+"fold"),h.classList.add(r+e.get("fold"));const t=document.createElement("button");t.onclick=function(t){const n=t||window.event;i.toggleFold_(e,h),n.preventDefault()},h.appendChild(t)}if(!n&&"none"!=s.groupSelectStyle){const n=document.createElement("input");n.type="checkbox",n.id=l,n.checked=e.getVisible(),n.indeterminate=e.get("indeterminate"),n.onchange=function(n){const r=n.target;i.setVisible_(t,e,r.checked,s.groupSelectStyle),a(e)},h.appendChild(n),c.htmlFor=l}c.innerHTML=u,h.appendChild(c);const o=document.createElement("ul");h.appendChild(o),i.renderLayers_(t,e,o,s,a)}else{h.className="layer";const n=document.createElement("input");"base"===e.get("type")?n.type="radio":n.type="checkbox",n.id=l,n.checked=e.get("visible"),n.indeterminate=e.get("indeterminate"),n.onchange=function(n){const r=n.target;i.setVisible_(t,e,r.checked,s.groupSelectStyle),a(e)},h.appendChild(n),c.htmlFor=l,c.innerHTML=u;const r=t.getView().getResolution();if(r>=e.getMaxResolution()||r<e.getMinResolution())c.className+=" disabled";else if(e.getMinZoom&&e.getMaxZoom){const n=t.getView().getZoom();(n<=e.getMinZoom()||n>e.getMaxZoom())&&(c.className+=" disabled")}h.appendChild(c)}return h}static renderLayers_(t,e,n,r,o){let s=e.getLayers().getArray().slice();r.reverse&&(s=s.reverse());for(let e,a=0;a<s.length;a++)e=s[a],e.get("title")&&n.appendChild(i.renderLayer_(t,e,a,r,o))}static forEachRecursive(t,e){t.getLayers().forEach((function(t,r,o){e(t,r,o),t instanceof n&&i.forEachRecursive(t,e)}))}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}static enableTouchScroll_(t){if(i.isTouchDevice_()){let e=0;t.addEventListener("touchstart",(function(t){e=this.scrollTop+t.touches[0].pageY}),!1),t.addEventListener("touchmove",(function(t){this.scrollTop=e-t.touches[0].pageY}),!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}static toggleFold_(t,e){e.classList.remove(r+t.get("fold")),t.set("fold","open"===t.get("fold")?"close":"open"),e.classList.add(r+t.get("fold"))}static getGroupSelectStyle(t){return["none","children","group"].indexOf(t)>=0?t:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=i),i}(n(88775),n(62706),n(68734))},52818:(t,e,n)=>{"use strict";var r=n(39809);e.certificate=n(41934);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));e.PublicKey=a;var h=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=h;var u=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=l,e.DSAparam=r.define("DSAparam",(function(){this.int()}));var c=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(c),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=f,e.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},41934:(t,e,n)=>{"use strict";var r=n(39809),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),h=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=r.define("RDNSequence",(function(){this.seqof(h)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),c=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(c),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));t.exports=p},77631:(t,e,n)=>{"use strict";var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=n(13048),a=n(44696),h=n(22294).Buffer;t.exports=function(t,e){var n,u=t.toString(),l=u.match(r);if(l){var c="aes"+l[1],f=h.from(l[2],"hex"),d=h.from(l[3].replace(/[\r\n]/g,""),"base64"),p=s(e,f.slice(0,8),parseInt(l[1],10)).key,g=[],m=a.createDecipheriv(c,p,f);g.push(m.update(d)),g.push(m.final()),n=h.concat(g)}else{var y=u.match(o);n=h.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:n}}},70980:(t,e,n)=>{"use strict";var r=n(52818),i=n(22562),o=n(77631),s=n(44696),a=n(25632),h=n(22294).Buffer;function u(t){var e;"object"!=typeof t||h.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=h.from(t));var n,u,l=o(t,e),c=l.tag,f=l.data;switch(c){case"CERTIFICATE":u=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(f,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":f=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,c=parseInt(o.split("-")[1],10)/8,f=a.pbkdf2Sync(e,n,r,c,"sha1"),d=s.createDecipheriv(o,f,u),p=[];return p.push(d.update(l)),p.push(d.final()),h.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(n=(u=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+c)}}u.signature=r.signature,t.exports=u},22294:(t,e,n)=>{var r=n(48764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},25632:(t,e,n)=>{e.pbkdf2=n(88638),e.pbkdf2Sync=n(91257)},88638:(t,e,n)=>{var r,i,o=n(89509).Buffer,s=n(77357),a=n(12368),h=n(91257),u=n(57777),l=n.g.crypto&&n.g.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=n.g.process&&n.g.process.nextTick?n.g.process.nextTick:n.g.queueMicrotask?n.g.queueMicrotask:n.g.setImmediate?n.g.setImmediate:n.g.setTimeout)}function p(t,e,n,r,i){return l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return l.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,e,i,g,m,y){"function"==typeof m&&(y=m,m=void 0);var v=c[(m=m||"sha1").toLowerCase()];if(v&&"function"==typeof n.g.Promise){if(s(i,g),t=u(t,a,"Password"),e=u(e,a,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){d()((function(){e(null,t)}))}),(function(t){d()((function(){e(t)}))}))}(function(t){if(n.g.process&&!n.g.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var e=p(r=r||o.alloc(8),r,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=e,e}(v).then((function(n){return n?p(t,e,i,g,v):h(t,e,i,g,m)})),y)}else d()((function(){var n;try{n=h(t,e,i,g,m)}catch(t){return y(t)}y(null,n)}))}},12368:(t,e,n)=>{var r,i=n(34155);r=n.g.process&&n.g.process.browser?"utf-8":n.g.process&&n.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=r},77357:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,n){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof n)throw new TypeError("Key length not a number");if(n<0||n>e||n!=n)throw new TypeError("Bad key length")}},91257:(t,e,n)=>{var r=n(78028),i=n(79785),o=n(89072),s=n(89509).Buffer,a=n(77357),h=n(12368),u=n(57777),l=s.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,n){var a=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?r:function(e){return o(t).update(e).digest()}}(t),h="sha512"===t||"sha384"===t?128:64;e.length>h?e=a(e):e.length<h&&(e=s.concat([e,l],h));for(var u=s.allocUnsafe(h+c[t]),f=s.allocUnsafe(h+c[t]),d=0;d<h;d++)u[d]=54^e[d],f[d]=92^e[d];var p=s.allocUnsafe(h+n+4);u.copy(p,0,0,h),this.ipad1=p,this.ipad2=u,this.opad=f,this.alg=t,this.blocksize=h,this.hash=a,this.size=c[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,r,i){a(n,r);var o=new f(i=i||"sha1",t=u(t,h,"Password"),(e=u(e,h,"Salt")).length),l=s.allocUnsafe(r),d=s.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,g=c[i],m=Math.ceil(r/g),y=1;y<=m;y++){d.writeUInt32BE(y,e.length);for(var v=o.run(d,o.ipad1),_=v,b=1;b<n;b++){_=o.run(_,o.ipad2);for(var w=0;w<g;w++)v[w]^=_[w]}v.copy(l,p),p+=g}return l}},57777:(t,e,n)=>{var r=n(89509).Buffer;t.exports=function(t,e,n){if(r.isBuffer(t))return t;if("string"==typeof t)return r.from(t,e);if(ArrayBuffer.isView(t))return r.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},11895:t=>{t.exports=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=(r-n)/2,h=0,u=a-1;h<a;u=h++){var l=e[n+2*h+0],c=e[n+2*h+1],f=e[n+2*u+0],d=e[n+2*u+1];c>o!=d>o&&i<(f-l)*(o-c)/(d-c)+l&&(s=!s)}return s}},26960:(t,e,n)=>{var r=n(11895),i=n(88139);t.exports=function(t,e,n,o){return e.length>0&&Array.isArray(e[0])?i(t,e,n,o):r(t,e,n,o)},t.exports.nested=i,t.exports.flat=r},88139:t=>{t.exports=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=r-n,h=0,u=a-1;h<a;u=h++){var l=e[h+n][0],c=e[h+n][1],f=e[u+n][0],d=e[u+n][1];c>o!=d>o&&i<(f-l)*(o-c)/(d-c)+l&&(s=!s)}return s}},32676:function(t,e,n){var r=n(34155);t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var i=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function o(t,e){return t>e?1:t<e?-1:0}function s(t,e,n){for(var r=new i(null,null),o=r,s=r;;){var a=n(t,e.key);if(a<0){if(null===e.left)break;if(n(t,e.left.key)<0){var h=e.left;if(e.left=h.right,h.right=e,null===(e=h).left)break}s.left=e,s=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(h=e.right,e.right=h.left,h.left=e,null===(e=h).right))break;o.right=e,o=e,e=e.right}}return o.right=e.left,s.left=e.right,e.left=r.right,e.right=r.left,e}function a(t,e,n,r){var o=new i(t,e);if(null===n)return o.left=o.right=null,o;var a=r(t,(n=s(t,n,r)).key);return a<0?(o.left=n.left,o.right=n,n.left=null):a>=0&&(o.right=n.right,o.left=n,n.right=null),o}function h(t,e,n){var r=null,i=null;if(e){var o=n((e=s(t,e,n)).key,t);0===o?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function u(t,e,n,r,i){if(t){r(e+(n?" ":" ")+i(t)+"\n");var o=e+(n?"    ":"   ");t.left&&u(t.left,o,!1,r,i),t.right&&u(t.right,o,!0,r,i)}}var l=function(){function t(t){void 0===t&&(t=o),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=a(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new i(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,o=s(t,this._root,r),a=r(t,o.key);return 0===a?this._root=o:(a<0?(n.left=o.left,n.right=o,o.left=null):a>0&&(n.right=o.right,n.left=o,o.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var r;return null===e?null:0===n(t,(e=s(t,e,n)).key)?(null===e.left?r=e.right:(r=s(t,e.left,n)).right=e.right,this._size--,r):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=s(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=s(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this},t.prototype.range=function(t,e,n,r){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,n=[],r=!1,o=new i(null,null),s=o;!r;)e?(n.push(e),e=e.left):n.length>0?e=(e=s=s.next=n.pop()).right:r=!0;return s.next=null,o.next}(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=t.length,o=this._comparator;if(n&&d(t,e,0,r-1,o),null===this._root)this._root=c(t,e,0,r),this._size=r;else{var s=function(t,e,n){for(var r=new i(null,null),o=r,s=t,a=e;null!==s&&null!==a;)n(s.key,a.key)<0?(o.next=s,s=s.next):(o.next=a,a=a.next),o=o.next;return null!==s?o.next=s:null!==a&&(o.next=a),r.next}(this.toList(),function(t,e){for(var n=new i(null,null),r=n,o=0;o<t.length;o++)r=r.next=new i(t[o],e[o]);return r.next=null,n.next}(t,e),o);r=this._size+r,this._root=f({head:s},0,r)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return u(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,n){var r=this._comparator,i=h(t,this._root,r),o=i.left,u=i.right;r(t,e)<0?u=a(e,n,u,r):o=a(e,n,o,r),this._root=function(t,e,n){return null===e?t:(null===t||((e=s(t.key,e,n)).left=t),e)}(o,u,r)},t.prototype.split=function(t){return h(t,this._root,this._comparator)},t}();function c(t,e,n,r){var o=r-n;if(o>0){var s=n+Math.floor(o/2),a=t[s],h=e[s],u=new i(a,h);return u.left=c(t,e,n,s),u.right=c(t,e,s+1,r),u}return null}function f(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=f(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=f(t,i+1,n),s}return null}function d(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],s=n-1,a=r+1;;){do{s++}while(i(t[s],o)<0);do{a--}while(i(t[a],o)>0);if(s>=a)break;var h=t[s];t[s]=t[a],t[a]=h,h=e[s],e[s]=e[a],e[a]=h}d(t,e,n,a,i),d(t,e,a+1,r,i)}}var p=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},g=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},m=Number.EPSILON;void 0===m&&(m=Math.pow(2,-52));var y=m*m,v=function(t,e){if(-m<t&&t<m&&-m<e&&e<m)return 0;var n=t-e;return n*n<y*t*e?0:t<e?-1:1},_=function(){function e(){t(this,e),this.reset()}return n(e,[{key:"reset",value:function(){this.xRounder=new b,this.yRounder=new b}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),b=function(){function e(){t(this,e),this.tree=new l,this.round(0)}return n(e,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===v(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===v(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),e}(),w=new _,x=function(t,e){return t.x*e.y-t.y*e.x},M=function(t,e){return t.x*e.x+t.y*e.y},E=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=x(r,i);return v(o,0)},S=function(t){return Math.sqrt(M(t,t))},C=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return M(i,r)/S(i)/S(r)},I=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},A=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},P=function(){function e(n,r){t(this,e),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return n(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:k.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),n(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var i,o,s,a,h,u=r.otherSE;n.set(r,{sine:(i=e.point,o=t.point,s=u.point,a={x:o.x-i.x,y:o.y-i.y},h={x:s.x-i.x,y:s.y-i.y},x(h,a)/S(h)/S(a)),cosine:C(e.point,t.point,u.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,s=i.cosine,a=n.get(e),h=a.sine,u=a.cosine;return o>=0&&h>=0?s<u?1:s>u?-1:0:o<0&&h<0?s<u?-1:s>u?1:0:h<o?-1:h>o?1:0}}}]),e}(),O=0,k=function(){function e(n,r,i,o){t(this,e),this.id=++O,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=o}return n(e,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,h=t.rightSE.point.y,u=e.rightSE.point.y;if(n<r){if(a<s&&a<h)return 1;if(a>s&&a>h)return-1;var l=t.comparePoint(e.leftSE.point);if(l<0)return 1;if(l>0)return-1;var c=e.comparePoint(t.rightSE.point);return 0!==c?c:-1}if(n>r){if(s<a&&s<u)return-1;if(s>a&&s>u)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var d=t.comparePoint(e.rightSE.point);return d<0?1:d>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var p=e.comparePoint(t.rightSE.point);if(0!==p)return p}if(i>o){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(i!==o){var m=h-s,y=i-n,v=u-a,_=o-r;if(m>y&&v<_)return 1;if(m<y&&v>_)return-1}return i>o?1:i<o||h<u?-1:h>u?1:t.id<e.id?-1:t.id>e.id?1:0}}]),n(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;var s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=g(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,h=p(e,s)&&0===this.comparePoint(s),u=p(n,i)&&0===t.comparePoint(i),l=p(e,a)&&0===this.comparePoint(a),c=p(n,o)&&0===t.comparePoint(o);if(u&&h)return c&&!l?o:!c&&l?a:null;if(u)return l&&i.x===a.x&&i.y===a.y?null:i;if(h)return c&&o.x===s.x&&o.y===s.y?null:s;if(c&&l)return null;if(c)return o;if(l)return a;var f=function(t,e,n,r){if(0===e.x)return A(n,r,t.x);if(0===r.x)return A(t,e,n.x);if(0===e.y)return I(n,r,t.y);if(0===r.y)return I(t,e,n.y);var i=x(e,r);if(0==i)return null;var o={x:n.x-t.x,y:n.y-t.y},s=x(o,e)/i,a=x(o,r)/i;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}}(i,this.vector(),s,t.vector());return null===f?null:p(r,f)?w.round(f.x,f.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,i=new P(t,!0),o=new P(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new e(i,s,this.rings.slice(),this.windings.slice());return P.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),P.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,h=r.rings.length;a<h;a++){var u=r.rings[a],l=r.windings[a],c=n.rings.indexOf(u);-1===c?(n.rings.push(u),n.windings.push(l)):n.windings[c]+=l}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],h=e.indexOf(s);-1===h?(e.push(s),n.push(a)):n[h]+=a}for(var u=[],l=[],c=0,f=e.length;c<f;c++)if(0!==n[c]){var d=e[c],p=d.poly;if(-1===l.indexOf(p))if(d.isExterior)u.push(p);else{-1===l.indexOf(p)&&l.push(p);var g=u.indexOf(d.poly);-1!==g&&u.splice(g,1)}}for(var m=0,y=u.length;m<y;m++){var v=u[m].multiPoly;-1===r.indexOf(v)&&r.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(q.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===q.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(q.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,s,a=P.comparePoints(t,n);if(a<0)i=t,o=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=n,o=t,s=-1}return new e(new P(i,!0),new P(o,!1),[r],[s])}}]),e}(),R=function(){function e(n,r,i){if(t(this,e),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!=typeof n[0][0]||"number"!=typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=w.round(n[0][0],n[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var s=o,a=1,h=n.length;a<h;a++){if("number"!=typeof n[a][0]||"number"!=typeof n[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=w.round(n[a][0],n[a][1]);u.x===s.x&&u.y===s.y||(this.segments.push(k.fromRing(s,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),s=u)}o.x===s.x&&o.y===s.y||this.segments.push(k.fromRing(s,o,this))}return n(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),e}(),L=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new R(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=n.length;i<o;i++){var s=new R(n[i],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=r}return n(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),T=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof n[0][0][0]&&(n=[n])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=n.length;i<o;i++){var s=new L(n[i],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=r}return n(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),N=function(){function e(n){t(this,e),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return n(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,h=o.rightSE,u=[a],l=a.point,c=[];s=a,a=h,u.push(a),a.point!==l;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var d=u[0].point,p=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(d.x,",")+" ".concat(d.y,"]. Last matching segment found ends at")+" [".concat(p.x,", ").concat(p.y,"]."))}if(1===f.length){h=f[0].otherSE;break}for(var g=null,m=0,y=c.length;m<y;m++)if(c[m].point===a.point){g=m;break}if(null===g){c.push({index:u.length,point:a.point});var v=a.getLeftmostComparator(s);h=f.sort(v)[0].otherSE;break}var _=c.splice(g)[0],b=u.splice(_.index);b.unshift(b[0].otherSE),n.push(new e(b.reverse()))}n.push(new e(u))}}return n}}]),n(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==E(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===E(s,t,a)&&e.shift(),e.push(e[0]);for(var h=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:e.length-1,l=this.isExteriorRing()?e.length:-1,c=[],f=u;f!=l;f+=h)c.push([e[f].x,e[f].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];P.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),e}(),D=function(){function e(n){t(this,e),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return n(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),e}(),F=function(){function e(n){t(this,e),this.rings=n,this.polys=this._composePolys(n)}return n(e,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new D(i));else{var o=i.enclosingRing();o.poly||e.push(new D(o)),o.poly.addInterior(i)}}return e}}]),e}(),j=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.compare;t(this,e),this.queue=n,this.tree=new l(r),this.segments=[]}return n(e,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var h=null;if(s){var u=s.getIntersection(e);if(null!==u&&(e.isAnEndpoint(u)||(h=u),!s.isAnEndpoint(u)))for(var l=this._splitSafely(s,u),c=0,f=l.length;c<f;c++)n.push(l[c])}var d=null;if(a){var p=a.getIntersection(e);if(null!==p&&(e.isAnEndpoint(p)||(d=p),!a.isAnEndpoint(p)))for(var g=this._splitSafely(a,p),m=0,y=g.length;m<y;m++)n.push(g[m])}if(null!==h||null!==d){var v;v=null===h?d:null===d||P.comparePoints(h,d)<=0?h:d,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var _=e.split(v),b=0,w=_.length;b<w;b++)n.push(_[b])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var x=s.getIntersection(a);if(null!==x){if(!s.isAnEndpoint(x))for(var M=this._splitSafely(s,x),E=0,S=M.length;E<S;E++)n.push(M[E]);if(!a.isAnEndpoint(x))for(var C=this._splitSafely(a,x),I=0,A=C.length;I<A;I++)n.push(C[I])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),e}(),B=void 0!==r&&r.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,G=void 0!==r&&r.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,q=new(function(){function e(){t(this,e)}return n(e,[{key:"run",value:function(t,e,n){q.type=t,w.reset();for(var r=[new T(e,!0)],i=0,o=n.length;i<o;i++)r.push(new T(n[i],!1));if(q.numMultiPolys=r.length,"difference"===q.type)for(var s=r[0],a=1;a<r.length;)null!==g(r[a].bbox,s.bbox)?a++:r.splice(a,1);if("intersection"===q.type)for(var h=0,u=r.length;h<u;h++)for(var c=r[h],f=h+1,d=r.length;f<d;f++)if(null===g(c.bbox,r[f].bbox))return[];for(var p=new l(P.compare),m=0,y=r.length;m<y;m++)for(var v=r[m].getSweepEvents(),_=0,b=v.length;_<b;_++)if(p.insert(v[_]),p.size>B)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var x=new j(p),M=p.size,E=p.pop();E;){var S=E.key;if(p.size===M){var C=S.segment;throw new Error("Unable to pop() ".concat(S.isLeft?"left":"right"," SweepEvent ")+"[".concat(S.point.x,", ").concat(S.point.y,"] from segment #").concat(C.id," ")+"[".concat(C.leftSE.point.x,", ").concat(C.leftSE.point.y,"] -> ")+"[".concat(C.rightSE.point.x,", ").concat(C.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(p.size>B)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(x.segments.length>G)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var I=x.process(S),A=0,O=I.length;A<O;A++){var k=I[A];void 0===k.consumedBy&&p.insert(k)}M=p.size,E=p.pop()}w.reset();var R=N.factory(x.segments);return new F(R).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q.run("union",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q.run("intersection",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q.run("xor",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q.run("difference",t,n)}}}()},88212:(t,e,n)=>{"use strict";var r=n(34155);void 0===r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(t);case 2:return r.nextTick((function(){t.call(null,e)}));case 3:return r.nextTick((function(){t.call(null,e,n)}));case 4:return r.nextTick((function(){t.call(null,e,n,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return r.nextTick((function(){t.apply(null,o)}))}}}:t.exports=r},34155:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,h=[],u=!1,l=-1;function c(){u&&a&&(u=!1,a.length?h=a.concat(h):l=-1,h.length&&f())}function f(){if(!u){var t=s(c);u=!0;for(var e=h.length;e;){for(a=h,h=[];++l<e;)a&&a[l].run();l=-1,e=h.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new d(t,e)),1!==h.length||u||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},7900:(t,e,n)=>{e.publicEncrypt=n(16559),e.privateDecrypt=n(26138),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},99199:(t,e,n)=>{var r=n(23482),i=n(89509).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,s=i.alloc(0),a=0;s.length<e;)n=o(a++),s=i.concat([s,r("sha1").update(t).update(n).digest()]);return s.slice(0,e)}},92144:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(77108).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=h(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,l=n;l<a;l+=r)h=u(t,l,l+r,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,s=t.words,a=e.words,h=n.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,x=0|s[4],M=8191&x,E=x>>>13,S=0|s[5],C=8191&S,I=S>>>13,A=0|s[6],P=8191&A,O=A>>>13,k=0|s[7],R=8191&k,L=k>>>13,T=0|s[8],N=8191&T,D=T>>>13,F=0|s[9],j=8191&F,B=F>>>13,G=0|a[0],q=8191&G,U=G>>>13,z=0|a[1],Z=8191&z,V=z>>>13,X=0|a[2],W=8191&X,Y=X>>>13,H=0|a[3],$=8191&H,K=H>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(c,q))|0)+((8191&(i=(i=Math.imul(c,U))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,U))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,U))+Math.imul(g,q)|0,o=Math.imul(g,U);var yt=(u+(r=r+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,V)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,U))+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,V)|0;var vt=(u+(r=r+Math.imul(c,W)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,q),i=(i=Math.imul(b,U))+Math.imul(w,q)|0,o=Math.imul(w,U),r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var _t=(u+(r=r+Math.imul(c,$)|0)|0)+((8191&(i=(i=i+Math.imul(c,K)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,U))+Math.imul(E,q)|0,o=Math.imul(E,U),r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,K)|0;var bt=(u+(r=r+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,U))+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var wt=(u+(r=r+Math.imul(c,nt)|0)|0)+((8191&(i=(i=i+Math.imul(c,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,U))+Math.imul(O,q)|0,o=Math.imul(O,U),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var xt=(u+(r=r+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,q),i=(i=Math.imul(R,U))+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var Mt=(u+(r=r+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,q),i=(i=Math.imul(N,U))+Math.imul(D,q)|0,o=Math.imul(D,U),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,ut)|0;var Et=(u+(r=r+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,U))+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ft)|0;var St=(u+(r=r+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,gt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,V))+Math.imul(B,Z)|0,o=Math.imul(B,V),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(B,W)|0,o=Math.imul(B,Y),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var It=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,K))+Math.imul(B,$)|0,o=Math.imul(B,K),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var At=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Pt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(B,nt)|0,o=Math.imul(B,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var kt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,ht),i=(i=Math.imul(j,ut))+Math.imul(B,ht)|0,o=Math.imul(B,ut),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Rt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ft))+Math.imul(B,ct)|0,o=Math.imul(B,ft);var Lt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,gt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Tt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(B,pt)|0))<<13)|0;return u=((o=Math.imul(B,gt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=yt,h[2]=vt,h[3]=_t,h[4]=bt,h[5]=wt,h[6]=xt,h[7]=Mt,h[8]=Et,h[9]=St,h[10]=Ct,h[11]=It,h[12]=At,h[13]=Pt,h[14]=Ot,h[15]=kt,h[16]=Rt,h[17]=Lt,h[18]=Tt,0!==u&&(h[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=n[l+d],g=r[l+d],m=n[l+d+s],y=r[l+d+s],v=c*m-f*y;y=c*y+f*m,m=v,n[l+d]=p+m,r[l+d]=g+y,n[l+d+s]=p-m,r[l+d+s]=g-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),h=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,h,r,i),this.transform(u,o,l,c,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,h=r.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,h);0===l.negative&&(r=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|r.words[i.length+c])+(0|r.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,c);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(h)):(n.isub(e),a.isub(i),h.isub(s))}return{a,b:h,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),_.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(x,v),x.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return y[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=m}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=h-1;l>=0;l--){var c=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},26138:(t,e,n)=>{var r=n(70980),i=n(99199),o=n(57859),s=n(92144),a=n(23663),h=n(23482),u=n(84818),l=n(89509).Buffer;t.exports=function(t,e,n){var c;c=t.padding?t.padding:n?1:4;var f,d=r(t),p=d.modulus.byteLength();if(e.length>p||new s(e).cmp(d.modulus)>=0)throw new Error("decryption error");f=n?u(new s(e),d):a(e,d);var g=l.alloc(p-f.length);if(f=l.concat([g,f],p),4===c)return function(t,e){var n=t.modulus.byteLength(),r=h("sha1").update(l.alloc(0)).digest(),s=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,s+1),u=e.slice(s+1),c=o(a,i(u,s)),f=o(u,i(c,n-s-1));if(function(t,e){t=l.from(t),e=l.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));for(var i=-1;++i<r;)n+=t[i]^e[i];return n}(r,f.slice(0,s)))throw new Error("decryption error");for(var d=s;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===c)return function(t,e,n){for(var r=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}(0,f,n);if(3===c)return f;throw new Error("unknown padding")}},16559:(t,e,n)=>{var r=n(70980),i=n(61798),o=n(23482),s=n(99199),a=n(57859),h=n(92144),u=n(84818),l=n(23663),c=n(89509).Buffer;t.exports=function(t,e,n){var f;f=t.padding?t.padding:n?1:4;var d,p=r(t);if(4===f)d=function(t,e){var n=t.modulus.byteLength(),r=e.length,u=o("sha1").update(c.alloc(0)).digest(),l=u.length,f=2*l;if(r>n-f-2)throw new Error("message too long");var d=c.alloc(n-r-f-2),p=n-l-1,g=i(l),m=a(c.concat([u,d,c.alloc(1,1),e],p),s(g,p)),y=a(g,s(m,l));return new h(c.concat([c.alloc(1),y,m],n))}(p,e);else if(1===f)d=function(t,e,n){var r,o=e.length,s=t.modulus.byteLength();if(o>s-11)throw new Error("message too long");return r=n?c.alloc(s-o-3,255):function(t){for(var e,n=c.allocUnsafe(t),r=0,o=i(2*t),s=0;r<t;)s===o.length&&(o=i(2*t),s=0),(e=o[s++])&&(n[r++]=e);return n}(s-o-3),new h(c.concat([c.from([0,n?1:2]),r,c.alloc(1),e],s))}(p,e,n);else{if(3!==f)throw new Error("unknown padding");if((d=new h(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(d,p):u(d,p)}},84818:(t,e,n)=>{var r=n(92144),i=n(89509).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},57859:t=>{t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},61798:(t,e,n)=>{"use strict";var r=n(34155),i=65536,o=n(89509).Buffer,s=n.g.crypto||n.g.msCrypto;s&&s.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(t);if(t>0)if(t>i)for(var a=0;a<t;a+=i)s.getRandomValues(n.slice(a,a+i));else s.getRandomValues(n);return"function"==typeof e?r.nextTick((function(){e(null,n)})):n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},77963:(t,e,n)=>{"use strict";var r=n(34155);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(89509),s=n(61798),a=o.Buffer,h=o.kMaxLength,u=n.g.crypto||n.g.msCrypto,l=Math.pow(2,32)-1;function c(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||t<0)throw new TypeError("offset must be a uint32");if(t>h||t>e)throw new RangeError("offset out of range")}function f(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>h)throw new RangeError("buffer too small")}function d(t,e,n,i){if(r.browser){var o=t.buffer,a=new Uint8Array(o,e,n);return u.getRandomValues(a),i?void r.nextTick((function(){i(null,t)})):t}if(!i)return s(n).copy(t,e),t;s(n,(function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)}))}u&&u.getRandomValues||!r.browser?(e.randomFill=function(t,e,r,i){if(!(a.isBuffer(t)||t instanceof n.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return c(e,t.length),f(r,e,t.length),d(t,e,r,i)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(a.isBuffer(t)||t instanceof n.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(e,t.length),void 0===r&&(r=t.length-e),f(r,e,t.length),d(t,e,r)}):(e.randomFill=i,e.randomFillSync=i)},82582:function(t){t.exports=function(){"use strict";function t(t,r,i,o,s){!function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,h=r-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(h-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-h*l/a+c)),Math.min(o,Math.floor(r+(a-h)*l/a+c)),s)}var f=n[r],d=i,p=o;for(e(n,i,r),s(n[o],f)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;s(n[d],f)<0;)d++;for(;s(n[p],f)>0;)p--}0===s(n[i],f)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(t,r,i||0,o||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(i,t.leaf?r(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;t(e,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!d(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;d(t,a)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!d(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(d(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,s=this.data,a=this.toBBox(t),h=[],u=[];s||h.length;){if(s||(s=h.pop(),r=h[h.length-1],n=u.pop(),o=!0),s.leaf){var l=i(t,s.children,e);if(-1!==l)return s.children.splice(l,1),h.push(s),this._condense(h),this}o||s.leaf||!f(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(h.push(s),u.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(s<=a)return o(i=p(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=p([])).leaf=!1,i.height=r;var h=Math.ceil(s/a),u=h*Math.ceil(Math.sqrt(a));g(t,e,n,u,this.compareMinX);for(var l=e;l<=n;l+=u){var c=Math.min(l+u-1,n);g(t,l,c,h,this.compareMinY);for(var f=l;f<=c;f+=h){var d=Math.min(f+h-1,c);i.children.push(this._build(t,f,d,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var h=e.children[a],u=l(h),c=(f=t,d=h,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-u);c<o?(o=c,i=u<i?u:i,s=h):c===o&&u<i&&(i=u,s=h)}e=s||e.children[0]}var f,d;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),a(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=p(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,a,h,u,c,f=1/0,d=1/0,p=e;p<=n-e;p++){var g=s(t,0,p,this.toBBox),m=s(t,p,n,this.toBBox),y=(i=g,o=m,void 0,void 0,void 0,void 0,a=Math.max(i.minX,o.minX),h=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),c=Math.min(i.maxY,o.maxY),Math.max(0,u-a)*Math.max(0,c-h)),v=l(g)+l(m);y<f?(f=y,r=p,d=v<d?v:d):y===f&&v<d&&(d=v,r=p)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:h,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),h=s(t,n-e,n,i),u=c(o)+c(h),l=e;l<n-e;l++){var f=t.children[l];a(o,t.leaf?i(f):f),u+=c(o)}for(var d=n-e-1;d>=e;d--){var p=t.children[d];a(h,t.leaf?i(p):p),u+=c(h)}return u},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},56753:(t,e,n)=>{"use strict";var r=n(88212),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var o=Object.create(n(16497));o.inherits=n(35717);var s=n(79481),a=n(64229);o.inherits(c,s);for(var h=i(a.prototype),u=0;u<h.length;u++){var l=h[u];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},82725:(t,e,n)=>{"use strict";t.exports=o;var r=n(74605),i=Object.create(n(16497));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(35717),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},79481:(t,e,n)=>{"use strict";var r=n(34155),i=n(88212);t.exports=_;var o,s=n(5826);_.ReadableState=v,n(17187).EventEmitter;var a=function(t,e){return t.listeners(e).length},h=n(22503),u=n(89509).Buffer,l=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=Object.create(n(16497));c.inherits=n(35717);var f=n(94616),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(25057),m=n(61195);c.inherits(_,h);var y=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(o=o||n(56753));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(32553).s),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function _(t){if(o=o||n(56753),!(this instanceof _))return new _(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function b(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}}(t,s)):(i||(o=function(t,e){var n,r;return r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):C(t,s)):w(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),C(t,e)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(t,e){this.push(null),e(t)},_.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},_.prototype.unshift=function(t){return b(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return p||(p=n(32553).s),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var x=8388608;function M(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(S,t):S(t))}function S(t){d("emit readable"),t.emit("readable"),O(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function A(t){d("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function k(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(L,e,t))}function L(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}_.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):E(this),null;if(0===(t=M(t,e))&&e.ended)return 0===e.length&&R(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=M(n,e))),null===(r=t>0?k(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&R(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var h=e&&!1===e.end||t===r.stdout||t===r.stderr?v:u;function u(){d("onend"),t.end()}o.endEmitted?i.nextTick(h):n.once("end",h),t.on("unpipe",(function e(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",p),c=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}));var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",l);var c=!1,f=!1;function p(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==T(o.pipes,t))&&!c&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++,f=!0),n.pause())}function g(e){d("onerror",e),v(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",y),v()}function y(){d("onfinish"),t.removeListener("close",m),v()}function v(){d("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events.error?s(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",y),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=T(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},_.prototype.on=function(t,e){var n=h.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(A,this))}return n},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}(this,t)),this},_.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=k},74605:(t,e,n)=>{"use strict";t.exports=s;var r=n(56753),i=Object.create(n(16497));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){h(t,e,n)})):h(this,null,null)}function h(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(35717),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},64229:(t,e,n)=>{"use strict";var r=n(34155),i=n(88212);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(undefined),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=y;var s,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:i.nextTick;y.WritableState=m;var h=Object.create(n(16497));h.inherits=n(35717);var u,l={deprecate:n(94927)},c=n(22503),f=n(89509).Buffer,d=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},p=n(61195);function g(){}function m(t,e){s=s||n(56753),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var h=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=h||0===h?h:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(M,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),M(t,e))}(t,n,r,e,o);else{var s=w(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||b(t,n),r?a(_,t,n,s,o):_(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||n(56753),!(u.call(y,this)||this instanceof s))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),M(t,e)}function b(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,h=!0;n;)i[a]=n,n.isBuf||(h=!1),n=n.next,a+=1;i.allBuffers=h,v(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback;if(v(t,e,!1,e.objectMode?1:u.length,u,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),M(t,e)}))}function M(t,e){var n=w(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}h.inherits(y,c),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===y&&t&&t._writableState instanceof m}})):u=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,f.isBuffer(r)||r instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),o=!1),o}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var h=e.length<e.highWaterMark;if(h||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return h}(this,o,a,t,e,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||b(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,M(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}},25057:(t,e,n)=>{"use strict";var r=n(89509).Buffer,i=n(52361);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);for(var e,n,i=r.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=i,n=s,o.data.copy(e,n),s+=o.data.length,o=o.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},61195:(t,e,n)=>{"use strict";var r=n(88212);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,t)):r.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},22503:(t,e,n)=>{t.exports=n(17187).EventEmitter},88473:(t,e,n)=>{(e=t.exports=n(79481)).Stream=e,e.Readable=e,e.Writable=n(64229),e.Duplex=n(56753),e.Transform=n(74605),e.PassThrough=n(82725)},53697:(t,e,n)=>{"use strict";var r=n(58052),i=n(14453),o=Object;t.exports=r((function(){if(null==this||this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0)},2847:(t,e,n)=>{"use strict";var r=n(4289),i=n(55559),o=n(53697),s=n(71721),a=n(32753),h=i(s());r(h,{getPolyfill:s,implementation:o,shim:a}),t.exports=h},71721:(t,e,n)=>{"use strict";var r=n(53697),i=n(4289).supportsDescriptors,o=Object.getOwnPropertyDescriptor;t.exports=function(){if(i&&"gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(n,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return r}},32753:(t,e,n)=>{"use strict";var r=n(4289).supportsDescriptors,i=n(71721),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,h=Object.getPrototypeOf,u=/a/;t.exports=function(){if(!r||!h)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=h(u),n=o(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},79785:(t,e,n)=>{"use strict";var r=n(48764).Buffer,i=n(35717),o=n(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function g(t,e,n,r,i,o,s,a){return p(t+(e^n^r)+o+s|0,a)+i|0}function m(t,e,n,r,i,o,s,a){return p(t+(e&n|~e&r)+o+s|0,a)+i|0}function y(t,e,n,r,i,o,s,a){return p(t+((e|~n)^r)+o+s|0,a)+i|0}function v(t,e,n,r,i,o,s,a){return p(t+(e&r|n&~r)+o+s|0,a)+i|0}function _(t,e,n,r,i,o,s,a){return p(t+(e^(n|~r))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,b=0|this._a,w=0|this._b,x=0|this._c,M=0|this._d,E=0|this._e,S=0;S<80;S+=1){var C,I;S<16?(C=g(n,r,i,o,d,t[a[S]],c[0],u[S]),I=_(b,w,x,M,E,t[h[S]],f[0],l[S])):S<32?(C=m(n,r,i,o,d,t[a[S]],c[1],u[S]),I=v(b,w,x,M,E,t[h[S]],f[1],l[S])):S<48?(C=y(n,r,i,o,d,t[a[S]],c[2],u[S]),I=y(b,w,x,M,E,t[h[S]],f[2],l[S])):S<64?(C=v(n,r,i,o,d,t[a[S]],c[3],u[S]),I=m(b,w,x,M,E,t[h[S]],f[3],l[S])):(C=_(n,r,i,o,d,t[a[S]],c[4],u[S]),I=g(b,w,x,M,E,t[h[S]],f[4],l[S])),n=d,d=o,o=p(i,10),i=r,r=C,b=E,E=M,M=p(x,10),x=w,w=I}var A=this._b+i+M|0;this._b=this._c+o+E|0,this._c=this._d+d+b|0,this._d=this._e+n+w|0,this._e=this._a+r+x|0,this._a=A},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},88639:function(t,e){!function(t){"use strict";const e=134217729;function n(t,e,n,r,i){let o,s,a,h,u=e[0],l=r[0],c=0,f=0;l>u==l>-u?(o=u,u=e[++c]):(o=l,l=r[++f]);let d=0;if(c<t&&f<n)for(l>u==l>-u?(a=o-((s=u+o)-u),u=e[++c]):(a=o-((s=l+o)-l),l=r[++f]),o=s,0!==a&&(i[d++]=a);c<t&&f<n;)l>u==l>-u?(a=o-((s=o+u)-(h=s-o))+(u-h),u=e[++c]):(a=o-((s=o+l)-(h=s-o))+(l-h),l=r[++f]),o=s,0!==a&&(i[d++]=a);for(;c<t;)a=o-((s=o+u)-(h=s-o))+(u-h),u=e[++c],o=s,0!==a&&(i[d++]=a);for(;f<n;)a=o-((s=o+l)-(h=s-o))+(l-h),l=r[++f],o=s,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function r(t){return new Float64Array(t)}const i=r(4),o=r(8),s=r(12),a=r(16),h=r(4);t.orient2d=function(t,r,u,l,c,f){const d=(r-f)*(u-c),p=(t-c)*(l-f),g=d-p;if(0===d||0===p||d>0!=p>0)return g;const m=Math.abs(d+p);return Math.abs(g)>=33306690738754716e-32*m?g:-function(t,r,u,l,c,f,d){let p,g,m,y,v,_,b,w,x,M,E,S,C,I,A,P,O,k;const R=t-c,L=u-c,T=r-f,N=l-f;v=(A=(w=R-(b=(_=e*R)-(_-R)))*(M=N-(x=(_=e*N)-(_-N)))-((I=R*N)-b*x-w*x-b*M))-(E=A-(O=(w=T-(b=(_=e*T)-(_-T)))*(M=L-(x=(_=e*L)-(_-L)))-((P=T*L)-b*x-w*x-b*M))),i[0]=A-(E+v)+(v-O),v=(C=I-((S=I+E)-(v=S-I))+(E-v))-(E=C-P),i[1]=C-(E+v)+(v-P),v=(k=S+E)-S,i[2]=S-(k-v)+(E-v),i[3]=k;let D=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,i),F=22204460492503146e-32*d;if(D>=F||-D>=F)return D;if(p=t-(R+(v=t-R))+(v-c),m=u-(L+(v=u-L))+(v-c),g=r-(T+(v=r-T))+(v-f),y=l-(N+(v=l-N))+(v-f),0===p&&0===g&&0===m&&0===y)return D;if(F=11093356479670487e-47*d+33306690738754706e-32*Math.abs(D),(D+=R*y+N*p-(T*m+L*g))>=F||-D>=F)return D;v=(A=(w=p-(b=(_=e*p)-(_-p)))*(M=N-(x=(_=e*N)-(_-N)))-((I=p*N)-b*x-w*x-b*M))-(E=A-(O=(w=g-(b=(_=e*g)-(_-g)))*(M=L-(x=(_=e*L)-(_-L)))-((P=g*L)-b*x-w*x-b*M))),h[0]=A-(E+v)+(v-O),v=(C=I-((S=I+E)-(v=S-I))+(E-v))-(E=C-P),h[1]=C-(E+v)+(v-P),v=(k=S+E)-S,h[2]=S-(k-v)+(E-v),h[3]=k;const j=n(4,i,4,h,o);v=(A=(w=R-(b=(_=e*R)-(_-R)))*(M=y-(x=(_=e*y)-(_-y)))-((I=R*y)-b*x-w*x-b*M))-(E=A-(O=(w=T-(b=(_=e*T)-(_-T)))*(M=m-(x=(_=e*m)-(_-m)))-((P=T*m)-b*x-w*x-b*M))),h[0]=A-(E+v)+(v-O),v=(C=I-((S=I+E)-(v=S-I))+(E-v))-(E=C-P),h[1]=C-(E+v)+(v-P),v=(k=S+E)-S,h[2]=S-(k-v)+(E-v),h[3]=k;const B=n(j,o,4,h,s);v=(A=(w=p-(b=(_=e*p)-(_-p)))*(M=y-(x=(_=e*y)-(_-y)))-((I=p*y)-b*x-w*x-b*M))-(E=A-(O=(w=g-(b=(_=e*g)-(_-g)))*(M=m-(x=(_=e*m)-(_-m)))-((P=g*m)-b*x-w*x-b*M))),h[0]=A-(E+v)+(v-O),v=(C=I-((S=I+E)-(v=S-I))+(E-v))-(E=C-P),h[1]=C-(E+v)+(v-P),v=(k=S+E)-S,h[2]=S-(k-v)+(E-v),h[3]=k;const G=n(B,s,4,h,a);return a[G-1]}(t,r,u,l,c,f,m)},t.orient2dfast=function(t,e,n,r,i,o){return(e-o)*(n-i)-(t-i)*(r-o)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},43597:t=>{"use strict";function e(t,e,n){if("number"!=typeof e)throw new TypeError("Expected value to be a number");if(n===1/0)return e;if(!Number.isInteger(n))throw new TypeError("Expected precision to be an integer");const r="round"===t&&e<0;r&&(e=Math.abs(e));const i=10**n;let o=Math[t](Number((e*i).toPrecision(15)))/i;return r&&(o=-o),o}t.exports=e.bind(void 0,"round"),t.exports.up=e.bind(void 0,"ceil"),t.exports.down=e.bind(void 0,"floor")},89509:(t,e,n)=>{var r=n(48764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},67771:(t,e,n)=>{"use strict";var r=n(40210),i=n(12296),o=n(31044)(),s=n(27296),a=n(14453),h=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||h(e)!==e)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in t&&s){var l=s(t,"length");l&&!l.configurable&&(r=!1),l&&!l.writable&&(u=!1)}return(r||u||!n)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},58052:(t,e,n)=>{"use strict";var r=n(12296),i=n(31044)(),o=n(25972).functionsHaveConfigurableNames(),s=n(14453);t.exports=function(t,e){if("function"!=typeof t)throw new s("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return n&&!o||(i?r(t,"name",e,!0,!0):r(t,"name",e)),t}},24189:(t,e,n)=>{var r=n(89509).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var h=s%i,u=Math.min(o-a,i-h),l=0;l<u;l++)n[h+l]=t[a+l];a+=u,(s+=u)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},89072:(t,e,n)=>{var r=t.exports=function(t){t=t.toLowerCase();var e=r[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};r.sha=n(74448),r.sha1=n(18336),r.sha224=n(48432),r.sha256=n(67499),r.sha384=n(51686),r.sha512=n(87816)},74448:(t,e,n)=>{var r=n(35717),i=n(24189),o=n(89509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,h=0|this._e,c=0;c<16;++c)n[c]=t.readInt32BE(4*c);for(;c<80;++c)n[c]=n[c-3]^n[c-8]^n[c-14]^n[c-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=r)<<5|e>>>27)+l(d,i,o,a)+h+n[f]+s[d];h=a,a=o,o=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h},18336:(t,e,n)=>{var r=n(35717),i=n(24189),o=n(89509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function c(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,h=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=(e=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=u(r)+c(p,i,o,a)+h+n[d]+s[p]|0;h=a,a=o,o=l(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h},48432:(t,e,n)=>{var r=n(35717),i=n(67499),o=n(24189),s=n(89509).Buffer,a=new Array(64);function h(){this.init(),this._w=a,o.call(this,64,56)}r(h,i),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=h},67499:(t,e,n)=>{var r=n(35717),i=n(24189),o=n(89509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function h(){this.init(),this._w=a,i.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function c(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(h,i),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,h=0|this._e,p=0|this._f,g=0|this._g,m=0|this._h,y=0;y<16;++y)n[y]=t.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((e=n[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[y-7]+d(n[y-15])+n[y-16];for(var v=0;v<64;++v){var _=m+f(h)+u(h,p,g)+s[v]+n[v]|0,b=c(r)+l(r,i,o)|0;m=g,g=p,p=h,h=a+_|0,a=o,o=i,i=r,r=_+b|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},h.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=h},51686:(t,e,n)=>{var r=n(35717),i=n(87816),o=n(24189),s=n(89509).Buffer,a=new Array(160);function h(){this.init(),this._w=a,o.call(this,128,112)}r(h,i),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=h},87816:(t,e,n)=>{var r=n(35717),i=n(24189),o=n(89509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function h(){this.init(),this._w=a,i.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function c(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}r(h,i),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,h=0|this._fh,v=0|this._gh,_=0|this._hh,b=0|this._al,w=0|this._bl,x=0|this._cl,M=0|this._dl,E=0|this._el,S=0|this._fl,C=0|this._gl,I=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var P=e[A-30],O=e[A-30+1],k=d(P,O),R=p(O,P),L=g(P=e[A-4],O=e[A-4+1]),T=m(O,P),N=e[A-14],D=e[A-14+1],F=e[A-32],j=e[A-32+1],B=R+D|0,G=k+N+y(B,R)|0;G=(G=G+L+y(B=B+T|0,T)|0)+F+y(B=B+j|0,j)|0,e[A]=G,e[A+1]=B}for(var q=0;q<160;q+=2){G=e[q],B=e[q+1];var U=l(n,r,i),z=l(b,w,x),Z=c(n,b),V=c(b,n),X=f(a,E),W=f(E,a),Y=s[q],H=s[q+1],$=u(a,h,v),K=u(E,S,C),J=I+W|0,Q=_+X+y(J,I)|0;Q=(Q=(Q=Q+$+y(J=J+K|0,K)|0)+Y+y(J=J+H|0,H)|0)+G+y(J=J+B|0,B)|0;var tt=V+z|0,et=Z+U+y(tt,V)|0;_=v,I=C,v=h,C=S,h=a,S=E,a=o+Q+y(E=M+J|0,M)|0,o=i,M=x,i=r,x=w,r=n,w=b,n=Q+et+y(b=J+tt|0,J)|0}this._al=this._al+b|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+M|0,this._el=this._el+E|0,this._fl=this._fl+S|0,this._gl=this._gl+C|0,this._hl=this._hl+I|0,this._ah=this._ah+n+y(this._al,b)|0,this._bh=this._bh+r+y(this._bl,w)|0,this._ch=this._ch+i+y(this._cl,x)|0,this._dh=this._dh+o+y(this._dl,M)|0,this._eh=this._eh+a+y(this._el,E)|0,this._fh=this._fh+h+y(this._fl,S)|0,this._gh=this._gh+v+y(this._gl,C)|0,this._hh=this._hh+_+y(this._hl,I)|0},h.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=h},85697:t=>{"use strict";t.exports={eudist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},mandist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++)i+=Math.abs((t[o]||0)-(e[o]||0));return n?Math.sqrt(i):i},dist:function(t,e,n){var r=Math.abs(t-e);return n?r:r*r}}},97035:(t,e,n)=>{"use strict";var r=n(85697),i=r.eudist,o=r.dist;t.exports={kmrand:function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],h=s?a.join("_"):""+a;n[h]||(n[h]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},kmpp:function(t,e){var n=t[0].length?i:o,r=[],s=t.length,a=t[0].length>0,h=t[Math.floor(Math.random()*s)];for(a&&h.join("_"),r.push(h);r.length<e;){for(var u=[],l=r.length,c=0,f=[],d=0;d<s;d++){for(var p=1/0,g=0;g<l;g++){var m=n(t[d],r[g]);m<=p&&(p=m)}u[d]=p}for(var y=0;y<s;y++)c+=u[y];for(var v=0;v<s;v++)f[v]={i:v,v:t[v],pr:u[v]/c,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var _=1;_<s;_++)f[_].cs=f[_-1].cs+f[_].pr;for(var b=Math.random(),w=0;w<s-1&&f[w++].cs<b;);r.push(f[w-1].v)}return r}}},21160:(t,e,n)=>{"use strict";var r=n(85697),i=n(97035),o=r.eudist,s=(r.mandist,r.dist,i.kmrand),a=i.kmpp;function h(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}t.exports=function(t,e,n,r){var i=[],u=[],l=[],c=[],f=!1,d=r||1e4,p=t.length,g=t[0].length,m=g>0,y=[];if(n)i="kmrand"==n?s(t,e):"kmpp"==n?a(t,e):n;else for(var v={};i.length<e;){var _=Math.floor(Math.random()*p);v[_]||(v[_]=!0,i.push(t[_]))}do{h(e,0,y);for(var b=0;b<p;b++){for(var w=1/0,x=0,M=0;M<e;M++)(c=m?o(t[b],i[M]):Math.abs(t[b]-i[M]))<=w&&(w=c,x=M);l[b]=x,y[x]++}for(var E=[],S=(u=[],0);S<e;S++)E[S]=m?h(g,0,E[S]):0,u[S]=i[S];if(m){for(var C=0;C<e;C++)i[C]=[];for(var I=0;I<p;I++)for(var A=E[l[I]],P=t[I],O=0;O<g;O++)A[O]+=P[O];f=!0;for(var k=0;k<e;k++){for(var R=i[k],L=E[k],T=u[k],N=y[k],D=0;D<g;D++)R[D]=L[D]/N||0;if(f)for(var F=0;F<g;F++)if(T[F]!=R[F]){f=!1;break}}}else{for(var j=0;j<p;j++)E[l[j]]+=t[j];for(var B=0;B<e;B++)i[B]=E[B]/y[B]||0;f=!0;for(var G=0;G<e;G++)if(u[G]!=i[G]){f=!1;break}}f=f||--d<=0}while(!f);return{it:1e4-d,k:e,idxs:l,centroids:i}}},42830:(t,e,n)=>{t.exports=i;var r=n(17187).EventEmitter;function i(){r.call(this)}n(50046)(i,r),i.Readable=n(56577),i.Writable=n(20323),i.Duplex=n(68656),i.Transform=n(94473),i.PassThrough=n(2366),i.finished=n(81086),i.pipeline=n(56472),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",h));var s=!1;function a(){s||(s=!0,t.end())}function h(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",h),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},50046:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},58106:t=>{"use strict";var e={};function n(t,n,r){r||(r=Error);var i=function(t){var e,r;function i(e,r,i){return t.call(this,function(t,e,r){return"string"==typeof n?n:n(t,e,r)}(e,r,i))||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=t,e[t]=i}function r(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}n("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(t,e,n){var i,o,s,a,h;if("string"==typeof e&&(o="not ",e.substr(0,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(r(e,"type"));else{var u=("number"!=typeof h&&(h=0),h+".".length>(a=t).length||-1===a.indexOf(".",h)?"argument":"property");s='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(r(e,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},68656:(t,e,n)=>{"use strict";var r=n(34155),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=n(56577),s=n(20323);n(50046)(l,o);for(var a=i(s.prototype),h=0;h<a.length;h++){var u=a[h];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2366:(t,e,n)=>{"use strict";t.exports=i;var r=n(94473);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(50046)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},56577:(t,e,n)=>{"use strict";var r,i=n(34155);t.exports=S,S.ReadableState=E,n(17187).EventEmitter;var o,s=function(t,e){return t.listeners(e).length},a=n(83194),h=n(48764).Buffer,u=n.g.Uint8Array||function(){},l=n(40964);o=l&&l.debuglog?l.debuglog("stream"):function(){};var c,f,d,p=n(39686),g=n(71029),m=n(30094).getHighWaterMark,y=n(58106).q,v=y.ERR_INVALID_ARG_TYPE,_=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(50046)(S,a);var x=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function E(t,e,i){r=r||n(68656),t=t||{},"boolean"!=typeof i&&(i=e instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(c||(c=n(32553).s),this.decoder=new c(t.encoding),this.encoding=t.encoding)}function S(t){if(r=r||n(68656),!(this instanceof S))return new S(t);var e=this instanceof r;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function C(t,e,n,r,i){o("readableAddChunk",e);var s,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,k(t)))}}(t,a);else if(i||(s=function(t,e){var n,r;return r=e,h.isBuffer(r)||r instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],e)),n}(a,e)),s)x(t,s);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),r)a.endEmitted?x(t,new w):I(t,a,e,!0);else if(a.ended)x(t,new _);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?I(t,a,e,!1):R(t,a)):I(t,a,e,!1)}else r||(a.reading=!1,R(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function I(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),R(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=h.from(t,e),e=""),n=!0),C(this,t,e,!1,n)},S.prototype.unshift=function(t){return C(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){c||(c=n(32553).s);var e=new c(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function P(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=A?t=A:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(k,t))}function k(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,F(t)}function R(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function T(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){o("readable nexttick read 0"),t.read(0)}function D(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function B(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(G,e,t))}function G(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function q(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}S.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):O(this),null;if(0===(t=P(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=P(n,e))),null===(r=t>0?j(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(t){x(this,new b("_read()"))},S.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,e);var a=e&&!1===e.end||t===i.stdout||t===i.stderr?g:h;function h(){o("onend"),t.end()}r.endEmitted?i.nextTick(a):n.once("end",a),t.on("unpipe",(function e(i,s){o("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",e),n.removeListener("end",h),n.removeListener("end",g),n.removeListener("data",c),l=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,F(t))}}(n);t.on("drain",u);var l=!1;function c(e){o("ondata");var i=t.write(e);o("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==q(r.pipes,t))&&!l&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(e){o("onerror",e),g(),t.removeListener("error",f),0===s(t,"error")&&x(t,e)}function d(){t.removeListener("finish",p),g()}function p(){o("onfinish"),t.removeListener("close",d),g()}function g(){o("unpipe"),n.unpipe(t)}return n.on("data",c),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),r.flowing||(o("pipe resume"),n.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=q(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},S.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?O(this):r.reading||i.nextTick(N,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(T,this),n},S.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(T,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(D,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<M.length;s++)t.on(M[s],this.emit.bind(this,M[s]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(20828)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=j,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=n(31265)),d(S,t,e)})},94473:(t,e,n)=>{"use strict";t.exports=l;var r=n(58106).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,h=n(68656);function u(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);h.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(50046)(l,h),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,h.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){h.prototype._destroy.call(this,t,(function(t){e(t)}))}},20323:(t,e,n)=>{"use strict";var r,i=n(34155);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(undefined),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=S,S.WritableState=E;var s,a={deprecate:n(94927)},h=n(83194),u=n(48764).Buffer,l=n.g.Uint8Array||function(){},c=n(71029),f=n(30094).getHighWaterMark,d=n(58106).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,_=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,x=c.errorOrDestroy;function M(){}function E(t,e,s){r=r||n(68656),t=t||{},"boolean"!=typeof s&&(s=e instanceof r),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(k,t,e),t._writableState.errorEmitted=!0,x(t,r)):(o(r),t._writableState.errorEmitted=!0,x(t,r),k(t,e))}(t,n,r,e,o);else{var s=P(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),r?i.nextTick(I,t,n,s,o):I(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function S(t){var e=this instanceof(r=r||n(68656));if(!e&&!s.call(S,this))return new S(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function C(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function I(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),k(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,h=!0;n;)i[a]=n,n.isBuf||(h=!1),n=n.next,a+=1;i.allBuffers=h,C(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback;if(C(t,e,!1,e.objectMode?1:u.length,u,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function P(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(n){e.pendingcb--,n&&x(t,n),e.prefinished=!0,t.emit("prefinish"),k(t,e)}))}function k(t,e){var n=P(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}n(50046)(S,h),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===S&&t&&t._writableState instanceof E}})):s=function(t){return t instanceof this},S.prototype.pipe=function(){x(this,new y)},S.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,u.isBuffer(r)||r instanceof l);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=M),o.ending?function(t,e){var n=new b;x(t,n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o;return null===n?o=new _:"string"==typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(x(t,o),i.nextTick(r,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var h=e.length<e.highWaterMark;if(h||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,a,r,i,o);return h}(this,o,a,t,e,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||A(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,n){n(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,k(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=c.destroy,S.prototype._undestroy=c.undestroy,S.prototype._destroy=function(t,e){e(t)}},20828:(t,e,n)=>{"use strict";var r,i=n(34155);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(81086),a=Symbol("lastResolve"),h=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function g(t){var e=t[a];if(null!==e){var n=t[d].read();null!==n&&(t[c]=null,t[a]=null,t[h]=null,e(p(n,!1)))}}function m(t){i.nextTick(g,t)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,n){i.nextTick((function(){t[u]?n(t[u]):e(p(void 0,!0))}))}));var n,r=this[c];if(r)n=new Promise(function(t,e){return function(n,r){t.then((function(){e[l]?n(p(void 0,!0)):e[f](n,r)}),r)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var t=this;return new Promise((function(e,n){t[d].destroy(null,(function(t){t?n(t):e(p(void 0,!0))}))}))})),r),y);t.exports=function(t){var e,n=Object.create(v,(o(e={},d,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,h,{value:null,writable:!0}),o(e,u,{value:null,writable:!0}),o(e,l,{value:t._readableState.endEmitted,writable:!0}),o(e,f,{value:function(t,e){var r=n[d].read();r?(n[c]=null,n[a]=null,n[h]=null,t(p(r,!1))):(n[a]=t,n[h]=e)},writable:!0}),e));return n[c]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[h];return null!==e&&(n[c]=null,n[a]=null,n[h]=null,e(t)),void(n[u]=t)}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[h]=null,r(p(void 0,!0))),n[l]=!0})),t.on("readable",m.bind(null,n)),n}},39686:(t,e,n)=>{"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(48764).Buffer,a=n(69862).inspect,h=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n;return e=t,n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,r,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,s.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:h,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],n&&o(e.prototype,n),t}()},71029:(t,e,n)=>{"use strict";var r=n(34155);function i(t,e){s(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,t)):r.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e?(r.nextTick(o,n),e(t)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}},81086:(t,e,n)=>{"use strict";var r=n(58106).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,h=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},c=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,c=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!c?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",h),e.on("close",h)),e.on("end",f),e.on("finish",l),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},31265:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},56472:(t,e,n)=>{"use strict";var r,i=n(58106).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function h(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(81086)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var h=!1;return function(e){if(!a&&!h)return h=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function c(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=c(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return h(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return e.reduce(l)}},30094:(t,e,n)=>{"use strict";var r=n(58106).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},83194:(t,e,n)=>{t.exports=n(17187).EventEmitter},32553:(t,e,n)=>{"use strict";var r=n(89509).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=h,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=c,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function h(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},43842:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});class r{constructor(t=[],e=i){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,r=e[t];for(;t>0;){const i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}_down(t){const{data:e,compare:n}=this,r=this.length>>1,i=e[t];for(;t<r;){let r=1+(t<<1),o=e[r];const s=r+1;if(s<this.length&&n(e[s],o)<0&&(r=s,o=e[s]),n(o,i)>=0)break;e[t]=o,t=r}e[t]=i}}function i(t,e){return t<e?-1:t>e?1:0}},20675:function(t,e){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function r(t){this.message=t||""}function i(t){this.message=t||""}function o(){}function s(t){return null===t?Tt:t.color}function a(t){return null===t?null:t.parent}function h(t,e){null!==t&&(t.color=e)}function u(t){return null===t?null:t.left}function l(t){return null===t?null:t.right}function c(){this.root_=null,this.size_=0}function f(){}function d(){this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}function p(){}function g(t){this.message=t||""}function m(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var y=function(){};y.prototype.interfaces_=function(){return[]},y.prototype.getClass=function(){return y},y.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var v=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),_=function(){},b={MAX_VALUE:{configurable:!0}};_.isNaN=function(t){return Number.isNaN(t)},_.doubleToLongBits=function(t){return t},_.longBitsToDouble=function(t){return t},_.isInfinite=function(t){return!Number.isFinite(t)},b.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(_,b);var w=function(){},x=function(){},M=function(){},E=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},S={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};E.prototype.setOrdinate=function(t,e){switch(t){case E.X:this.x=e;break;case E.Y:this.y=e;break;case E.Z:this.z=e;break;default:throw new v("Invalid ordinate index: "+t)}},E.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!y.equalsWithTolerance(this.x,e.x,n)&&!!y.equalsWithTolerance(this.y,e.y,n)}},E.prototype.getOrdinate=function(t){switch(t){case E.X:return this.x;case E.Y:return this.y;case E.Z:return this.z}throw new v("Invalid ordinate index: "+t)},E.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||_.isNaN(this.z))&&_.isNaN(t.z)},E.prototype.equals=function(t){return t instanceof E&&this.equals2D(t)},E.prototype.equalInZ=function(t,e){return y.equalsWithTolerance(this.z,t.z,e)},E.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},E.prototype.clone=function(){},E.prototype.copy=function(){return new E(this)},E.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},E.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},E.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},E.prototype.hashCode=function(){var t=17;return 37*(t=37*t+E.hashCode(this.x))+E.hashCode(this.y)},E.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},E.prototype.interfaces_=function(){return[w,x,e]},E.prototype.getClass=function(){return E},E.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=_.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},S.DimensionalComparator.get=function(){return C},S.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},S.NULL_ORDINATE.get=function(){return _.NaN},S.X.get=function(){return 0},S.Y.get=function(){return 1},S.Z.get=function(){return 2},Object.defineProperties(E,S);var C=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};C.prototype.compare=function(t,e){var n=t,r=e,i=C.compare(n.x,r.x);if(0!==i)return i;var o=C.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:C.compare(n.z,r.z)},C.prototype.interfaces_=function(){return[M]},C.prototype.getClass=function(){return C},C.compare=function(t,e){return t<e?-1:t>e?1:_.isNaN(t)?_.isNaN(e)?0:-1:_.isNaN(e)?1:0};var I=function(){};I.prototype.create=function(){},I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I};var A=function(){},P={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};A.prototype.interfaces_=function(){return[]},A.prototype.getClass=function(){return A},A.toLocationSymbol=function(t){switch(t){case A.EXTERIOR:return"e";case A.BOUNDARY:return"b";case A.INTERIOR:return"i";case A.NONE:return"-"}throw new v("Unknown location value: "+t)},P.INTERIOR.get=function(){return 0},P.BOUNDARY.get=function(){return 1},P.EXTERIOR.get=function(){return 2},P.NONE.get=function(){return-1},Object.defineProperties(A,P);var O=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},k=function(){},R={LOG_10:{configurable:!0}};k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.log10=function(t){var e=Math.log(t);return _.isInfinite(e)||_.isNaN(e)?e:e/k.LOG_10},k.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},k.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},k.wrap=function(t,e){return t<0?e- -t%e:t%e},k.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}},k.average=function(t,e){return(t+e)/2},R.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(k,R);var L=function(t){this.str=t};L.prototype.append=function(t){this.str+=t},L.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},L.prototype.toString=function(t){return this.str};var T=function(t){this.value=t};T.prototype.intValue=function(){return this.value},T.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},T.isNaN=function(t){return Number.isNaN(t)};var N=function(){};N.isWhitespace=function(t){return t<=32&&t>=0||127===t},N.toUpperCase=function(t){return t.toUpperCase()};var D=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},F={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};D.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},D.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=D.magnitude(n._hi),i=D.TEN.pow(r);(n=n.divide(i)).gt(D.TEN)?(n=n.divide(D.TEN),r+=1):n.lt(D.ONE)&&(n=n.multiply(D.TEN),r-=1);for(var o=r+1,s=new L,a=D.MAX_PRINT_DIGITS-1,h=0;h<=a;h++){t&&h===o&&s.append(".");var u=Math.trunc(n._hi);if(u<0)break;var l=!1,c=0;u>9?(l=!0,c="9"):c="0"+u,s.append(c),n=n.subtract(D.valueOf(u)).multiply(D.TEN),l&&n.selfAdd(D.TEN);var f=!0,d=D.magnitude(n._hi);if(d<0&&Math.abs(d)>=a-h&&(f=!1),!f)break}return e[0]=r,s.toString()},D.prototype.sqr=function(){return this.multiply(this)},D.prototype.doubleValue=function(){return this._hi+this._lo},D.prototype.subtract=function(){if(arguments[0]instanceof D){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},D.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},D.prototype.isZero=function(){return 0===this._hi&&0===this._lo},D.prototype.selfSubtract=function(){if(arguments[0]instanceof D){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},D.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},D.prototype.min=function(t){return this.le(t)?this:t},D.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof D){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,h=null,u=null,l=null,c=null;return h=this._hi/n,c=(i=(u=D.SPLIT*h)-(i=u-h))*(s=(c=D.SPLIT*n)-(s=c-n))-(l=h*n)+i*(a=n-s)+(o=h-i)*s+o*a,c=h+(u=(this._hi-l-c+this._lo-h*r)/n),this._hi=c,this._lo=h-c+u,this}},D.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},D.prototype.divide=function(){if(arguments[0]instanceof D){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,h=null;return n=(o=this._hi/t._hi)-(e=(s=D.SPLIT*o)-(e=s-o)),h=e*(r=(h=D.SPLIT*t._hi)-(r=h-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,s=(this._hi-a-h+this._lo-o*t._lo)/t._hi,new D(h=o+s,o-h+s)}if("number"==typeof arguments[0]){var u=arguments[0];return _.isNaN(u)?D.createNaN():D.copy(this).selfDivide(u,0)}},D.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},D.prototype.pow=function(t){if(0===t)return D.valueOf(1);var e=new D(this),n=D.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},D.prototype.ceil=function(){if(this.isNaN())return D.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new D(t,e)},D.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},D.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},D.prototype.setValue=function(){if(arguments[0]instanceof D){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},D.prototype.max=function(t){return this.ge(t)?this:t},D.prototype.sqrt=function(){if(this.isZero())return D.valueOf(0);if(this.isNegative())return D.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=D.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},D.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof D){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return o=(i=this._hi+e)-(s=i-this._hi),r=(a=(o=e-s+(this._hi-o))+this._lo)+(i-(n=i+a)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var h=arguments[0],u=arguments[1],l=null,c=null,f=null,d=null,p=null,g=null,m=null;d=this._hi+h,c=this._lo+u,p=d-(g=d-this._hi),f=c-(m=c-this._lo);var y=(l=d+(g=(p=h-g+(this._hi-p))+c))+(g=(f=u-m+(this._lo-f))+(g+(d-l))),v=g+(l-y);return this._hi=y,this._lo=v,this}},D.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof D){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,h=null,u=null;i=(h=D.SPLIT*this._hi)-this._hi,u=D.SPLIT*n,i=h-i,o=this._hi-i,s=u-n;var l=(h=this._hi*n)+(u=i*(s=u-s)-h+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),c=u+(i=h-l);return this._hi=l,this._lo=c,this}},D.prototype.selfSqr=function(){return this.selfMultiply(this)},D.prototype.floor=function(){if(this.isNaN())return D.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new D(t,e)},D.prototype.negate=function(){return this.isNaN()?this:new D(-this._hi,-this._lo)},D.prototype.clone=function(){},D.prototype.multiply=function(){if(arguments[0]instanceof D){var t=arguments[0];return t.isNaN()?D.createNaN():D.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return _.isNaN(e)?D.createNaN():D.copy(this).selfMultiply(e,0)}},D.prototype.isNaN=function(){return _.isNaN(this._hi)},D.prototype.intValue=function(){return Math.trunc(this._hi)},D.prototype.toString=function(){var t=D.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},D.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+D.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+D.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},D.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,s=null,a=null;t=(n=1/this._hi)-(i=(s=D.SPLIT*n)-(i=s-n)),o=(a=D.SPLIT*this._hi)-this._hi;var h=n+(s=(1-(r=n*this._hi)-(a=i*(o=a-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new D(h,n-h+s)},D.prototype.toSciNotation=function(){if(this.isZero())return D.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=D.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},D.prototype.abs=function(){return this.isNaN()?D.NaN:this.isNegative()?this.negate():new D(this)},D.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},D.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},D.prototype.add=function(){if(arguments[0]instanceof D){var t=arguments[0];return D.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return D.copy(this).selfAdd(e)}},D.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof D){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},D.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},D.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},D.prototype.trunc=function(){return this.isNaN()?D.NaN:this.isPositive()?this.floor():this.ceil()},D.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},D.prototype.interfaces_=function(){return[e,w,x]},D.prototype.getClass=function(){return D},D.sqr=function(t){return D.valueOf(t).selfMultiply(t)},D.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return D.parse(t)}if("number"==typeof arguments[0])return new D(arguments[0])},D.sqrt=function(t){return D.valueOf(t).sqrt()},D.parse=function(t){for(var e=0,n=t.length;N.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new D,s=0,a=0,h=0;!(e>=n);){var u=t.charAt(e);if(e++,N.isDigit(u)){var l=u-"0";o.selfMultiply(D.TEN),o.selfAdd(l),s++}else{if("."!==u){if("e"===u||"E"===u){var c=t.substring(e);try{h=T.parseInt(c)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+c+" in string "+t):e}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}a=s}}var f=o,d=s-a-h;if(0===d)f=o;else if(d>0){var p=D.TEN.pow(d);f=o.divide(p)}else if(d<0){var g=D.TEN.pow(-d);f=o.multiply(g)}return r?f.negate():f},D.createNaN=function(){return new D(_.NaN,_.NaN)},D.copy=function(t){return new D(t)},D.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},D.stringOfChar=function(t,e){for(var n=new L,r=0;r<e;r++)n.append(t);return n.toString()},F.PI.get=function(){return new D(3.141592653589793,12246467991473532e-32)},F.TWO_PI.get=function(){return new D(6.283185307179586,24492935982947064e-32)},F.PI_2.get=function(){return new D(1.5707963267948966,6123233995736766e-32)},F.E.get=function(){return new D(2.718281828459045,14456468917292502e-32)},F.NaN.get=function(){return new D(_.NaN,_.NaN)},F.EPS.get=function(){return 123259516440783e-46},F.SPLIT.get=function(){return 134217729},F.MAX_PRINT_DIGITS.get=function(){return 32},F.TEN.get=function(){return D.valueOf(10)},F.ONE.get=function(){return D.valueOf(1)},F.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},F.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(D,F);var j=function(){},B={DP_SAFE_EPSILON:{configurable:!0}};j.prototype.interfaces_=function(){return[]},j.prototype.getClass=function(){return j},j.orientationIndex=function(t,e,n){var r=j.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=D.valueOf(e.x).selfAdd(-t.x),o=D.valueOf(e.y).selfAdd(-t.y),s=D.valueOf(n.x).selfAdd(-e.x),a=D.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},j.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},j.intersection=function(t,e,n,r){var i=D.valueOf(r.y).selfSubtract(n.y).selfMultiply(D.valueOf(e.x).selfSubtract(t.x)),o=D.valueOf(r.x).selfSubtract(n.x).selfMultiply(D.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=D.valueOf(r.x).selfSubtract(n.x).selfMultiply(D.valueOf(t.y).selfSubtract(n.y)),h=D.valueOf(r.y).selfSubtract(n.y).selfMultiply(D.valueOf(t.x).selfSubtract(n.x)),u=a.subtract(h).selfDivide(s).doubleValue(),l=D.valueOf(t.x).selfAdd(D.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),c=D.valueOf(e.x).selfSubtract(t.x).selfMultiply(D.valueOf(t.y).selfSubtract(n.y)),f=D.valueOf(e.y).selfSubtract(t.y).selfMultiply(D.valueOf(t.x).selfSubtract(n.x)),d=c.subtract(f).selfDivide(s).doubleValue(),p=D.valueOf(n.y).selfAdd(D.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new E(l,p)},j.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return j.signum(s);r=i+o}else{if(!(i<0))return j.signum(s);if(o>=0)return j.signum(s);r=-i-o}var a=j.DP_SAFE_EPSILON*r;return s>=a||-s>=a?j.signum(s):2},j.signum=function(t){return t>0?1:t<0?-1:0},B.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(j,B);var G=function(){},q={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};q.X.get=function(){return 0},q.Y.get=function(){return 1},q.Z.get=function(){return 2},q.M.get=function(){return 3},G.prototype.setOrdinate=function(t,e,n){},G.prototype.size=function(){},G.prototype.getOrdinate=function(t,e){},G.prototype.getCoordinate=function(){},G.prototype.getCoordinateCopy=function(t){},G.prototype.getDimension=function(){},G.prototype.getX=function(t){},G.prototype.clone=function(){},G.prototype.expandEnvelope=function(t){},G.prototype.copy=function(){},G.prototype.getY=function(t){},G.prototype.toCoordinateArray=function(){},G.prototype.interfaces_=function(){return[x]},G.prototype.getClass=function(){return G},Object.defineProperties(G,q);var U=function(){},z=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(U),Z=function(){};Z.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},Z.getProperty=function(t){return{"line.separator":"\n"}[t]};var V=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof E&&arguments[1]instanceof E){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var h=arguments[0],u=arguments[1],l=arguments[2];this.x=h,this.y=u,this.w=l}else if(4===arguments.length){var c=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],g=c.y-f.y,m=f.x-c.x,y=c.x*f.y-f.x*c.y,v=d.y-p.y,_=p.x-d.x,b=d.x*p.y-p.x*d.y;this.x=m*b-_*y,this.y=v*y-g*b,this.w=g*_-v*m}};V.prototype.getY=function(){var t=this.y/this.w;if(_.isNaN(t)||_.isInfinite(t))throw new z;return t},V.prototype.getX=function(){var t=this.x/this.w;if(_.isNaN(t)||_.isInfinite(t))throw new z;return t},V.prototype.getCoordinate=function(){var t=new E;return t.x=this.getX(),t.y=this.getY(),t},V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,h=r.x-n.x,u=n.x*r.y-r.x*n.y,l=i*h-a*o,c=(o*u-h*s)/l,f=(a*s-i*u)/l;if(_.isNaN(c)||_.isInfinite(c)||_.isNaN(f)||_.isInfinite(f))throw new z;return new E(c,f)};var X=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof E){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],h=arguments[3];this.init(o,s,a,h)}},W={serialVersionUID:{configurable:!0}};X.prototype.getArea=function(){return this.getWidth()*this.getHeight()},X.prototype.equals=function(t){if(!(t instanceof X))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},X.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new X;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new X(e,r,n,i)},X.prototype.isNull=function(){return this._maxx<this._minx},X.prototype.getMaxX=function(){return this._maxx},X.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof X){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},X.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof X){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof E){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},X.prototype.getMinY=function(){return this._miny},X.prototype.getMinX=function(){return this._minx},X.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof X){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},X.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},X.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},X.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},X.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},X.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},X.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},X.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},X.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},X.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},X.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof X){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof E){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},X.prototype.centre=function(){return this.isNull()?null:new E((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},X.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof X){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},X.prototype.getMaxY=function(){return this._maxy},X.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},X.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+E.hashCode(this._minx))+E.hashCode(this._maxx))+E.hashCode(this._miny))+E.hashCode(this._maxy)},X.prototype.interfaces_=function(){return[w,e]},X.prototype.getClass=function(){return X},X.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),h=Math.max(o.x,s.x),u=Math.min(r.x,i.x),l=Math.max(r.x,i.x);return!(u>h||l<a||(a=Math.min(o.y,s.y),h=Math.max(o.y,s.y),u=Math.min(r.y,i.y),l=Math.max(r.y,i.y),u>h||l<a))}},W.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(X,W);var Y={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},H=function(t){this.geometryFactory=t||new ye};H.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Y.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Y.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],K[n]&&(e=K[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},H.prototype.write=function(t){return this.extractGeometry(t)},H.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!$[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+$[e].apply(this,[t])+")"};var $={coordinate:function(t){return t.x+" "+t.y},point:function(t){return $.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+$.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push($.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push($.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+$.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+$.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+$.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+$.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},K={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Y.spaces);return this.geometryFactory.createPoint(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Y.trimParens,"$1"),r.push(K.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Y.spaces),r.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Y.spaces),r.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Y.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Y.trimParens,"$1"),r.push(K.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Y.parenComma),s=[],a=0,h=o.length;a<h;++a)e=o[a].replace(Y.trimParens,"$1"),n=K.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Y.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Y.trimParens,"$1"),r.push(K.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},J=function(t){this.parser=new H(t)};J.prototype.write=function(t){return this.parser.write(t)},J.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Q=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Q),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t;if(1===arguments.length)et.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new tt:new tt(t)},et.equals=function(){var t,e,n;if(2===arguments.length)et.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new E,this._intPt[1]=new E,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},rt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new L;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return J.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+J.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},rt.DONT_INTERSECT.get=function(){return 0},rt.DO_INTERSECT.get=function(){return 1},rt.COLLINEAR.get=function(){return 2},rt.NO_INTERSECTION.get=function(){return 0},rt.POINT_INTERSECTION.get=function(){return 1},rt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,rt);var it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new X(this._inputLines[0][0],this._inputLines[0][1]),n=new X(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,X.intersects(n,r,e)&&0===at.orientationIndex(n,r,e)&&0===at.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=V.intersection(t,n,r,i)}catch(s){if(!(s instanceof z))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new E(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=j.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);Z.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&Z.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new E(t),o=new E(e),s=new E(n),a=new E(r),h=new E;this.normalizeToEnvCentre(i,o,s,a,h);var u=this.safeHCoordinateIntersection(i,o,s,a);return u.x+=h.x,u.y+=h.y,u},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=X.intersects(e,n,r),s=X.intersects(e,n,i),a=X.intersects(r,i,e),h=X.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&h?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||h?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&h?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||h?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&h?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,h=t.y>e.y?t.y:e.y,u=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,c=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,d=((o>u?o:u)+(a<c?a:c))/2,p=((s>l?s:l)+(h<f?h:f))/2;i.x=d,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!X.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,r),s=at.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(r,i,e),h=at.orientationIndex(r,i,n);return a>0&&h>0||a<0&&h<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===h?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===h?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new E(r):0===s?this._intPt[0]=new E(i):0===a?this._intPt[0]=new E(e):0===h&&(this._intPt[0]=new E(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=at.distancePointLine(t,n,r),s=at.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=at.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(r,i,o,s)},ot.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,h=ot.signOfDet2x2(i,o,s,a);if(0===h)return this._isPointOnSegment=!0,null;a<o&&(h=-h),h>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==A.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?A.BOUNDARY:this._crossingCount%2==1?A.INTERIOR:A.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof E&&O(arguments[1],G)){for(var t=arguments[1],e=new st(arguments[0]),n=new E,r=new E,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof E&&arguments[1]instanceof Array){for(var o=arguments[1],s=new st(arguments[0]),a=1;a<o.length;a++){var h=o[a],u=o[a-1];if(s.countSegment(h,u),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var at=function(){},ht={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return j.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(O(arguments[0],G)){var s=arguments[0],a=s.size();if(a<3)return 0;var h=new E,u=new E,l=new E;s.getCoordinate(0,u),s.getCoordinate(1,l);var c=u.x;l.x-=c;for(var f=0,d=1;d<a-1;d++)h.y=u.y,u.x=l.x,u.y=l.y,s.getCoordinate(d+1,l),l.x-=c,f+=u.x*(h.y-l.y);return f/2}},at.distanceLineLine=function(t,e,n,r){if(t.equals(e))return at.distancePointLine(t,n,r);if(n.equals(r))return at.distancePointLine(r,t,e);var i=!1;if(X.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,h=s/o;(h<0||h>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?k.min(at.distancePointLine(t,n,r),at.distancePointLine(e,n,r),at.distancePointLine(n,t,e),at.distancePointLine(r,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==A.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new E;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,h=r.y,u=a-i,l=h-o;n+=Math.sqrt(u*u+l*l),i=a,o=h}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var h=t[s],u=t[a];if(h.equals2D(n)||u.equals2D(n)||h.equals2D(u))return!1;var l=at.computeOrientation(h,n,u);return 0===l?h.x>u.x:l>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new v("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=at.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var h=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),u=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/h;if(u<=0)return o.distance(s);if(u>=1)return o.distance(a);var l=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/h;return Math.abs(l)*Math.sqrt(h)}},at.isOnLine=function(t,e){for(var n=new it,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},ht.CLOCKWISE.get=function(){return-1},ht.RIGHT.get=function(){return at.CLOCKWISE},ht.COUNTERCLOCKWISE.get=function(){return 1},ht.LEFT.get=function(){return at.COUNTERCLOCKWISE},ht.COLLINEAR.get=function(){return 0},ht.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ht);var ut=function(){};ut.prototype.filter=function(t){},ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut};var lt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ct={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};lt.prototype.isGeometryCollection=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION},lt.prototype.getFactory=function(){return this._factory},lt.prototype.getGeometryN=function(t){return this},lt.prototype.getArea=function(){return 0},lt.prototype.isRectangle=function(){return!1},lt.prototype.equals=function(){if(arguments[0]instanceof lt){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof lt))return!1;var n=e;return this.equalsExact(n)}},lt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},lt.prototype.geometryChanged=function(){this.apply(lt.geometryChangedFilter)},lt.prototype.geometryChangedAction=function(){this._envelope=null},lt.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},lt.prototype.getLength=function(){return 0},lt.prototype.getNumGeometries=function(){return 1},lt.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},lt.prototype.getUserData=function(){return this._userData},lt.prototype.getSRID=function(){return this._SRID},lt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},lt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")},lt.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},lt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},lt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},lt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new X(this._envelope)},lt.prototype.setSRID=function(t){this._SRID=t},lt.prototype.setUserData=function(t){this._userData=t},lt.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},lt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},lt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===lt.SORTINDEX_MULTIPOINT||this.getSortIndex()===lt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===lt.SORTINDEX_MULTIPOLYGON},lt.prototype.interfaces_=function(){return[x,w,e]},lt.prototype.getClass=function(){return lt},lt.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},lt.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ct.serialVersionUID.get=function(){return 0x799ea46522854c00},ct.SORTINDEX_POINT.get=function(){return 0},ct.SORTINDEX_MULTIPOINT.get=function(){return 1},ct.SORTINDEX_LINESTRING.get=function(){return 2},ct.SORTINDEX_LINEARRING.get=function(){return 3},ct.SORTINDEX_MULTILINESTRING.get=function(){return 4},ct.SORTINDEX_POLYGON.get=function(){return 5},ct.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ct.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ct.geometryChangedFilter.get=function(){return ft},Object.defineProperties(lt,ct);var ft=function(){};ft.interfaces_=function(){return[ut]},ft.filter=function(t){t.geometryChangedAction()};var dt=function(){};dt.prototype.filter=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt};var pt=function(){},gt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};pt.prototype.isInBoundary=function(t){},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt},gt.Mod2BoundaryNodeRule.get=function(){return mt},gt.EndPointBoundaryNodeRule.get=function(){return yt},gt.MultiValentEndPointBoundaryNodeRule.get=function(){return vt},gt.MonoValentEndPointBoundaryNodeRule.get=function(){return _t},gt.MOD2_BOUNDARY_RULE.get=function(){return new mt},gt.ENDPOINT_BOUNDARY_RULE.get=function(){return new yt},gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},gt.OGC_SFS_BOUNDARY_RULE.get=function(){return pt.MOD2_BOUNDARY_RULE},Object.defineProperties(pt,gt);var mt=function(){};mt.prototype.isInBoundary=function(t){return t%2==1},mt.prototype.interfaces_=function(){return[pt]},mt.prototype.getClass=function(){return mt};var yt=function(){};yt.prototype.isInBoundary=function(t){return t>0},yt.prototype.interfaces_=function(){return[pt]},yt.prototype.getClass=function(){return yt};var vt=function(){};vt.prototype.isInBoundary=function(t){return t>1},vt.prototype.interfaces_=function(){return[pt]},vt.prototype.getClass=function(){return vt};var _t=function(){};_t.prototype.isInBoundary=function(t){return 1===t},_t.prototype.interfaces_=function(){return[pt]},_t.prototype.getClass=function(){return _t};var bt=function(){};bt.prototype.add=function(){},bt.prototype.addAll=function(){},bt.prototype.isEmpty=function(){},bt.prototype.iterator=function(){},bt.prototype.size=function(){},bt.prototype.toArray=function(){},bt.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var wt=function(){};wt.prototype.hasNext=function(){},wt.prototype.next=function(){},wt.prototype.remove=function(){};var xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(bt);(r.prototype=new Error).name="NoSuchElementException";var Mt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,bt]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Et(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xt),Et=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(wt),St=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof E&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],h=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],h);else for(var l=a.length-1;l>=0;l--)this.add(a[l],h);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof E){var c=arguments[0],f=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(c>0&&this.get(c-1).equals2D(f))return null;if(c<d&&this.get(c).equals2D(f))return null}}t.prototype.add.call(this,c,f)}}else if(4===arguments.length){var p=arguments[0],g=arguments[1],m=arguments[2],y=arguments[3],v=1;m>y&&(v=-1);for(var _=m;_!==y;_+=v)this.add(p[_],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new E(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Mt),Ct=function(){},It={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};It.ForwardComparator.get=function(){return At},It.BidirectionalComparator.get=function(){return Pt},It.coordArrayType.get=function(){return new Array(0).fill(null)},Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Ct.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Ct.indexOf(r,e)<0)return r}return null},Ct.scroll=function(t,e){var n=Ct.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Z.arraycopy(t,n,r,0,t.length-n),Z.arraycopy(t,0,r,t.length-n,n),Z.arraycopy(r,0,t,0,t.length)},Ct.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Ct.intersection=function(t,e){for(var n=new St,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Ct.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Ct.removeRepeatedPoints=function(t){return Ct.hasRepeatedPoints(t)?new St(t,!1).toCoordinateArray():t},Ct.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Ct.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Ct.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new E(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],h=0;h<a;h++)o[s+h]=new E(r[i+h])},Ct.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Ct.envelope=function(t){for(var e=new X,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Ct.toCoordinateArray=function(t){return t.toArray(Ct.coordArrayType)},Ct.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Ct.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Ct.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Ct.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Ct.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Ct.extract=function(t,e,n){e=k.clamp(e,0,t.length);var r=(n=k.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Ct,It);var At=function(){};At.prototype.compare=function(t,e){return Ct.compare(t,e)},At.prototype.interfaces_=function(){return[M]},At.prototype.getClass=function(){return At};var Pt=function(){};Pt.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Ct.compare(n,r);return Ct.isEqualReversed(n,r)?0:i},Pt.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Ct.increasingDirection(n),o=Ct.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,h=0;h<n.length;h++){var u=n[s].compareTo(r[a]);if(0!==u)return u;s+=i,a+=o}return 0},Pt.prototype.interfaces_=function(){return[M]},Pt.prototype.getClass=function(){return Pt};var Ot=function(){};Ot.prototype.get=function(){},Ot.prototype.put=function(){},Ot.prototype.size=function(){},Ot.prototype.values=function(){},Ot.prototype.entrySet=function(){};var kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new bt).contains=function(){};var Rt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Lt(this)},e}(o),Lt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new i},e}(wt),Tt=0;(c.prototype=new kt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},c.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Tt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:Tt,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},c.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===u(a(a(t)))){var e=l(a(a(t)));1===s(e)?(h(a(t),Tt),h(e,Tt),h(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateLeft(t)),h(a(t),Tt),h(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=u(a(a(t)));1===s(n)?(h(a(t),Tt),h(n,Tt),h(a(a(t)),1),t=a(a(t))):(t===u(a(t))&&(t=a(t),this.rotateRight(t)),h(a(t),Tt),h(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Tt},c.prototype.values=function(){var t=new Mt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=c.successor(e));)t.add(e.value);return t},c.prototype.entrySet=function(){var t=new Rt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=c.successor(e));)t.add(e);return t},c.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},c.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},c.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},c.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},c.prototype.size=function(){return this.size_};var Nt=function(){};Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt},f.prototype=new o,(d.prototype=new f).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},d.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},d.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},d.prototype.remove=function(t){throw new i},d.prototype.size=function(){return this.array_.length},d.prototype.isEmpty=function(){return 0===this.array_.length},d.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},d.prototype.iterator=function(){return new Dt(this)};var Dt=function(t){this.treeSet_=t,this.position_=0};Dt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},Dt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Dt.prototype.remove=function(){throw new i};var Ft=function(){};Ft.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Ft.asList=function(t){for(var e=new Mt,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var jt=function(){},Bt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Bt.P.get=function(){return 0},Bt.L.get=function(){return 1},Bt.A.get=function(){return 2},Bt.FALSE.get=function(){return-1},Bt.TRUE.get=function(){return-2},Bt.DONTCARE.get=function(){return-3},Bt.SYM_FALSE.get=function(){return"F"},Bt.SYM_TRUE.get=function(){return"T"},Bt.SYM_DONTCARE.get=function(){return"*"},Bt.SYM_P.get=function(){return"0"},Bt.SYM_L.get=function(){return"1"},Bt.SYM_A.get=function(){return"2"},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.toDimensionSymbol=function(t){switch(t){case jt.FALSE:return jt.SYM_FALSE;case jt.TRUE:return jt.SYM_TRUE;case jt.DONTCARE:return jt.SYM_DONTCARE;case jt.P:return jt.SYM_P;case jt.L:return jt.SYM_L;case jt.A:return jt.SYM_A}throw new v("Unknown dimension value: "+t)},jt.toDimensionValue=function(t){switch(N.toUpperCase(t)){case jt.SYM_FALSE:return jt.FALSE;case jt.SYM_TRUE:return jt.TRUE;case jt.SYM_DONTCARE:return jt.DONTCARE;case jt.SYM_P:return jt.P;case jt.SYM_L:return jt.L;case jt.SYM_A:return jt.A}throw new v("Unknown dimension symbol: "+t)},Object.defineProperties(jt,Bt);var Gt=function(){};Gt.prototype.filter=function(t){},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var qt=function(){};qt.prototype.filter=function(t,e){},qt.prototype.isDone=function(){},qt.prototype.isGeometryChanged=function(){},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt};var Ut=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new v("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new X,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Ft.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=jt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=jt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new d(Ft.asList(this._geometries)),n=new d(Ft.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),s=i.getNumGeometries(),a=0;a<o&&a<s;){var h=this.getGeometryN(a),u=i.getGeometryN(a),l=h.compareToSameClass(u,r);if(0!==l)return l;a++}return a<o?1:a<s?-1:0}},e.prototype.apply=function(){if(O(arguments[0],dt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(O(arguments[0],qt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(O(arguments[0],Gt)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(O(arguments[0],ut)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(lt),zt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?jt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Zt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Nt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Ut),Zt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=pt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Zt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Zt.prototype.getBoundary=function(){return this._geom instanceof Ht?this.boundaryLineString(this._geom):this._geom instanceof zt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Zt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Zt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Zt.prototype.computeBoundaryCoordinates=function(t){var e=new Mt;this._endpointMap=new c;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Ct.toCoordinateArray(e)},Zt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Vt,this._endpointMap.put(t,e)),e.count++},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt},Zt.getBoundary=function(){return 1===arguments.length?new Zt(arguments[0]).getBoundary():2===arguments.length?new Zt(arguments[0],arguments[1]).getBoundary():void 0};var Vt=function(){this.count=null};Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Xt=function(){},Wt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Xt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new function(){}(new function(){}(Xt.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+Xt.NEWLINE}catch(t){if(!(t instanceof p))throw t;et.shouldNeverReachHere()}return o}},Xt.split=function(t,e){for(var n=e.length,r=new Mt,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),h=0;h<a.length;h++)a[h]=r.get(h);return a},Xt.toString=function(){if(1===arguments.length){var t=arguments[0];return Xt.SIMPLE_ORDINATE_FORMAT.format(t)}},Xt.spaces=function(t){return Xt.chars(" ",t)},Wt.NEWLINE.get=function(){return Z.getProperty("line.separator")},Wt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Xt,Wt);var Yt=function(){};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Yt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,G.X)===t.getOrdinate(e-1,G.X)&&t.getOrdinate(0,G.Y)===t.getOrdinate(e-1,G.Y)},Yt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||_.isNaN(s)&&_.isNaN(a)))return!1}return!0},Yt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Yt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Yt.copy(e,i-1,r,o,1);return r},Yt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Yt.swap(t,r,e-r)},Yt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Yt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Yt.copyCoord(t,e+o,n,r+o)},Yt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new L;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Xt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Yt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Yt.createClosedRing(t,e,4):e.getOrdinate(0,G.X)===e.getOrdinate(n-1,G.X)&&e.getOrdinate(0,G.Y)===e.getOrdinate(n-1,G.Y)?e:Yt.createClosedRing(t,e,n+1)},Yt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Yt.copy(e,0,r,0,i);for(var o=i;o<n;o++)Yt.copy(e,0,r,o,1);return r};var Ht=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new X:this._points.expandEnvelope(new X)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Yt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?jt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Yt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(O(arguments[0],dt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(O(arguments[0],qt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(O(arguments[0],Gt)||O(arguments[0],ut))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Zt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new v("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Nt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(lt),$t=function(){};$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t};var Kt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new X;var t=new X;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return jt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(O(arguments[0],dt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(O(arguments[0],qt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(O(arguments[0],Gt)||O(arguments[0],ut))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[$t]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(lt),Jt=function(){};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt};var Qt=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new v("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new v("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var h=t.getX(a),u=t.getY(a);if(h!==o==(u!==s))return!1;o=h,s=u}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Ft.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);Z.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Ct.minCoordinate(e.getCoordinates());Ct.scroll(r,i),Z.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],at.isCCW(e.getCoordinates())===n&&Ct.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,s=i._shell,a=o.compareToSameClass(s,r);if(0!==a)return a;for(var h=this.getNumInteriorRing(),u=i.getNumInteriorRing(),l=0;l<h&&l<u;){var c=this.getInteriorRingN(l),f=i.getInteriorRingN(l),d=c.compareToSameClass(f,r);if(0!==d)return d;l++}return l<h?1:l<u?-1:0}},e.prototype.apply=function(t){if(O(t,dt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(O(t,qt)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(O(t,Gt))t.filter(this);else if(O(t,ut)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(lt),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return jt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[$t]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Ut),ee=function(t){function e(e,n){e instanceof E&&n instanceof ye&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return jt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Yt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Ht),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Mt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Ut),re=function(t){this._factory=t||null,this._isUserDataCopied=!1},ie={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},re.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Ut?this.editGeometryCollection(t,e):t instanceof Qt?this.editPolygon(t,e):t instanceof Kt||t instanceof Ht?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Mt,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===te?this._factory.createMultiPoint(r.toArray([])):n.getClass()===zt?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Mt,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.GeometryEditorOperation=function(){},ie.NoOpGeometryOperation.get=function(){return oe},ie.CoordinateOperation.get=function(){return se},ie.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(re,ie);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Ht?e.createLineString(n):t instanceof Kt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Ht?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Kt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var he=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new E}else if(O(arguments[0],G)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var h=0;h<s;h++)this._coordinates[h]=new E}},ue={serialVersionUID:{configurable:!0}};he.prototype.setOrdinate=function(t,e,n){switch(e){case G.X:this._coordinates[t].x=n;break;case G.Y:this._coordinates[t].y=n;break;case G.Z:this._coordinates[t].z=n;break;default:throw new v("invalid ordinateIndex")}},he.prototype.size=function(){return this._coordinates.length},he.prototype.getOrdinate=function(t,e){switch(e){case G.X:return this._coordinates[t].x;case G.Y:return this._coordinates[t].y;case G.Z:return this._coordinates[t].z}return _.NaN},he.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},he.prototype.getCoordinateCopy=function(t){return new E(this._coordinates[t])},he.prototype.getDimension=function(){return this._dimension},he.prototype.getX=function(t){return this._coordinates[t].x},he.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new he(t,this._dimension)},he.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},he.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new he(t,this._dimension)},he.prototype.toString=function(){if(this._coordinates.length>0){var t=new L(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},he.prototype.getY=function(t){return this._coordinates[t].y},he.prototype.toCoordinateArray=function(){return this._coordinates},he.prototype.interfaces_=function(){return[G,e]},he.prototype.getClass=function(){return he},ue.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(he,ue);var le=function(){},ce={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};le.prototype.readResolve=function(){return le.instance()},le.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new he(arguments[0]);if(O(arguments[0],G))return new he(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new he(t):new he(t,e)}},le.prototype.interfaces_=function(){return[I,e]},le.prototype.getClass=function(){return le},le.instance=function(){return le.instanceObject},ce.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ce.instanceObject.get=function(){return new le},Object.defineProperties(le,ce);var fe=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Mt,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Rt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Ot),de=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ge){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},pe={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};de.prototype.equals=function(t){if(!(t instanceof de))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},de.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new T(n).compareTo(new T(r))},de.prototype.getScale=function(){return this._scale},de.prototype.isFloating=function(){return this._modelType===de.FLOATING||this._modelType===de.FLOATING_SINGLE},de.prototype.getType=function(){return this._modelType},de.prototype.toString=function(){var t="UNKNOWN";return this._modelType===de.FLOATING?t="Floating":this._modelType===de.FLOATING_SINGLE?t="Floating-Single":this._modelType===de.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},de.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return _.isNaN(t)||this._modelType===de.FLOATING_SINGLE?t:this._modelType===de.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof E){var e=arguments[0];if(this._modelType===de.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},de.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===de.FLOATING?t=16:this._modelType===de.FLOATING_SINGLE?t=6:this._modelType===de.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},de.prototype.setScale=function(t){this._scale=Math.abs(t)},de.prototype.interfaces_=function(){return[e,w]},de.prototype.getClass=function(){return de},de.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},pe.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},pe.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(de,pe);var ge=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},me={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ge.prototype.readResolve=function(){return ge.nameToTypeMap.get(this._name)},ge.prototype.toString=function(){return this._name},ge.prototype.interfaces_=function(){return[e]},ge.prototype.getClass=function(){return ge},me.serialVersionUID.get=function(){return-552860263173159e4},me.nameToTypeMap.get=function(){return new fe},Object.defineProperties(ge,me),de.Type=ge,de.FIXED=new ge("FIXED"),de.FLOATING=new ge("FLOATING"),de.FLOATING_SINGLE=new ge("FLOATING SINGLE");var ye=function t(){this._precisionModel=new de,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?O(arguments[0],I)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof de&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ve={serialVersionUID:{configurable:!0}};ye.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new E(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new E(t.getMinX(),t.getMinY()),new E(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new E(t.getMinX(),t.getMinY()),new E(t.getMinX(),t.getMaxY()),new E(t.getMaxX(),t.getMaxY()),new E(t.getMaxX(),t.getMinY()),new E(t.getMinX(),t.getMinY())]),null)},ye.prototype.createLineString=function(t){return t?t instanceof Array?new Ht(this.getCoordinateSequenceFactory().create(t),this):O(t,G)?new Ht(t,this):void 0:new Ht(this.getCoordinateSequenceFactory().create([]),this)},ye.prototype.createMultiLineString=function(){return 0===arguments.length?new zt(null,this):1===arguments.length?new zt(arguments[0],this):void 0},ye.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(ye.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Qt)return this.createMultiPolygon(ye.toPolygonArray(t));if(a instanceof Ht)return this.createMultiLineString(ye.toLineStringArray(t));if(a instanceof Kt)return this.createMultiPoint(ye.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},ye.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ye.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(O(arguments[0],G))return new Kt(arguments[0],this)}},ye.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ye.prototype.createPolygon=function(){if(0===arguments.length)return new Qt(null,null,this);if(1===arguments.length){if(O(arguments[0],G)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Qt(arguments[0],arguments[1],this)},ye.prototype.getSRID=function(){return this._SRID},ye.prototype.createGeometryCollection=function(){return 0===arguments.length?new Ut(null,this):1===arguments.length?new Ut(arguments[0],this):void 0},ye.prototype.createGeometry=function(t){return new re(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},ye.prototype.getPrecisionModel=function(){return this._precisionModel},ye.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(O(arguments[0],G))return new ee(arguments[0],this)}},ye.prototype.createMultiPolygon=function(){return 0===arguments.length?new ne(null,this):1===arguments.length?new ne(arguments[0],this):void 0},ye.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new te(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(O(arguments[0],G)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());Yt.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},ye.prototype.interfaces_=function(){return[e]},ye.prototype.getClass=function(){return ye},ye.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.getDefaultCoordinateSequenceFactory=function(){return le.instance()},ye.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ve.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ye,ve);var _e=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],be=function(t){this.geometryFactory=t||new ye};be.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!we[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==_e.indexOf(n)?we[n].apply(this,[e.coordinates]):"GeometryCollection"===n?we[n].apply(this,[e.geometries]):we[n].apply(this,[e])},be.prototype.write=function(t){var e=t.getGeometryType();if(!xe[e])throw new Error("Geometry is not supported");return xe[e].apply(this,[t])};var we={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!we[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=we.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new E(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new E(t[0],t[1]),new E(t[2],t[1]),new E(t[2],t[3]),new E(t[0],t[3]),new E(t[0],t[1])])},Point:function(t){var e=new E(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(we.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=we.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(we.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=we.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=we.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(we.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},xe={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xe.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xe.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(xe.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xe.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xe.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=xe.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xe.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(xe[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Me=function(t){this.geometryFactory=t||new ye,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new be(this.geometryFactory)};Me.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===de.FIXED&&this.reducePrecision(e),e},Me.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ee=function(){this.parser=new be(this.geometryFactory)};Ee.prototype.write=function(t){return this.parser.write(t)};var Se=function(){},Ce={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.opposite=function(t){return t===Se.LEFT?Se.RIGHT:t===Se.RIGHT?Se.LEFT:t},Ce.ON.get=function(){return 0},Ce.LEFT.get=function(){return 1},Ce.RIGHT.get=function(){return 2},Object.defineProperties(Se,Ce),(g.prototype=new Error).name="EmptyStackException",(m.prototype=new xt).add=function(t){return this.array_.push(t),!0},m.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},m.prototype.push=function(t){return this.array_.push(t),t},m.prototype.pop=function(t){if(0===this.array_.length)throw new g;return this.array_.pop()},m.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},m.prototype.empty=function(){return 0===this.array_.length},m.prototype.isEmpty=function(){return this.empty()},m.prototype.search=function(t){return this.array_.indexOf(t)},m.prototype.size=function(){return this.array_.length},m.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ie=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ie.prototype.getCoordinate=function(){return this._minCoord},Ie.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ie.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=at.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===at.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ie.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Se.LEFT;return n[e].y<n[e+1].y&&(r=Se.RIGHT),r},Ie.prototype.getEdge=function(){return this._orientedDe},Ie.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ie.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ie.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Se.LEFT&&(this._orientedDe=this._minDe.getSym())},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var Ae=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new E(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Q),Pe=function(){this.array_=[]};Pe.prototype.addLast=function(t){this.array_.push(t)},Pe.prototype.removeFirst=function(){return this.array_.shift()},Pe.prototype.isEmpty=function(){return 0===this.array_.length};var Oe=function(){this._finder=null,this._dirEdgeList=new Mt,this._nodes=new Mt,this._rightMostCoord=null,this._env=null,this._finder=new Ie};Oe.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Oe.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Oe.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Ae("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Oe.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Se.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Oe.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Oe.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Se.RIGHT)>=1&&e.getDepth(Se.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Oe.prototype.computeDepths=function(t){var e=new Rt,n=new Pe,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Oe.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Oe.prototype.getEnvelope=function(){if(null===this._env){for(var t=new X,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Oe.prototype.addReachable=function(t){var e=new m;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Oe.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Se.LEFT,t.getDepth(Se.RIGHT)),e.setDepth(Se.RIGHT,t.getDepth(Se.LEFT))},Oe.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Oe.prototype.getNodes=function(){return this._nodes},Oe.prototype.getDirectedEdges=function(){return this._dirEdgeList},Oe.prototype.interfaces_=function(){return[w]},Oe.prototype.getClass=function(){return Oe};var ke=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Se.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Se.ON]=o,this.location[Se.LEFT]=s,this.location[Se.RIGHT]=a}};ke.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},ke.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==A.NONE)return!1;return!0},ke.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===A.NONE&&(this.location[e]=t)},ke.prototype.isLine=function(){return 1===this.location.length},ke.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Se.ON]=this.location[Se.ON],e[Se.LEFT]=A.NONE,e[Se.RIGHT]=A.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===A.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},ke.prototype.getLocations=function(){return this.location},ke.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Se.LEFT];this.location[Se.LEFT]=this.location[Se.RIGHT],this.location[Se.RIGHT]=t},ke.prototype.toString=function(){var t=new L;return this.location.length>1&&t.append(A.toLocationSymbol(this.location[Se.LEFT])),t.append(A.toLocationSymbol(this.location[Se.ON])),this.location.length>1&&t.append(A.toLocationSymbol(this.location[Se.RIGHT])),t.toString()},ke.prototype.setLocations=function(t,e,n){this.location[Se.ON]=t,this.location[Se.LEFT]=e,this.location[Se.RIGHT]=n},ke.prototype.get=function(t){return t<this.location.length?this.location[t]:A.NONE},ke.prototype.isArea=function(){return this.location.length>1},ke.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===A.NONE)return!0;return!1},ke.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Se.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},ke.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(A.NONE)},ke.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},ke.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var Re=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ke(e),this.elt[1]=new ke(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new ke(n.elt[0]),this.elt[1]=new ke(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new ke(A.NONE),this.elt[1]=new ke(A.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new ke(o,s,a),this.elt[1]=new ke(o,s,a)}else if(4===arguments.length){var h=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3];this.elt[0]=new ke(A.NONE,A.NONE,A.NONE),this.elt[1]=new ke(A.NONE,A.NONE,A.NONE),this.elt[h].setLocations(u,l,c)}};Re.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Re.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Re.prototype.isNull=function(t){return this.elt[t].isNull()},Re.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Re.prototype.isLine=function(t){return this.elt[t].isLine()},Re.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new ke(t.elt[e]):this.elt[e].merge(t.elt[e])},Re.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Re.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Se.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Re.prototype.toString=function(){var t=new L;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Re.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Re.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Re.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Se.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Re.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Re.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Re.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new ke(this.elt[t].location[0]))},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.toLineLabel=function(t){for(var e=new Re(A.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Le=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Mt,this._pts=new Mt,this._label=new Re(A.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Mt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Le.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Le.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Le.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Ae("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ae("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();et.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Le.prototype.getLinearRing=function(){return this._ring},Le.prototype.getCoordinate=function(t){return this._pts.get(t)},Le.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Le.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Le.prototype.isHole=function(){return this._isHole},Le.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Le.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Le.prototype.addHole=function(t){this._holes.add(t)},Le.prototype.isShell=function(){return null===this._shell},Le.prototype.getLabel=function(){return this._label},Le.prototype.getEdges=function(){return this._edges},Le.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Le.prototype.getShell=function(){return this._shell},Le.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Se.RIGHT);if(n===A.NONE)return null;if(this._label.getLocation(e)===A.NONE)return this._label.setLocation(e,n),null}},Le.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Le.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var Te=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),Ne=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Mt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Te(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),De=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};De.prototype.setVisited=function(t){this._isVisited=t},De.prototype.setInResult=function(t){this._isInResult=t},De.prototype.isCovered=function(){return this._isCovered},De.prototype.isCoveredSet=function(){return this._isCoveredSet},De.prototype.setLabel=function(t){this._label=t},De.prototype.getLabel=function(){return this._label},De.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},De.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},De.prototype.isInResult=function(){return this._isInResult},De.prototype.isVisited=function(){return this._isVisited},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var Fe=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Re(0,A.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=A.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==A.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Re(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Re)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===A.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=A.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;if(e===A.BOUNDARY)n=A.INTERIOR;else n=A.BOUNDARY;this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),je=function(){this.nodeMap=new c,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};je.prototype.find=function(t){return this.nodeMap.get(t)},je.prototype.addNode=function(){if(arguments[0]instanceof E){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Fe){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},je.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},je.prototype.iterator=function(){return this.nodeMap.values().iterator()},je.prototype.values=function(){return this.nodeMap.values()},je.prototype.getBoundaryNodes=function(t){for(var e=new Mt,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===A.BOUNDARY&&e.add(r)}return e},je.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var Be=function(){},Ge={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be},Be.isNorthern=function(t){return t===Be.NE||t===Be.NW},Be.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Be.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Be.isInHalfPlane=function(t,e){return e===Be.SE?t===Be.SE||t===Be.SW:t===e||t===e+1},Be.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Be.NE:Be.SE:e>=0?Be.NW:Be.SW}if(arguments[0]instanceof E&&arguments[1]instanceof E){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Be.NE:Be.SE:r.y>=n.y?Be.NW:Be.SW}},Ge.NE.get=function(){return 0},Ge.NW.get=function(){return 1},Ge.SW.get=function(){return 2},Ge.SE.get=function(){return 3},Object.defineProperties(Be,Ge);var qe=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};qe.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},qe.prototype.getDy=function(){return this._dy},qe.prototype.getCoordinate=function(){return this._p0},qe.prototype.setNode=function(t){this._node=t},qe.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},qe.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},qe.prototype.getDirectedCoordinate=function(){return this._p1},qe.prototype.getDx=function(){return this._dx},qe.prototype.getLabel=function(){return this._label},qe.prototype.getEdge=function(){return this._edge},qe.prototype.getQuadrant=function(){return this._quadrant},qe.prototype.getNode=function(){return this._node},qe.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},qe.prototype.computeLabel=function(t){},qe.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Be.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},qe.prototype.interfaces_=function(){return[w]},qe.prototype.getClass=function(){return qe};var Ue=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Re(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Ae("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Se.LEFT)===A.INTERIOR&&this._label.getLocation(e,Se.RIGHT)===A.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Se.LEFT]+"/"+this._depth[Se.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,A.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,A.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Se.LEFT&&(r=-1);var i=Se.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===A.EXTERIOR&&e===A.INTERIOR?1:t===A.INTERIOR&&e===A.EXTERIOR?-1:0},e}(qe),ze=function(){};ze.prototype.createNode=function(t){return new Fe(t,null)},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze};var Ze=function(){if(this._edges=new Mt,this._nodes=null,this._edgeEndList=new Mt,0===arguments.length)this._nodes=new je(new ze);else if(1===arguments.length){var t=arguments[0];this._nodes=new je(t)}};Ze.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ze.prototype.find=function(t){return this._nodes.find(t)},Ze.prototype.addNode=function(){if(arguments[0]instanceof Fe){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof E){var e=arguments[0];return this._nodes.addNode(e)}},Ze.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ze.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ze.prototype.debugPrintln=function(t){Z.out.println(t)},Ze.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===A.BOUNDARY},Ze.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ze.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&at.computeOrientation(t,e,r)===at.COLLINEAR&&Be.quadrant(t,e)===Be.quadrant(n,r)},Ze.prototype.getEdgeEnds=function(){return this._edgeEndList},Ze.prototype.debugPrint=function(t){Z.out.print(t)},Ze.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ze.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Ze.prototype.insertEdge=function(t){this._edges.add(t)},Ze.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ze.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Ue(n,!0),i=new Ue(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Ze.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ze.prototype.getNodes=function(){return this._nodes.values()},Ze.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze},Ze.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Ve=function(){this._geometryFactory=null,this._shellList=new Mt;var t=arguments[0];this._geometryFactory=t};Ve.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Ve.prototype.computePolygons=function(t){for(var e=new Mt,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Ve.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Ae("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Ve.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Mt,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Ve.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Ve.prototype.buildMaximalEdgeRings=function(t){for(var e=new Mt,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Ne(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Ve.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Ve.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ve.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var h=a.next(),u=h.getLinearRing(),l=u.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var c=!1;l.contains(r)&&at.isPointInRing(i,u.getCoordinates())&&(c=!0),c&&(null===o||s.contains(l))&&(o=h)}return o},Ve.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Ve.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ze.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new Mt,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var Xe=function(){};Xe.prototype.getBounds=function(){},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var We=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};We.prototype.getItem=function(){return this._item},We.prototype.getBounds=function(){return this._bounds},We.prototype.interfaces_=function(){return[Xe,e]},We.prototype.getClass=function(){return We};var Ye=function(){this._size=null,this._items=null,this._size=0,this._items=new Mt,this._items.add(null)};Ye.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Ye.prototype.size=function(){return this._size},Ye.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Ye.prototype.clear=function(){this._size=0,this._items.clear()},Ye.prototype.isEmpty=function(){return 0===this._size},Ye.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var He=function(){};He.prototype.visitItem=function(t){},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var $e=function(){};$e.prototype.insert=function(t,e){},$e.prototype.remove=function(t,e){},$e.prototype.query=function(){},$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e};var Ke=function(){if(this._childBoundables=new Mt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Je={serialVersionUID:{configurable:!0}};Ke.prototype.getLevel=function(){return this._level},Ke.prototype.size=function(){return this._childBoundables.size()},Ke.prototype.getChildBoundables=function(){return this._childBoundables},Ke.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Ke.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ke.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Ke.prototype.interfaces_=function(){return[Xe,e]},Ke.prototype.getClass=function(){return Ke},Je.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Ke,Je);var Qe=function(){};Qe.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Qe.min=function(t){return Qe.sort(t),t.get(0)},Qe.sort=function(t,e){var n=t.toArray();e?Ft.sort(n,e):Ft.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Qe.singletonList=function(t){var e=new Mt;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),r=tn.isComposite(this._boundable2);if(n&&r)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new v("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[w]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Ke};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Mt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Ke?t+=this.size(n):n instanceof We&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof We&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Mt:t}if(1===arguments.length){for(var e=arguments[0],n=new Mt,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Ke){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof We?n.add(i.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new We(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Mt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(et.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Ke?this.boundablesAtLevel(n,s,i):(et.isTrue(s instanceof We),-1===n&&i.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Mt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(O(arguments[2],He)&&arguments[0]instanceof Object&&arguments[1]instanceof Ke)for(var i=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var h=s.get(a);this.getIntersectsOp().intersects(h.getBounds(),i)&&(h instanceof Ke?this.query(i,h,o):h instanceof We?o.visitItem(h.getItem()):et.shouldNeverReachHere())}else if(O(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ke)for(var u=arguments[0],l=arguments[2],c=arguments[1].getChildBoundables(),f=0;f<c.size();f++){var d=c.get(f);this.getIntersectsOp().intersects(d.getBounds(),u)&&(d instanceof Ke?this.query(u,d,l):d instanceof We?l.add(d.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var h=a.next();if(this.getIntersectsOp().intersects(h.getBounds(),n)&&h instanceof Ke&&(o=this.remove(n,h,i))){s=h;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Ke){var r=this.depth(n);r>t&&(t=r)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Mt;n.add(this.createNode(e));var r=new Mt(t);Qe.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Mt,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new Mt;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(O(arguments[2],He)&&arguments[0]instanceof Object&&arguments[1]instanceof Ke){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(O(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ke){var a=arguments[0],h=arguments[1],u=arguments[2];t.prototype.query.call(this,a,h,u)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Mt(t);Qe.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(O(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var r=arguments[0];return this.nearestNeighbour(r,_.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&O(arguments[1],on)){var i=arguments[0],o=arguments[1],s=new tn(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],h=arguments[1],u=null,l=new Ye;for(l.add(a);!l.isEmpty()&&h>0;){var c=l.poll(),f=c.getDistance();if(f>=h)break;c.isLeaves()?(h=f,u=c):c.expandToQueue(l,h)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],p=new We(arguments[0],arguments[1]),g=new tn(this.getRoot(),p,d);return this.nearestNeighbour(g)[0]}},n.prototype.interfaces_=function(){return[$e,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return an},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[M]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[M]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new X(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ke),hn=function(){};hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.relativeSign=function(t,e){return t<e?-1:t>e?1:0},hn.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=hn.relativeSign(e.x,n.x),i=hn.relativeSign(e.y,n.y);switch(t){case 0:return hn.compareValue(r,i);case 1:return hn.compareValue(i,r);case 2:return hn.compareValue(i,-r);case 3:return hn.compareValue(-r,i);case 4:return hn.compareValue(-r,-i);case 5:return hn.compareValue(-i,-r);case 6:return hn.compareValue(-i,r);case 7:return hn.compareValue(r,-i)}return et.shouldNeverReachHere("invalid octant value"),0},hn.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var un=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new E(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};un.prototype.getCoordinate=function(){return this.coord},un.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},un.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:hn.compare(this._segmentOctant,this.coord,e.coord)},un.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},un.prototype.isInterior=function(){return this._isInterior},un.prototype.interfaces_=function(){return[w]},un.prototype.getClass=function(){return un};var ln=function(){this._nodeMap=new c,this._edge=null;var t=arguments[0];this._edge=t};ln.prototype.getSplitCoordinates=function(){var t=new St;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},ln.prototype.addCollapsedNodes=function(){var t=new Mt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},ln.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},ln.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new T(e+1))}},ln.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new E(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new E(e.coord))},ln.prototype.iterator=function(){return this._nodeMap.values().iterator()},ln.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},ln.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},ln.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new T(e[0])),r=i}},ln.prototype.getEdge=function(){return this._edge},ln.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},ln.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new E(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new E(e.coord)),new pn(o,this._edge.getData())},ln.prototype.add=function(t,e){var n=new un(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(et.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},ln.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Q("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Q("bad split edge end point at "+i)},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var cn=function(){};cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn},cn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof E&&arguments[1]instanceof E){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new v("Cannot compute the octant for two identical points "+i);return cn.octant(s,a)}};var fn=function(){};fn.prototype.getCoordinates=function(){},fn.prototype.size=function(){},fn.prototype.getCoordinate=function(t){},fn.prototype.isClosed=function(){},fn.prototype.setData=function(t){},fn.prototype.getData=function(){},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn};var dn=function(){};dn.prototype.addIntersection=function(t,e){},dn.prototype.interfaces_=function(){return[fn]},dn.prototype.getClass=function(){return dn};var pn=function(){this._nodeList=new ln(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};pn.prototype.getCoordinates=function(){return this._pts},pn.prototype.size=function(){return this._pts.length},pn.prototype.getCoordinate=function(t){return this._pts[t]},pn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},pn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},pn.prototype.setData=function(t){this._data=t},pn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:cn.octant(t,e)},pn.prototype.getData=function(){return this._data},pn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new E(arguments[0].getIntersection(r));this.addIntersection(i,n)}},pn.prototype.toString=function(){return J.toLineString(new he(this._pts))},pn.prototype.getNodeList=function(){return this._nodeList},pn.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},pn.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},pn.prototype.interfaces_=function(){return[dn]},pn.prototype.getClass=function(){return pn},pn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Mt;return pn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var gn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new E,this.p1=new E;else if(1===arguments.length){var t=arguments[0];this.p0=new E(t.p0),this.p1=new E(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new E(e,n),this.p1=new E(r,i)}},mn={serialVersionUID:{configurable:!0}};gn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},gn.prototype.orientationIndex=function(){if(arguments[0]instanceof gn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof E){var r=arguments[0];return at.orientationIndex(this.p0,this.p1,r)}},gn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},gn.prototype.isVertical=function(){return this.p0.x===this.p1.x},gn.prototype.equals=function(t){if(!(t instanceof gn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},gn.prototype.intersection=function(t){var e=new it;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},gn.prototype.project=function(){if(arguments[0]instanceof E){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new E(t);var e=this.projectionFactor(t),n=new E;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof gn){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new gn(s,a)}},gn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},gn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},gn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},gn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},gn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},gn.prototype.midPoint=function(){return gn.midPoint(this.p0,this.p1)},gn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?_.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},gn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=_.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var h=t.closestPoint(this.p1);return(i=h.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=h),n},gn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},gn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},gn.prototype.getLength=function(){return this.p0.distance(this.p1)},gn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},gn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},gn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},gn.prototype.lineIntersection=function(t){try{return V.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof z))throw t}return null},gn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},gn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,h=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,h=e*o/s}return new E(n-h,r+a)},gn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},gn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||_.isNaN(e))&&(e=1),e},gn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},gn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},gn.prototype.distance=function(){if(arguments[0]instanceof gn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof E){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},gn.prototype.pointAlong=function(t){var e=new E;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},gn.prototype.hashCode=function(){var t=_.doubleToLongBits(this.p0.x);t^=31*_.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=_.doubleToLongBits(this.p1.x);return n^=31*_.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},gn.prototype.interfaces_=function(){return[w,e]},gn.prototype.getClass=function(){return gn},gn.midPoint=function(t,e){return new E((t.x+e.x)/2,(t.y+e.y)/2)},mn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(gn,mn);var yn=function(){this.tempEnv1=new X,this.tempEnv2=new X,this._overlapSeg1=new gn,this._overlapSeg2=new gn};yn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var vn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};vn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},vn.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},vn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},vn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},vn.prototype.setId=function(t){this._id=t},vn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},vn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new X(t,e)}return this._env},vn.prototype.getEndIndex=function(){return this._end},vn.prototype.getStartIndex=function(){return this._start},vn.prototype.getContext=function(){return this._context},vn.prototype.getId=function(){return this._id},vn.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],h=n._pts[r],u=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(h,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var l=Math.trunc((t+e)/2),c=Math.trunc((r+i)/2);t<l&&(r<c&&this.computeOverlapsInternal(t,l,n,r,c,o),c<i&&this.computeOverlapsInternal(t,l,n,c,i,o)),l<e&&(r<c&&this.computeOverlapsInternal(l,e,n,r,c,o),c<i&&this.computeOverlapsInternal(l,e,n,c,i,o))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var _n=function(){};_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.getChainStartIndices=function(t){var e=0,n=new Mt;n.add(new T(e));do{var r=_n.findChainEnd(t,e);n.add(new T(r)),e=r}while(e<t.length-1);return _n.toIntArray(n)},_n.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Be.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Be.quadrant(t[i-1],t[i])===r);)i++;return i-1},_n.getChains=function(){if(1===arguments.length){var t=arguments[0];return _n.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Mt,i=_n.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new vn(e,i[o],i[o+1],n);r.add(s)}return r}},_n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var bn=function(){};bn.prototype.computeNodes=function(t){},bn.prototype.getNodedSubstrings=function(){},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var wn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};wn.prototype.setSegmentIntersector=function(t){this._segInt=t},wn.prototype.interfaces_=function(){return[bn]},wn.prototype.getClass=function(){return wn};var xn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Mt,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return pn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=_n.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Mn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Mn},Object.defineProperties(e,n),e}(wn),Mn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yn),En=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Sn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};En.prototype.getEndCapStyle=function(){return this._endCapStyle},En.prototype.isSingleSided=function(){return this._isSingleSided},En.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=En.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=En.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==En.JOIN_ROUND&&(this._quadrantSegments=En.DEFAULT_QUADRANT_SEGMENTS)},En.prototype.getJoinStyle=function(){return this._joinStyle},En.prototype.setJoinStyle=function(t){this._joinStyle=t},En.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},En.prototype.getSimplifyFactor=function(){return this._simplifyFactor},En.prototype.getQuadrantSegments=function(){return this._quadrantSegments},En.prototype.setEndCapStyle=function(t){this._endCapStyle=t},En.prototype.getMitreLimit=function(){return this._mitreLimit},En.prototype.setMitreLimit=function(t){this._mitreLimit=t},En.prototype.setSingleSided=function(t){this._isSingleSided=t},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En},En.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Sn.CAP_ROUND.get=function(){return 1},Sn.CAP_FLAT.get=function(){return 2},Sn.CAP_SQUARE.get=function(){return 3},Sn.JOIN_ROUND.get=function(){return 1},Sn.JOIN_MITRE.get=function(){return 2},Sn.JOIN_BEVEL.get=function(){return 3},Sn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Sn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Sn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(En,Sn);var Cn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},In={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Cn.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},Cn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Cn.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Cn.prototype.isShallowConcavity=function(t,e,n,r){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<r},Cn.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Cn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Cn.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Cn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Cn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Cn.DELETE;)e++;return e},Cn.prototype.isShallow=function(t,e,n,r){return at.distancePointLine(e,t,n)<r},Cn.prototype.collapseLine=function(){for(var t=new St,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Cn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.simplify=function(t,e){return new Cn(t).simplify(e)},In.INIT.get=function(){return 0},In.DELETE.get=function(){return 1},In.KEEP.get=function(){return 1},In.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Cn,In);var An=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Mt},Pn={COORDINATE_ARRAY_TYPE:{configurable:!0}};An.prototype.getCoordinates=function(){return this._ptList.toArray(An.COORDINATE_ARRAY_TYPE)},An.prototype.setPrecisionModel=function(t){this._precisionModel=t},An.prototype.addPt=function(t){var e=new E(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},An.prototype.revere=function(){},An.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},An.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},An.prototype.toString=function(){return(new ye).createLineString(this.getCoordinates()).toString()},An.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new E(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},An.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},Pn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(An,Pn);var On=function(){},kn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.toDegrees=function(t){return 180*t/Math.PI},On.normalize=function(t){for(;t>Math.PI;)t-=On.PI_TIMES_2;for(;t<=-Math.PI;)t+=On.PI_TIMES_2;return t},On.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},On.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},On.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},On.interiorAngle=function(t,e,n){var r=On.angle(e,t),i=On.angle(e,n);return Math.abs(i-r)},On.normalizePositive=function(t){if(t<0){for(;t<0;)t+=On.PI_TIMES_2;t>=On.PI_TIMES_2&&(t=0)}else{for(;t>=On.PI_TIMES_2;)t-=On.PI_TIMES_2;t<0&&(t=0)}return t},On.angleBetween=function(t,e,n){var r=On.angle(e,t),i=On.angle(e,n);return On.diff(r,i)},On.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},On.toRadians=function(t){return t*Math.PI/180},On.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?On.COUNTERCLOCKWISE:n<0?On.CLOCKWISE:On.NONE},On.angleBetweenOriented=function(t,e,n){var r=On.angle(e,t),i=On.angle(e,n)-r;return i<=-Math.PI?i+On.PI_TIMES_2:i>Math.PI?i-On.PI_TIMES_2:i},kn.PI_TIMES_2.get=function(){return 2*Math.PI},kn.PI_OVER_2.get=function(){return Math.PI/2},kn.PI_OVER_4.get=function(){return Math.PI/4},kn.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},kn.CLOCKWISE.get=function(){return at.CLOCKWISE},kn.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(On,kn);var Rn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new gn,this._seg1=new gn,this._offset0=new gn,this._offset1=new gn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new it,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===En.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Ln={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Rn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),r=n===at.CLOCKWISE&&this._side===Se.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Se.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Rn.prototype.addLineEndCap=function(t,e){var n=new gn(t,e),r=new gn;this.computeOffsetSegment(n,Se.LEFT,this._distance,r);var i=new gn;this.computeOffsetSegment(n,Se.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case En.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case En.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case En.CAP_SQUARE:var h=new E;h.x=Math.abs(this._distance)*Math.cos(a),h.y=Math.abs(this._distance)*Math.sin(a);var u=new E(r.p1.x+h.x,r.p1.y+h.y),l=new E(i.p1.x+h.x,i.p1.y+h.y);this._segList.addPt(u),this._segList.addPt(l)}},Rn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Rn.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=V.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof z))throw t;o=new E(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Rn.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),h=n.x-t.x,u=n.y-t.y,l=Math.atan2(u,h);r===at.CLOCKWISE?a<=l&&(a+=2*Math.PI):a>=l&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,l,r,i),this._segList.addPt(n)},Rn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Rn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===En.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===En.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Rn.prototype.createSquare=function(t){this._segList.addPt(new E(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new E(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Rn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Rn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Rn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Rn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Rn.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=On.angle(i,this._seg0.p0),s=On.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=On.normalize(o+s),h=On.normalize(a+Math.PI),u=r*n,l=n-u*Math.abs(Math.sin(s)),c=i.x+u*Math.cos(h),f=i.y+u*Math.sin(h),d=new E(c,f),p=new gn(i,d),g=p.pointAlongOffset(1,l),m=p.pointAlongOffset(1,-l);this._side===Se.LEFT?(this._segList.addPt(g),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(g))},Rn.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Se.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),h=i*n*o/a,u=i*n*s/a;r.p0.x=t.p0.x-u,r.p0.y=t.p0.y+h,r.p1.x=t.p1.x-u,r.p1.y=t.p1.y+h},Rn.prototype.addFilletArc=function(t,e,n,r,i){var o=r===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var h=s/a,u=0,l=new E;u<s;){var c=e+o*u;l.x=t.x+i*Math.cos(c),l.y=t.y+i*Math.sin(c),this._segList.addPt(l),u+=h}},Rn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Rn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new E((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new E((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Rn.prototype.createCircle=function(t){var e=new E(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Rn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Rn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new An,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Rn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Rn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===En.JOIN_BEVEL||this._bufParams.getJoinStyle()===En.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Rn.prototype.closeRing=function(){this._segList.closeRing()},Rn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Ln.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ln.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Rn,Ln);var Tn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Tn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Ct.reverse(o),o},Tn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Cn.simplify(t,r),h=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var u=2;u<=h;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()},Tn.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Se.RIGHT&&(r=-r);var i=Cn.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},Tn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Cn.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Se.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Cn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Se.LEFT);for(var h=a-2;h>=0;h--)e.addNextSegment(s[h],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Tn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case En.CAP_ROUND:e.createCircle(t);break;case En.CAP_SQUARE:e.createSquare(t)}},Tn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Tn.prototype.getBufferParameters=function(){return this._bufParams},Tn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Tn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Tn.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Tn.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Cn.simplify(t,r),h=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var u=2;u<=h;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()},Tn.prototype.getSegGen=function(t){return new Rn(this._precisionModel,this._bufParams,t)},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new E(t[n]);return e};var Nn=function(){this._subgraphs=null,this._seg=new gn,this._cga=new at;var t=arguments[0];this._subgraphs=t},Dn={DepthSegment:{configurable:!0}};Nn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Mt,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(O(arguments[2],xt)&&arguments[0]instanceof E&&arguments[1]instanceof Ue){for(var o=arguments[0],s=arguments[1],a=arguments[2],h=s.getEdge().getCoordinates(),u=0;u<h.length-1;u++)if(this._seg.p0=h[u],this._seg.p1=h[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var l=s.getDepth(Se.LEFT);this._seg.p0.equals(h[u])||(l=s.getDepth(Se.RIGHT));var c=new Fn(this._seg,l);a.add(c)}}else if(O(arguments[2],xt)&&arguments[0]instanceof E&&O(arguments[1],xt))for(var f=arguments[0],d=arguments[2],p=arguments[1].iterator();p.hasNext();){var g=p.next();g.isForward()&&this.findStabbedSegments(f,g,d)}},Nn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Qe.min(e)._leftDepth},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Dn.DepthSegment.get=function(){return Fn},Object.defineProperties(Nn,Dn);var Fn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new gn(t),this._leftDepth=e};Fn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Fn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Fn.prototype.toString=function(){return this._upwardSeg.toString()},Fn.prototype.interfaces_=function(){return[w]},Fn.prototype.getClass=function(){return Fn};var jn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};jn.prototype.area=function(){return jn.area(this.p0,this.p1,this.p2)},jn.prototype.signedArea=function(){return jn.signedArea(this.p0,this.p1,this.p2)},jn.prototype.interpolateZ=function(t){if(null===t)throw new v("Supplied point is null.");return jn.interpolateZ(t,this.p0,this.p1,this.p2)},jn.prototype.longestSideLength=function(){return jn.longestSideLength(this.p0,this.p1,this.p2)},jn.prototype.isAcute=function(){return jn.isAcute(this.p0,this.p1,this.p2)},jn.prototype.circumcentre=function(){return jn.circumcentre(this.p0,this.p1,this.p2)},jn.prototype.area3D=function(){return jn.area3D(this.p0,this.p1,this.p2)},jn.prototype.centroid=function(){return jn.centroid(this.p0,this.p1,this.p2)},jn.prototype.inCentre=function(){return jn.inCentre(this.p0,this.p1,this.p2)},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn},jn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},jn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},jn.det=function(t,e,n,r){return t*r-e*n},jn.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,h=n.y-o,u=r.y-o,l=s*u-a*h,c=t.x-i,f=t.y-o,d=(u*c-a*f)/l,p=(-h*c+s*f)/l;return e.z+d*(n.z-e.z)+p*(r.z-e.z)},jn.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},jn.isAcute=function(t,e,n){return!!On.isAcute(t,e,n)&&!!On.isAcute(e,n,t)&&!!On.isAcute(n,t,e)},jn.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,h=e.y-i,u=2*jn.det(o,s,a,h),l=jn.det(s,o*o+s*s,h,a*a+h*h),c=jn.det(o,o*o+s*s,a,a*a+h*h);return new E(r-l/u,i+c/u)},jn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new V(t.x+n/2,t.y+r/2,1),o=new V(t.x-r+n/2,t.y+n+r/2,1);return new V(i,o)},jn.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new E(t.x+i*o,t.y+i*s)},jn.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,h=n.z-t.z,u=i*h-o*a,l=o*s-r*h,c=r*a-i*s,f=u*u+l*l+c*c;return Math.sqrt(f)/2},jn.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new E(r,i)},jn.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,h=(r*t.y+i*e.y+o*n.y)/s;return new E(a,h)};var Bn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Mt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Bn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,A.EXTERIOR,A.INTERIOR)},Bn.prototype.addPolygon=function(t){var e=this._distance,n=Se.LEFT;this._distance<0&&(e=-this._distance,n=Se.RIGHT);var r=t.getExteriorRing(),i=Ct.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,A.EXTERIOR,A.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Ct.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Se.opposite(n),A.INTERIOR,A.EXTERIOR)}},Bn.prototype.isTriangleErodedCompletely=function(t,e){var n=new jn(t[0],t[1],t[2]),r=n.inCentre();return at.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Bn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Ct.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,A.EXTERIOR,A.INTERIOR)},Bn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new pn(t,new Re(0,A.BOUNDARY,e,n));this._curveList.add(r)},Bn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bn.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=i,s=r,n=Se.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Bn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Qt?this.addPolygon(t):t instanceof Ht?this.addLineString(t):t instanceof Kt?this.addPoint(t):(t instanceof te||t instanceof zt||t instanceof ne||t instanceof Ut)&&this.addCollection(t)},Bn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Bn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var Gn=function(){};Gn.prototype.locate=function(t){},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn};var qn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};qn.prototype.next=function(){if(this._atStart)return this._atStart=!1,qn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var t=this._parent.getGeometryN(this._index++);return t instanceof Ut?(this._subcollectionIterator=new qn(t),this._subcollectionIterator.next()):t},qn.prototype.remove=function(){throw new Error(this.getClass().getName())},qn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},qn.prototype.interfaces_=function(){return[wt]},qn.prototype.getClass=function(){return qn},qn.isAtomic=function(t){return!(t instanceof Ut)};var Un=function(){this._geom=null;var t=arguments[0];this._geom=t};Un.prototype.locate=function(t){return Un.locate(t,this._geom)},Un.prototype.interfaces_=function(){return[Gn]},Un.prototype.getClass=function(){return Un},Un.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},Un.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Un.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Un.isPointInRing(t,i))return!1}return!0},Un.containsPoint=function(t,e){if(e instanceof Qt)return Un.containsPointInPolygon(t,e);if(e instanceof Ut)for(var n=new qn(e);n.hasNext();){var r=n.next();if(r!==e&&Un.containsPoint(t,r))return!0}return!1},Un.locate=function(t,e){return e.isEmpty()?A.EXTERIOR:Un.containsPoint(t,e)?A.INTERIOR:A.EXTERIOR};var zn=function(){this._edgeMap=new c,this._edgeList=null,this._ptInAreaLocation=[A.NONE,A.NONE]};zn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},zn.prototype.propagateSideLabels=function(t){for(var e=A.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Se.LEFT)!==A.NONE&&(e=r.getLocation(t,Se.LEFT))}if(e===A.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Se.ON)===A.NONE&&a.setLocation(t,Se.ON,i),a.isArea(t)){var h=a.getLocation(t,Se.LEFT),u=a.getLocation(t,Se.RIGHT);if(u!==A.NONE){if(u!==i)throw new Ae("side location conflict",s.getCoordinate());h===A.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=h}else et.isTrue(a.getLocation(t,Se.LEFT)===A.NONE,"found single null side"),a.setLocation(t,Se.RIGHT,i),a.setLocation(t,Se.LEFT,i)}}},zn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},zn.prototype.print=function(t){Z.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},zn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},zn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Se.LEFT);et.isTrue(r!==A.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Se.LEFT),h=s.getLocation(t,Se.RIGHT);if(a===h)return!1;if(h!==i)return!1;i=a}return!0},zn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},zn.prototype.iterator=function(){return this.getEdges().iterator()},zn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Mt(this._edgeMap.values())),this._edgeList},zn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===A.NONE&&(this._ptInAreaLocation[t]=Un.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},zn.prototype.toString=function(){var t=new L;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},zn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},zn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===A.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),h=0;h<2;h++)if(a.isAnyNull(h)){var u=A.NONE;if(e[h])u=A.EXTERIOR;else{var l=s.getCoordinate();u=this.getLocation(h,l,t)}a.setAllLocationsIfNull(h,u)}},zn.prototype.getDegree=function(){return this._edgeMap.size()},zn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn};var Zn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Ae("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Be.isNorthern(i)&&Be.isNorthern(o)?n:Be.isNorthern(i)||Be.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){Z.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Mt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Se.LEFT),r=t.getDepth(Se.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Ae("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var h=this._edgeList.get(a);h.setEdgeDepths(Se.RIGHT,s),s=h.getDepth(Se.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=A.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=A.INTERIOR;break}if(r.isInResult()){t=A.EXTERIOR;break}}}if(t===A.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===A.INTERIOR):(s.isInResult()&&(i=A.EXTERIOR),a.isInResult()&&(i=A.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Re(A.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==A.INTERIOR&&o!==A.BOUNDARY||this._label.setLocation(i,A.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zn),Vn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Fe(t,new Zn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ze),Xn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Xn.prototype.compareTo=function(t){var e=t;return Xn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Xn.prototype.interfaces_=function(){return[w]},Xn.prototype.getClass=function(){return Xn},Xn.orientation=function(t){return 1===Ct.increasingDirection(t)},Xn.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,h=e?0:t.length-1,u=r?0:n.length-1;;){var l=t[h].compareTo(n[u]);if(0!==l)return l;var c=(h+=i)===s,f=(u+=o)===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}};var Wn=function(){this._edges=new Mt,this._ocaMap=new c};Wn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Wn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Wn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Wn.prototype.iterator=function(){return this._edges.iterator()},Wn.prototype.getEdges=function(){return this._edges},Wn.prototype.get=function(t){return this._edges.get(t)},Wn.prototype.findEqualEdge=function(t){var e=new Xn(t.getCoordinates());return this._ocaMap.get(e)},Wn.prototype.add=function(t){this._edges.add(t);var e=new Xn(t.getCoordinates());this._ocaMap.put(e,t)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Yn=function(){};Yn.prototype.processIntersections=function(t,e,n,r){},Yn.prototype.isDone=function(){},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Hn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Hn.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Hn.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Hn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hn.prototype.getLineIntersector=function(){return this._li},Hn.prototype.hasProperIntersection=function(){return this._hasProper},Hn.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Hn.prototype.hasIntersection=function(){return this._hasIntersection},Hn.prototype.isDone=function(){return!1},Hn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Hn.prototype.interfaces_=function(){return[Yn]},Hn.prototype.getClass=function(){return Hn},Hn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var $n=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new E(t),this.segmentIndex=e,this.dist=n};$n.prototype.getSegmentIndex=function(){return this.segmentIndex},$n.prototype.getCoordinate=function(){return this.coord},$n.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},$n.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},$n.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},$n.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},$n.prototype.getDistance=function(){return this.dist},$n.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},$n.prototype.interfaces_=function(){return[w]},$n.prototype.getClass=function(){return $n};var Kn=function(){this._nodeMap=new c,this.edge=null;var t=arguments[0];this.edge=t};Kn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Kn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Kn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Kn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Kn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new E(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new nr(o,new Re(this.edge._label))},Kn.prototype.add=function(t,e,n){var r=new $n(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Kn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var Jn=function(){};Jn.prototype.getChainStartIndices=function(t){var e=0,n=new Mt;n.add(new T(e));do{var r=this.findChainEnd(t,e);n.add(new T(r)),e=r}while(e<t.length-1);return Jn.toIntArray(n)},Jn.prototype.findChainEnd=function(t,e){for(var n=Be.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Be.quadrant(t[r-1],t[r])===n;)r++;return r-1},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Qn=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new X,this.env2=new X;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Jn;this.startIndex=e.getChainStartIndices(this.pts)};Qn.prototype.getCoordinates=function(){return this.pts},Qn.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Qn.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Qn.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4],u=arguments[5],l=this.pts[i],c=this.pts[o],f=s.pts[a],d=s.pts[h];if(o-i==1&&h-a==1)return u.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(l,c),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((i+o)/2),g=Math.trunc((a+h)/2);i<p&&(a<g&&this.computeIntersectsForChain(i,p,s,a,g,u),g<h&&this.computeIntersectsForChain(i,p,s,g,h,u)),p<o&&(a<g&&this.computeIntersectsForChain(p,o,s,a,g,u),g<h&&this.computeIntersectsForChain(p,o,s,g,h,u))}},Qn.prototype.getStartIndexes=function(){return this.startIndex},Qn.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var tr=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},er={NULL_VALUE:{configurable:!0}};tr.prototype.getDepth=function(t,e){return this._depth[t][e]},tr.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},tr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==tr.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===tr.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===tr.NULL_VALUE}},tr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},tr.prototype.getDelta=function(t){return this._depth[t][Se.RIGHT]-this._depth[t][Se.LEFT]},tr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?A.EXTERIOR:A.INTERIOR},tr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},tr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==A.EXTERIOR&&r!==A.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=tr.depthAtLocation(r):this._depth[e][n]+=tr.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===A.INTERIOR&&this._depth[i][o]++}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.depthAtLocation=function(t){return t===A.EXTERIOR?0:t===A.INTERIOR?1:tr.NULL_VALUE},er.NULL_VALUE.get=function(){return-1},Object.defineProperties(tr,er);var nr=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Kn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new tr,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Re.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Qn(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new X;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new E(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var h=this.pts[a];i.equals2D(h)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new L;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Se.ON),e.getLocation(1,Se.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Se.LEFT),e.getLocation(1,Se.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Se.RIGHT),e.getLocation(1,Se.RIGHT),2))},e}(De),rr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Wn,this._bufParams=t||null};rr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Re(t.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(rr.depthDelta(t.getLabel()))},rr.prototype.buildSubgraphs=function(t,e){for(var n=new Mt,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Nn(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(t){for(var e=new Mt,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Oe;i.create(r),e.add(i)}}return Qe.sort(e,Qe.reverseOrder()),e},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new xn,n=new it;return n.setPrecisionModel(t),e.setSegmentIntersector(new Hn(n)),e},rr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Tn(n,this._bufParams),i=new Bn(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Ze(new Vn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Ve(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},rr.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new nr(i.getCoordinates(),new Re(s));this.insertUniqueEdge(a)}}},rr.prototype.setNoder=function(t){this._workingNoder=t},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(t){var e=t.getLocation(0,Se.LEFT),n=t.getLocation(0,Se.RIGHT);return e===A.INTERIOR&&n===A.EXTERIOR?1:e===A.EXTERIOR&&n===A.INTERIOR?-1:0},rr.convertSegStrings=function(t){for(var e=new ye,n=new Mt;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(O(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Z.out.println(n)}},ir.prototype.scale=function(){if(O(arguments[0],bt)){for(var t=arguments[0],e=new Mt,n=t.iterator();n.hasNext();){var r=n.next();e.add(new pn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new E(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return Ct.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ir.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ir.prototype.interfaces_=function(){return[bn]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new it,this._segStrings=null;var t=arguments[0];this._segStrings=t},sr={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Q("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),h=0;h<s.length-1;h++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(i,h,o,u);else if(4===arguments.length){var l=arguments[0],c=arguments[1],f=arguments[2],d=arguments[3];if(l===f&&c===d)return null;var p=l.getCoordinates()[c],g=l.getCoordinates()[c+1],m=f.getCoordinates()[d],y=f.getCoordinates()[d+1];if(this._li.computeIntersection(p,g,m,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,g)||this.hasInteriorIntersection(this._li,m,y)))throw new Q("found non-noded intersection at "+p+"-"+g+" and "+m+"-"+y)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Q("found non-noded collapse at "+or.fact.createLineString([t,e,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},sr.fact.get=function(){return new ye},Object.defineProperties(or,sr);var ar=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new v("Scale factor must be non-zero");1!==e&&(this._pt=new E(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new E,this._p1Scaled=new E),this.initCorners(this._pt)},hr={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ar.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ar.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new E(this._maxx,this._maxy),this._corner[1]=new E(this._minx,this._maxy),this._corner[2]=new E(this._minx,this._miny),this._corner[3]=new E(this._maxx,this._miny)},ar.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ar.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ar.prototype.getCoordinate=function(){return this._originalPt},ar.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ar.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ar.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new X(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ar.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ar.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},ar.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},hr.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ar,hr);var ur=function(){this.tempEnv1=new X,this.selectedSegment=new gn};ur.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur};var lr=function(){this._index=null;var t=arguments[0];this._index=t},cr={HotPixelSnapAction:{configurable:!0}};lr.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new fr(e,n,r);return this._index.query(i,{interfaces_:function(){return[He]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},cr.HotPixelSnapAction.get=function(){return fr},Object.defineProperties(lr,cr);var fr=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ur),dr=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Mt};dr.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var h=0;h<this._li.getIntersectionNum();h++)this._interiorIntersections.add(this._li.getIntersection(h));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},dr.prototype.isDone=function(){return!1},dr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},dr.prototype.interfaces_=function(){return[Yn]},dr.prototype.getClass=function(){return dr};var pr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new it,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};pr.prototype.checkCorrectness=function(t){var e=pn.getNodedSubstrings(t),n=new or(e);try{n.checkValid()}catch(t){if(!(t instanceof U))throw t;t.printStackTrace()}},pr.prototype.getNodedSubstrings=function(){return pn.getNodedSubstrings(this._nodedSegStrings)},pr.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},pr.prototype.findInteriorIntersections=function(t,e){var n=new dr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},pr.prototype.computeVertexSnaps=function(){if(O(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof pn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new ar(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},pr.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new xn,this._pointSnapper=new lr(this._noder.getIndex()),this.snapRound(t,this._li)},pr.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new ar(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},pr.prototype.interfaces_=function(){return[bn]},pr.prototype.getClass=function(){return pr};var gr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new En,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},mr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gr.prototype.bufferFixedPrecision=function(t){var e=new ir(new pr(new de(1)),t.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},gr.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=gr.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Ae))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=gr.precisionScaleFactor(this._argGeom,this._distance,n),i=new de(r);this.bufferFixedPrecision(i)}},gr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===de.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},gr.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},gr.prototype.bufferOriginalPrecision=function(){try{var t=new rr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Q))throw t;this._saveException=t}},gr.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},gr.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},gr.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new gr(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new gr(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof En&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var i=arguments[1];return new gr(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],h=new gr(arguments[0]);return h.setQuadrantSegments(s),h.setEndCapStyle(a),h.getResultGeometry(o)}},gr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=k.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},mr.CAP_ROUND.get=function(){return En.CAP_ROUND},mr.CAP_BUTT.get=function(){return En.CAP_FLAT},mr.CAP_FLAT.get=function(){return En.CAP_FLAT},mr.CAP_SQUARE.get=function(){return En.CAP_SQUARE},mr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gr,mr);var yr=function(){this._pt=[new E,new E],this._distance=_.NaN,this._isNull=!0};yr.prototype.getCoordinates=function(){return this._pt},yr.prototype.getCoordinate=function(t){return this._pt[t]},yr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},yr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yr.prototype.getDistance=function(){return this._distance},yr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var vr=function(){};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.computeDistance=function(){if(arguments[2]instanceof yr&&arguments[0]instanceof Ht&&arguments[1]instanceof E)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new gn,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof yr&&arguments[0]instanceof Qt&&arguments[1]instanceof E){var s=arguments[0],a=arguments[1],h=arguments[2];vr.computeDistance(s.getExteriorRing(),a,h);for(var u=0;u<s.getNumInteriorRing();u++)vr.computeDistance(s.getInteriorRingN(u),a,h)}else if(arguments[2]instanceof yr&&arguments[0]instanceof lt&&arguments[1]instanceof E){var l=arguments[0],c=arguments[1],f=arguments[2];if(l instanceof Ht)vr.computeDistance(l,c,f);else if(l instanceof Qt)vr.computeDistance(l,c,f);else if(l instanceof Ut)for(var d=l,p=0;p<d.getNumGeometries();p++){var g=d.getGeometryN(p);vr.computeDistance(g,c,f)}else f.setMinimum(l.getCoordinate(),c)}else if(arguments[2]instanceof yr&&arguments[0]instanceof gn&&arguments[1]instanceof E){var m=arguments[1],y=arguments[2],v=arguments[0].closestPoint(m);y.setMinimum(v,m)}};var _r=function(t){this._maxPtDist=new yr,this._inputGeom=t||null},br={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};_r.prototype.computeMaxMidpointDistance=function(t){var e=new xr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},_r.prototype.computeMaxVertexDistance=function(t){var e=new wr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},_r.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},_r.prototype.getDistancePoints=function(){return this._maxPtDist},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},br.MaxPointDistanceFilter.get=function(){return wr},br.MaxMidpointDistanceFilter.get=function(){return xr},Object.defineProperties(_r,br);var wr=function(t){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=t||null};wr.prototype.filter=function(t){this._minPtDist.initialize(),vr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[dt]},wr.prototype.getClass=function(){return wr};var xr=function(t){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=t||null};xr.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new E((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),vr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xr.prototype.isDone=function(){return!1},xr.prototype.isGeometryChanged=function(){return!1},xr.prototype.getMaxPointDistance=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[qt]},xr.prototype.getClass=function(){return xr};var Mr=function(t){this._comps=t||null};Mr.prototype.filter=function(t){t instanceof Qt&&this._comps.add(t)},Mr.prototype.interfaces_=function(){return[Gt]},Mr.prototype.getClass=function(){return Mr},Mr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Mr.getPolygons(t,new Mt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qt?n.add(e):e instanceof Ut&&e.apply(new Mr(n)),n}};var Er=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Er.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Ht&&this._lines.add(t)},Er.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Er.prototype.interfaces_=function(){return[ut]},Er.prototype.getClass=function(){return Er},Er.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Er.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Er.getLines(e,n))}},Er.getLines=function(){if(1===arguments.length){var t=arguments[0];return Er.getLines(t,!1)}if(2===arguments.length){if(O(arguments[0],bt)&&O(arguments[1],bt)){for(var e=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();Er.getLines(r,e)}return e}if(arguments[0]instanceof lt&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=new Mt;return i.apply(new Er(s,o)),s}if(arguments[0]instanceof lt&&O(arguments[1],bt)){var a=arguments[0],h=arguments[1];return a instanceof Ht?h.add(a):a.apply(new Er(h)),h}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&O(arguments[0],bt)&&O(arguments[1],bt)){for(var u=arguments[1],l=arguments[2],c=arguments[0].iterator();c.hasNext();){var f=c.next();Er.getLines(f,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof lt&&O(arguments[1],bt)){var d=arguments[1],p=arguments[2];return arguments[0].apply(new Er(d,p)),d}}};var Sr=function(){if(this._boundaryRule=pt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new v("Rule must be non-null");this._boundaryRule=t}};Sr.prototype.locateInternal=function(){if(arguments[0]instanceof E&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return A.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===A.EXTERIOR)return A.EXTERIOR;if(r===A.BOUNDARY)return A.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===A.INTERIOR)return A.EXTERIOR;if(s===A.BOUNDARY)return A.BOUNDARY}return A.INTERIOR}if(arguments[0]instanceof E&&arguments[1]instanceof Ht){var a=arguments[0],h=arguments[1];if(!h.getEnvelopeInternal().intersects(a))return A.EXTERIOR;var u=h.getCoordinates();return h.isClosed()||!a.equals(u[0])&&!a.equals(u[u.length-1])?at.isOnLine(a,u)?A.INTERIOR:A.EXTERIOR:A.BOUNDARY}if(arguments[0]instanceof E&&arguments[1]instanceof Kt){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?A.INTERIOR:A.EXTERIOR}},Sr.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):A.EXTERIOR},Sr.prototype.intersects=function(t,e){return this.locate(t,e)!==A.EXTERIOR},Sr.prototype.updateLocationInfo=function(t){t===A.INTERIOR&&(this._isIn=!0),t===A.BOUNDARY&&this._numBoundaries++},Sr.prototype.computeLocation=function(t,e){if(e instanceof Kt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Ht)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Qt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof zt)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof Ut)for(var h=new qn(e);h.hasNext();){var u=h.next();u!==e&&this.computeLocation(t,u)}},Sr.prototype.locate=function(t,e){return e.isEmpty()?A.EXTERIOR:e instanceof Ht||e instanceof Qt?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?A.BOUNDARY:this._numBoundaries>0||this._isIn?A.INTERIOR:A.EXTERIOR)},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr};var Cr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._component=e,this._segIndex=n,this._pt=r}},Ir={INSIDE_AREA:{configurable:!0}};Cr.prototype.isInsideArea=function(){return this._segIndex===Cr.INSIDE_AREA},Cr.prototype.getCoordinate=function(){return this._pt},Cr.prototype.getGeometryComponent=function(){return this._component},Cr.prototype.getSegmentIndex=function(){return this._segIndex},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr},Ir.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Cr,Ir);var Ar=function(t){this._pts=t||null};Ar.prototype.filter=function(t){t instanceof Kt&&this._pts.add(t)},Ar.prototype.interfaces_=function(){return[Gt]},Ar.prototype.getClass=function(){return Ar},Ar.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Kt?Qe.singletonList(t):Ar.getPoints(t,new Mt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Kt?n.add(e):e instanceof Ut&&e.apply(new Ar(n)),n}};var Pr=function(){this._locations=null;var t=arguments[0];this._locations=t};Pr.prototype.filter=function(t){(t instanceof Kt||t instanceof Ht||t instanceof Qt)&&this._locations.add(new Cr(t,0,t.getCoordinate()))},Pr.prototype.interfaces_=function(){return[Gt]},Pr.prototype.getClass=function(){return Pr},Pr.getLocations=function(t){var e=new Mt;return t.apply(new Pr(e)),e};var Or=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Sr,this._minDistanceLocation=null,this._minDistance=_.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Or.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Mr.getPolygons(this._geom[e]);if(i.size()>0){var o=Pr.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&O(arguments[0],xt)&&O(arguments[1],xt)){for(var s=arguments[0],a=arguments[1],h=arguments[2],u=0;u<s.size();u++)for(var l=s.get(u),c=0;c<a.size();c++)if(this.computeContainmentDistance(l,a.get(c),h),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Cr&&arguments[1]instanceof Qt){var f=arguments[0],d=arguments[1],p=arguments[2],g=f.getCoordinate();if(A.EXTERIOR!==this._ptLocator.locate(g,d))return this._minDistance=0,p[0]=f,p[1]=new Cr(d,g),null}},Or.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Or.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Er.getLines(this._geom[0]),n=Er.getLines(this._geom[1]),r=Ar.getPoints(this._geom[0]),i=Ar.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Or.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Or.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Or.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Or.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ht&&arguments[1]instanceof Kt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=at.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new gn(r[o],r[o+1]).closestPoint(i);n[0]=new Cr(t,o,a),n[1]=new Cr(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var h=arguments[0],u=arguments[1],l=arguments[2];if(h.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var c=h.getCoordinates(),f=u.getCoordinates(),d=0;d<c.length-1;d++)for(var p=0;p<f.length-1;p++){var g=at.distanceLineLine(c[d],c[d+1],f[p],f[p+1]);if(g<this._minDistance){this._minDistance=g;var m=new gn(c[d],c[d+1]),y=new gn(f[p],f[p+1]),v=m.closestPoints(y);l[0]=new Cr(h,d,v[0]),l[1]=new Cr(u,p,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Or.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Cr(i,0,i.getCoordinate()),n[1]=new Cr(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Or.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new v("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Or.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.distance=function(t,e){return new Or(t,e).distance()},Or.isWithinDistance=function(t,e,n){return new Or(t,e,n).distance()<=n},Or.nearestPoints=function(t,e){return new Or(t,e).nearestPoints()};var kr=function(){this._pt=[new E,new E],this._distance=_.NaN,this._isNull=!0};kr.prototype.getCoordinates=function(){return this._pt},kr.prototype.getCoordinate=function(t){return this._pt[t]},kr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},kr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},kr.prototype.toString=function(){return J.toLineString(this._pt[0],this._pt[1])},kr.prototype.getDistance=function(){return this._distance},kr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr};var Rr=function(){};Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.computeDistance=function(){if(arguments[2]instanceof kr&&arguments[0]instanceof Ht&&arguments[1]instanceof E)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new gn,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof kr&&arguments[0]instanceof Qt&&arguments[1]instanceof E){var a=arguments[0],h=arguments[1],u=arguments[2];Rr.computeDistance(a.getExteriorRing(),h,u);for(var l=0;l<a.getNumInteriorRing();l++)Rr.computeDistance(a.getInteriorRingN(l),h,u)}else if(arguments[2]instanceof kr&&arguments[0]instanceof lt&&arguments[1]instanceof E){var c=arguments[0],f=arguments[1],d=arguments[2];if(c instanceof Ht)Rr.computeDistance(c,f,d);else if(c instanceof Qt)Rr.computeDistance(c,f,d);else if(c instanceof Ut)for(var p=c,g=0;g<p.getNumGeometries();g++){var m=p.getGeometryN(g);Rr.computeDistance(m,f,d)}else d.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof kr&&arguments[0]instanceof gn&&arguments[1]instanceof E){var y=arguments[1],v=arguments[2],_=arguments[0].closestPoint(y);v.setMinimum(_,y)}};var Lr=function(){this._g0=null,this._g1=null,this._ptDist=new kr,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Tr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Lr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Lr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new v("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Lr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Lr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Lr.prototype.computeOrientedDistance=function(t,e,n){var r=new Nr(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Dr(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Lr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.distance=function(){if(2===arguments.length)return new Lr(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new Lr(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},Tr.MaxPointDistanceFilter.get=function(){return Nr},Tr.MaxDensifiedByFractionDistanceFilter.get=function(){return Dr},Object.defineProperties(Lr,Tr);var Nr=function(){this._maxPtDist=new kr,this._minPtDist=new kr,this._euclideanDist=new Rr,this._geom=null;var t=arguments[0];this._geom=t};Nr.prototype.filter=function(t){this._minPtDist.initialize(),Rr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Nr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nr.prototype.interfaces_=function(){return[dt]},Nr.prototype.getClass=function(){return Nr};var Dr=function(){this._maxPtDist=new kr,this._minPtDist=new kr,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Dr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*i,h=n.y+s*o,u=new E(a,h);this._minPtDist.initialize(),Rr.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Dr.prototype.isDone=function(){return!1},Dr.prototype.isGeometryChanged=function(){return!1},Dr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dr.prototype.interfaces_=function(){return[qt]},Dr.prototype.getClass=function(){return Dr};var Fr=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},jr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Fr.prototype.checkMaximumDistance=function(t,e,n){var r=new Lr(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+J.toLineString(i[0],i[1])+")"}},Fr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Fr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Fr.VERBOSE&&Z.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Fr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Qt||this._input instanceof ne||this._input instanceof Ut))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Fr.prototype.getErrorIndicator=function(){return this._errorIndicator},Fr.prototype.checkMinimumDistance=function(t,e,n){var r=new Or(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+J.toLineString(i[0],i[1])+" )"}},Fr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Fr.prototype.getErrorLocation=function(){return this._errorLocation},Fr.prototype.getPolygonLines=function(t){for(var e=new Mt,n=new Er(e),r=Mr.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Fr.prototype.getErrorMessage=function(){return this._errMsg},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},jr.VERBOSE.get=function(){return!1},jr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fr,jr);var Br=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Gr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Br.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Br.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Br.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new X(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new X(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Br.prototype.checkDistance=function(){var t=new Fr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Br.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Br.prototype.checkPolygonal=function(){this._result instanceof Qt||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Br.prototype.getErrorIndicator=function(){return this._errorIndicator},Br.prototype.getErrorLocation=function(){return this._errorLocation},Br.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Br.prototype.report=function(t){if(!Br.VERBOSE)return null;Z.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Br.prototype.getErrorMessage=function(){return this._errorMsg},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br},Br.isValidMsg=function(t,e,n){var r=new Br(t,e,n);return r.isValid()?null:r.getErrorMessage()},Br.isValid=function(t,e,n){return!!new Br(t,e,n).isValid()},Gr.VERBOSE.get=function(){return!1},Gr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Br,Gr);var qr=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};qr.prototype.getCoordinates=function(){return this._pts},qr.prototype.size=function(){return this._pts.length},qr.prototype.getCoordinate=function(t){return this._pts[t]},qr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},qr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:cn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},qr.prototype.setData=function(t){this._data=t},qr.prototype.getData=function(){return this._data},qr.prototype.toString=function(){return J.toLineString(new he(this._pts))},qr.prototype.interfaces_=function(){return[fn]},qr.prototype.getClass=function(){return qr};var Ur=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Mt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Ur.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ur.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Ur.prototype.getIntersectionSegments=function(){return this._intSegments},Ur.prototype.count=function(){return this._intersectionCount},Ur.prototype.getIntersections=function(){return this._intersections},Ur.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ur.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Ur.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ur.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Ur.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Ur.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Ur.prototype.interfaces_=function(){return[Yn]},Ur.prototype.getClass=function(){return Ur},Ur.createAllIntersectionsFinder=function(t){var e=new Ur(t);return e.setFindAllIntersections(!0),e},Ur.createAnyIntersectionFinder=function(t){return new Ur(t)},Ur.createIntersectionCounter=function(t){var e=new Ur(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var zr=function(){this._li=new it,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};zr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},zr.prototype.getIntersections=function(){return this._segInt.getIntersections()},zr.prototype.isValid=function(){return this.execute(),this._isValid},zr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ur(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new xn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},zr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ae(this.getErrorMessage(),this._segInt.getInteriorIntersection())},zr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+J.toLineString(t[0],t[1])+" and "+J.toLineString(t[2],t[3])},zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr},zr.computeIntersections=function(t){var e=new zr(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Zr=function t(){this._nv=null;var e=arguments[0];this._nv=new zr(t.toSegmentStrings(e))};Zr.prototype.checkValid=function(){this._nv.checkValid()},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},Zr.toSegmentStrings=function(t){for(var e=new Mt,n=t.iterator();n.hasNext();){var r=n.next();e.add(new qr(r.getCoordinates(),r))}return e},Zr.checkValid=function(t){new Zr(t).checkValid()};var Vr=function(t){this._mapOp=t};Vr.prototype.map=function(t){for(var e=new Mt,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(ye.toGeometryArray(e))},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.map=function(t,e){return new Vr(e).map(t)};var Xr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Mt,this._resultLineList=new Mt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Xr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Xr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Xr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Xr.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Ci.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Xr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Xr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Xr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Xr.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Ci.isResultOfOp(r,e)&&e===Ci.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Wr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Mt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Wr.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Wr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Ci.INTERSECTION)){var r=n.getLabel();Ci.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Wr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr};var Yr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Yr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Yr.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ee&&!r.isEmpty()||(n=!1);for(var i=new Mt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new Mt;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Yr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Yr.prototype.getInputGeometry=function(){return this._inputGeom},Yr.prototype.transformMultiLineString=function(t,e){for(var n=new Mt,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yr.prototype.transformCoordinates=function(t,e){return this.copy(t)},Yr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Yr.prototype.transformMultiPoint=function(t,e){for(var n=new Mt,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yr.prototype.transformMultiPolygon=function(t,e){for(var n=new Mt,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yr.prototype.copy=function(t){return t.copy()},Yr.prototype.transformGeometryCollection=function(t,e){for(var n=new Mt,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ye.toGeometryArray(n)):this._factory.buildGeometry(n)},Yr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Kt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Ht)return this.transformLineString(t,null);if(t instanceof zt)return this.transformMultiLineString(t,null);if(t instanceof Qt)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof Ut)return this.transformGeometryCollection(t,null);throw new v("Unknown Geometry subtype: "+t.getClass().getName())},Yr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Hr=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new gn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ht&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Hr.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new E(o)),0===r&&this._isClosed&&t.set(t.size()-1,new E(o)))}},Hr.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Hr.prototype.snapTo=function(t){var e=new St(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Hr.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new E(i),!1)}},Hr.prototype.findSegmentIndexToSnap=function(t,e){for(var n=_.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Hr.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr},Hr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var $r=function(t){this._srcGeom=t||null},Kr={SNAP_PRECISION_FACTOR:{configurable:!0}};$r.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Jr(e,n).transform(this._srcGeom)},$r.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Jr(t,n,!0).transform(this._srcGeom),i=r;return e&&O(i,Jt)&&(i=r.buffer(0)),i},$r.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},$r.prototype.extractTargetCoordinates=function(t){for(var e=new d,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},$r.prototype.computeMinimumSegmentLength=function(t){for(var e=_.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.snap=function(t,e,n){var r=new Array(2).fill(null),i=new $r(t);r[0]=i.snapTo(e,n);var o=new $r(e);return r[1]=o.snapTo(r[0],n),r},$r.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=$r.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===de.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min($r.computeOverlaySnapTolerance(i),$r.computeOverlaySnapTolerance(o))}},$r.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*$r.SNAP_PRECISION_FACTOR},$r.snapToSelf=function(t,e,n){return new $r(t).snapToSelf(e,n)},Kr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties($r,Kr);var Jr=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Hr(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yr),Qr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qr.prototype.getCommon=function(){return _.longBitsToDouble(this._commonBits)},Qr.prototype.add=function(t){var e=_.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Qr.signExpBits(this._commonBits),this._isFirst=!1,null):Qr.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Qr.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Qr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Qr.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=_.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+_.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Qr.signExpBits=function(t){return t>>52},Qr.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Qr.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Qr.getBit(t,r)!==Qr.getBit(e,r))return n;n++}return 52};var ti=function(){this._commonCoord=null,this._ccFilter=new ni},ei={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ti.prototype.addCommonBits=function(t){var e=new ri(this._commonCoord);t.apply(e),t.geometryChanged()},ti.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new E(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ri(e);return t.apply(n),t.geometryChanged(),t},ti.prototype.getCommonCoordinate=function(){return this._commonCoord},ti.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ei.CommonCoordinateFilter.get=function(){return ni},ei.Translater.get=function(){return ri},Object.defineProperties(ti,ei);var ni=function(){this._commonBitsX=new Qr,this._commonBitsY=new Qr};ni.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ni.prototype.getCommonCoordinate=function(){return new E(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[dt]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var t=arguments[0];this.trans=t};ri.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[qt]},ri.prototype.getClass=function(){return ri};var ii=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ii.prototype.selfSnap=function(t){return new $r(t).snapTo(t,this._snapTolerance)},ii.prototype.removeCommonBits=function(t){this._cbr=new ti,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ii.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ii.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Ci.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ii.prototype.checkValid=function(t){t.isValid()||Z.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=$r.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(t){var e=this.removeCommonBits(t);return $r.snap(e[0],e[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,Ci.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,Ci.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,Ci.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,Ci.DIFFERENCE)};var oi=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};oi.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Ci.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Q))throw t;r=t}if(!n)try{e=ii.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Q?r:t}return e},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(t,e,n){return new oi(t,e).getResultGeometry(n)},oi.union=function(t,e){return oi.overlayOp(t,e,Ci.UNION)},oi.intersection=function(t,e){return oi.overlayOp(t,e,Ci.INTERSECTION)},oi.symDifference=function(t,e){return oi.overlayOp(t,e,Ci.SYMDIFFERENCE)},oi.difference=function(t,e){return oi.overlayOp(t,e,Ci.DIFFERENCE)};var si=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};si.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var ai=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},hi={INSERT:{configurable:!0},DELETE:{configurable:!0}};ai.prototype.isDelete=function(){return this._eventType===ai.DELETE},ai.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ai.prototype.getObject=function(){return this._obj},ai.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ai.prototype.getInsertEvent=function(){return this._insertEvent},ai.prototype.isInsert=function(){return this._eventType===ai.INSERT},ai.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ai.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ai.prototype.interfaces_=function(){return[w]},ai.prototype.getClass=function(){return ai},hi.INSERT.get=function(){return 1},hi.DELETE.get=function(){return 2},Object.defineProperties(ai,hi);var ui=function(){};ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var li=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};li.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(li.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},li.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},li.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},li.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},li.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},li.prototype.hasProperIntersection=function(){return this._hasProper},li.prototype.hasIntersection=function(){return this._hasIntersection},li.prototype.isDone=function(){return this._isDone},li.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},li.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},li.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var ci=function(t){function e(){t.call(this),this.events=new Mt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Qe.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof li&&O(arguments[0],xt)&&O(arguments[1],xt)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&O(arguments[0],xt)&&arguments[1]instanceof li){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new si(n,i),s=new ai(e,n.getMinX(i),o);this.events.add(s),this.events.add(new ai(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ui),fi=function(){this._min=_.POSITIVE_INFINITY,this._max=_.NEGATIVE_INFINITY},di={NodeComparator:{configurable:!0}};fi.prototype.getMin=function(){return this._min},fi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fi.prototype.getMax=function(){return this._max},fi.prototype.toString=function(){return J.toLineString(new E(this._min,0),new E(this._max,0))},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},di.NodeComparator.get=function(){return pi},Object.defineProperties(fi,di);var pi=function(){};pi.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},pi.prototype.interfaces_=function(){return[M]},pi.prototype.getClass=function(){return pi};var gi=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),mi=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),yi=function(){this._leaves=new Mt,this._root=null,this._level=0};yi.prototype.buildTree=function(){Qe.sort(this._leaves,new fi.NodeComparator);for(var t=this._leaves,e=null,n=new Mt;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},yi.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new gi(t,e,n))},yi.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},yi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yi.prototype.printNode=function(t){Z.out.println(J.toLineString(new E(t._min,this._level),new E(t._max,this._level)))},yi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new mi(t.get(n),t.get(n+1));e.add(i)}}},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var vi=function(){this._items=new Mt};vi.prototype.visitItem=function(t){this._items.add(t)},vi.prototype.getItems=function(){return this._items},vi.prototype.interfaces_=function(){return[He]},vi.prototype.getClass=function(){return vi};var _i=function(){this._index=null;var t=arguments[0];if(!O(t,Jt))throw new v("Argument must be Polygonal");this._index=new xi(t)},bi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_i.prototype.locate=function(t){var e=new st(t),n=new wi(e);return this._index.query(t.y,t.y,n),e.getLocation()},_i.prototype.interfaces_=function(){return[Gn]},_i.prototype.getClass=function(){return _i},bi.SegmentVisitor.get=function(){return wi},bi.IntervalIndexedGeometry.get=function(){return xi},Object.defineProperties(_i,bi);var wi=function(){this._counter=null;var t=arguments[0];this._counter=t};wi.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},wi.prototype.interfaces_=function(){return[He]},wi.prototype.getClass=function(){return wi};var xi=function(){this._index=new yi;var t=arguments[0];this.init(t)};xi.prototype.init=function(t){for(var e=Er.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xi.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new gn(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},xi.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new vi;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Mi=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new fe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Sr,2===arguments.length){var e=arguments[0],n=arguments[1],r=pt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,Se.ON)===A.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new li(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),s=this._parentGeom instanceof ee||this._parentGeom instanceof Qt||this._parentGeom instanceof ne,a=n||!s;return o.computeIntersections(this._edges,i,a),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new li(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Kt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,A.INTERIOR)}else if(arguments[0]instanceof E){var e=arguments[0];this.insertPoint(this._argIndex,e,A.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),A.EXTERIOR,A.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,A.INTERIOR,A.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],A.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],A.BOUNDARY)},e.prototype.addLineString=function(t){var e=Ct.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nr(e,new Re(this._argIndex,A.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===A.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Ct.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;at.isCCW(r)&&(i=n,o=e);var s=new nr(r,new Re(this._argIndex,A.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],A.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Re(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new ci},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof Qt)this.addPolygon(e);else if(e instanceof Ht)this.addLineString(e);else if(e instanceof Kt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof zt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof Ut))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return O(this._parentGeom,Jt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _i(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?A.BOUNDARY:A.INTERIOR},e}(Ze),Ei=function(){if(this._li=new it,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Mi(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=pt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Mi(0,e,r),this._arg[1]=new Mi(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Mi(0,i,s),this._arg[1]=new Mi(1,o,s)}};Ei.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Ei.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei};var Si=function(){};Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.map=function(){if(arguments[0]instanceof lt&&O(arguments[1],Si.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Mt,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(O(arguments[0],bt)&&O(arguments[1],Si.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Mt,h=o.iterator();h.hasNext();){var u=h.next(),l=s.map(u);null!==l&&a.add(l)}return a}},Si.MapOp=function(){};var Ci=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Sr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Wn,this._resultPolyList=new Mt,this._resultLineList=new Mt,this._resultPointList=new Mt,this._graph=new Ze(new Vn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Re(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new Mt;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==A.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Mt,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Mt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Zr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Ve(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Xr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Wr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Se.RIGHT),i.getLocation(1,Se.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(et.isTrue(!r.isNull(i,Se.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Se.LEFT,r.getLocation(i,Se.LEFT)),et.isTrue(!r.isNull(i,Se.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Se.RIGHT,r.getLocation(i,Se.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ei);Ci.overlayOp=function(t,e,n){return new Ci(t,e).getResultGeometry(n)},Ci.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Ci.createEmptyResult(Ci.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Vr.map(t,{interfaces_:function(){return[Si.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.INTERSECTION)},Ci.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ci.createEmptyResult(Ci.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.SYMDIFFERENCE)},Ci.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Ci.INTERSECTION:o=Math.min(r,i);break;case Ci.UNION:o=Math.max(r,i);break;case Ci.DIFFERENCE:o=r;break;case Ci.SYMDIFFERENCE:o=Math.max(r,i)}return o},Ci.createEmptyResult=function(t,e,n,r){var i=null;switch(Ci.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Ci.difference=function(t,e){return t.isEmpty()?Ci.createEmptyResult(Ci.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.DIFFERENCE))},Ci.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Ci.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===A.BOUNDARY&&(i=A.INTERIOR),o===A.BOUNDARY&&(o=A.INTERIOR),s){case Ci.INTERSECTION:return i===A.INTERIOR&&o===A.INTERIOR;case Ci.UNION:return i===A.INTERIOR||o===A.INTERIOR;case Ci.DIFFERENCE:return i===A.INTERIOR&&o!==A.INTERIOR;case Ci.SYMDIFFERENCE:return i===A.INTERIOR&&o!==A.INTERIOR||i!==A.INTERIOR&&o===A.INTERIOR}return!1}},Ci.INTERSECTION=1,Ci.UNION=2,Ci.DIFFERENCE=3,Ci.SYMDIFFERENCE=4;var Ii=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Sr,this._seg=new gn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Ii.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Ii.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?A.BOUNDARY:this._ptLocator.locate(t,this._g)},Ii.prototype.extractLinework=function(t){var e=new Ai;t.apply(e);var n=e.getLinework(),r=ye.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii};var Ai=function(){this._linework=null,this._linework=new Mt};Ai.prototype.getLinework=function(){return this._linework},Ai.prototype.filter=function(t){if(t instanceof Qt){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Ai.prototype.interfaces_=function(){return[Gt]},Ai.prototype.getClass=function(){return Ai};var Pi=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Pi.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Pi.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Pi.prototype.getPoints=function(t){for(var e=new Mt,n=Er.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Pi.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,h=n*o/s,u=(e.x+t.x)/2,l=(e.y+t.y)/2;if(this._doLeft){var c=new E(u-h,l+a);r.add(c)}if(this._doRight){var f=new E(u+h,l-a);r.add(f)}},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var Oi=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Mt;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Ii(this._geom[0],this._boundaryDistanceTolerance),new Ii(this._geom[1],this._boundaryDistanceTolerance),new Ii(this._geom[2],this._boundaryDistanceTolerance)]},ki={TOLERANCE:{configurable:!0}};Oi.prototype.reportResult=function(t,e,n){Z.out.println("Overlay result invalid - A:"+A.toLocationSymbol(e[0])+" B:"+A.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+A.toLocationSymbol(e[2]))},Oi.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Oi.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Oi.hasLocation(this._location,A.BOUNDARY)||this.isValidResult(r,this._location)}},Oi.prototype.addTestPts=function(t){var e=new Pi(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Oi.prototype.isValidResult=function(t,e){var n=Ci.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===A.INTERIOR);return r||this.reportResult(t,e,n),r},Oi.prototype.getInvalidLocation=function(){return this._invalidLocation},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Oi.computeBoundaryDistanceTolerance=function(t,e){return Math.min($r.computeSizeBasedSnapTolerance(t),$r.computeSizeBasedSnapTolerance(e))},Oi.isValid=function(t,e,n,r){return new Oi(t,e,r).isValid(n)},ki.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Oi,ki);var Ri=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ri.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Ri.prototype.combine=function(){for(var t=new Mt,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.combine=function(){if(1===arguments.length)return new Ri(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Ri(Ri.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Ri(Ri.createList(n,r,i)).combine()}},Ri.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ri.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Mt;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new Mt;return s.add(r),s.add(i),s.add(o),s}};var Li=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Mt)},Ti={STRTREE_NODE_CAPACITY:{configurable:!0}};Li.prototype.reduceToGeometries=function(t){for(var e=new Mt,n=t.iterator();n.hasNext();){var r=n.next(),i=null;O(r,xt)?i=this.unionTree(r):r instanceof lt&&(i=r),e.add(i)}return e},Li.prototype.extractByEnvelope=function(t,e,n){for(var r=new Mt,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Li.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ri.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Li.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Li.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Li.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Li.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Li.getGeometry(e,n),Li.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Li.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Li.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Li.prototype.unionActual=function(t,e){return Li.restrictToPolygons(t.union(e))},Li.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Li.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Mt,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),Ri.combine(r)},Li.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.restrictToPolygons=function(t){if(O(t,Jt))return t;var e=Mr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ye.toPolygonArray(e))},Li.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Li.union=function(t){return new Li(t).union()},Ti.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Li,Ti);var Ni=function(){};Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ci.createEmptyResult(Ci.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.UNION)},t.GeoJSONReader=Me,t.GeoJSONWriter=Ee,t.OverlayOp=Ci,t.UnionOp=Ni,t.BufferOp=gr,Object.defineProperty(t,"__esModule",{value:!0})}(e)},94927:(t,e,n)=>{function r(t){try{if(!n.g.localStorage)return!1}catch(t){return!1}var e=n.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},80950:()=>{},46601:()=>{},89214:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},77108:()=>{},52361:()=>{},94616:()=>{},69862:()=>{},40964:()=>{},83154:(t,e,n)=>{var r;if("function"==typeof fetch&&(void 0!==n.g&&n.g.fetch?r=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),"undefined"==typeof window||void 0===window.document){var i=r||n(54098);i.default&&(i=i.default),e.default=i,t.exports=e.default}},78714:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(72971),i=n(42071),o=n(291);const s="length";class a extends o.ZP{constructor(t,e,n){super(t),this.element=e,this.index=n}}class h extends r.Z{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,r=e.length;n<r;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(s)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(i.Z.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(i.Z.REMOVE,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(i.Z.REMOVE,n,t)),this.dispatchEvent(new a(i.Z.ADD,e,t))}updateLength_(){this.set(s,this.array_.length)}assertUnique_(t,e){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}}const u=h},42071:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={ADD:"add",REMOVE:"remove"}},55431:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},81090:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createStyleFunction:()=>h,default:()=>u});var r=n(72971),i=n(85487),o=n(99515),s=n(65818);class a extends r.Z{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new a(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,s.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=(0,s.oL)(t,i.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function h(t){if("function"==typeof t)return t;let e;return Array.isArray(t)?e=t:((0,o.h)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const u=a},18096:(t,e,n)=>{"use strict";n.d(e,{Kp:()=>s,Q9:()=>a});var r=n(85487),i=n(40177),o=n(65818);function s(t,e,n){const s=t;let a=!0,h=!1,u=!1;const l=[(0,o.Vx)(s,r.Z.LOAD,(function(){u=!0,h||e()}))];return s.src&&i.Tp?(h=!0,s.decode().then((function(){a&&e()})).catch((function(t){a&&(u?e():n())}))):l.push((0,o.Vx)(s,r.Z.ERROR,n)),function(){a=!1,l.forEach(o.bN)}}function a(t,e){return e&&(t.src=e),t.src&&i.Tp?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((r=>t.complete&&t.width?e(t):n(r))))):function(t,e){return new Promise(((e,n)=>{function r(){o(),e(t)}function i(){o(),n(new Error("Image load error"))}function o(){t.removeEventListener("load",r),t.removeEventListener("error",i)}t.addEventListener("load",r),t.addEventListener("error",i)}))}(t)}},70553:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},32126:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},72971:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(291),i=n(35990),o=n(62706),s=n(74187),a=n(69374);class h extends r.ZP{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class u extends o.default{constructor(t){super(),this.on,this.once,this.un,(0,s.sq)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new h(n,t,e)),n=i.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new h(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const r=this.values_||(this.values_={});if(n)r[t]=e;else{const n=r[t];r[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],(0,a.x)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}const l=u},35990:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={PROPERTYCHANGE:"propertychange"}},62706:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h,unByKey:()=>a});var r=n(208),i=n(85487),o=n(65818);class s extends r.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(i.Z.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=(0,o.oL)(this,t[i],e);return r}return(0,o.oL)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const r=t.length;n=new Array(r);for(let i=0;i<r;++i)n[i]=(0,o.Vx)(this,t[i],e)}else n=(0,o.Vx)(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)a(n);else if(Array.isArray(t))for(let n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)}}function a(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)(0,o.bN)(t[e]);else(0,o.bN)(t)}s.prototype.on,s.prototype.once,s.prototype.un;const h=s},59090:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>C});var r=n(72971),i=n(37755);const o={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var s=n(94768),a=n(35798),h=n(36885),u=n(91900),l=n(99515),c=n(33983);function f(t,e,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!e)return r;const h=e?0:o[0]*i,u=e?0:o[1]*i,l=a?a[0]:0,f=a?a[1]:0;let d=t[0]+h/2+l,p=t[2]-h/2+l,g=t[1]+u/2+f,m=t[3]-u/2+f;d>p&&(d=(p+d)/2,p=d),g>m&&(g=(m+g)/2,m=g);let y=(0,c.uZ)(r[0],d,p),v=(0,c.uZ)(r[1],g,m);if(s&&n&&i){const t=30*i;y+=-t*Math.log(1+Math.max(0,d-r[0])/t)+t*Math.log(1+Math.max(0,r[0]-p)/t),v+=-t*Math.log(1+Math.max(0,g-r[1])/t)+t*Math.log(1+Math.max(0,r[1]-m)/t)}return[y,v]}}function d(t){return t}var p=n(28641),g=n(65537);function m(t,e,n,r){const i=(0,p.dz)(e)/n[0],o=(0,p.Cr)(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function y(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,c.uZ)(r,n/2,2*e)}function v(t,e,n,r,i){return n=void 0===n||n,function(o,s,a,h){if(void 0!==o){const s=r?m(t,r,a,i):t;return n&&h?y(o,s,e):(0,c.uZ)(o,e,s)}}}var _=n(60828),b=n(31015),w=n(93083);class x extends r.Z{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,a.createProjection)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,a.disableCoordinateWarning)(),t.center&&(t.center=(0,a.fromUserCoordinate)(t.center,this.projection_)),t.extent&&(t.extent=(0,a.fromUserExtent)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const t in o)delete e[t];this.setProperties(e,!0);const n=function(t){let e,n,r;let i=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28;const h=void 0!==t.zoomFactor?t.zoomFactor:2,u=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,d=(0,a.createProjection)(t.projection,"EPSG:3857"),_=d.getExtent();let b=t.constrainOnlyCenter,w=t.extent;if(u||w||!d.isGlobal()||(b=!1,w=_),void 0!==t.resolutions){const s=t.resolutions;n=s[i],r=void 0!==s[o]?s[o]:s[s.length-1],e=t.constrainResolution?function(t,e,n,r){return e=void 0===e||e,function(i,o,s,a){if(void 0!==i){const h=t[0],u=t[t.length-1],l=n?m(h,n,s,r):h;if(a)return e?y(i,l,u):(0,c.uZ)(i,u,l);const f=Math.min(l,i),d=Math.floor((0,g.h7)(t,f,o));return t[d]>l&&d<t.length-1?t[d+1]:t[d]}}}(s,l,!b&&w,f):v(n,r,l,!b&&w,f)}else{const u=(_?Math.max((0,p.dz)(_),(0,p.Cr)(_)):360*a.METERS_PER_UNIT.degrees/d.getMetersPerUnit())/s.S/Math.pow(2,0),g=u/Math.pow(2,28);n=t.maxResolution,void 0!==n?i=0:n=u/Math.pow(h,i),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(h,o):u/Math.pow(h,o):g),o=i+Math.floor(Math.log(n/r)/Math.log(h)),r=n/Math.pow(h,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,h,u){if(void 0!==s){const l=i?m(e,i,h,o):e;if(u)return r?y(s,l,n):(0,c.uZ)(s,n,l);const f=1e-9,d=Math.ceil(Math.log(e/l)/Math.log(t)-f),p=-a*(.5-f)+.5,g=Math.min(l,s),v=Math.floor(Math.log(e/g)/Math.log(t)+p),_=Math.max(d,v),b=e/Math.pow(t,_);return(0,c.uZ)(b,n,l)}}}(h,n,r,l,!b&&w,f):v(n,r,l,!b&&w,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:h}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const r=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return f(t.extent,t.constrainOnlyCenter,e)}const e=(0,a.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,f(t,!1,!1)}return d}(t),i=n.constraint,h=function(t){if(void 0===t.enableRotation||t.enableRotation){const e=t.constrainRotation;return void 0===e||!0===e?(0,_.Gw)():!1===e?_.YP:"number"==typeof e?(0,_.gE)(e):_.YP}return _.h$}(t);this.constraints_={center:r,resolution:i,rotation:h},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const r=t||[0,0,0,0];e=e||[0,0,0,0];const i=this.getResolution(),o=i/2*(r[3]-e[3]+e[1]-r[1]),s=i/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let t=0;t<e.length;++t){let n=arguments[t];n.center&&(n=Object.assign({},n),n.center=(0,a.fromUserCoordinate)(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=(0,a.fromUserCoordinate)(n.anchor,this.getProjection())),e[t]=n}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const t=arguments[r];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(r===n)return void(e&&M(e,!0));let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,h=this.targetRotation_;const u=[];for(;r<n;++r){const t=arguments[r],n={start:o,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||b.rd,callback:e};if(t.center&&(n.sourceCenter=s,n.targetCenter=t.center.slice(),s=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=a,n.targetResolution=this.getResolutionForZoom(t.zoom),a=n.targetResolution):t.resolution&&(n.sourceResolution=a,n.targetResolution=t.resolution,a=n.targetResolution),void 0!==t.rotation){n.sourceRotation=h;const e=(0,c.$W)(t.rotation-h+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=h+e,h=n.targetRotation}E(n)?n.complete=!0:o+=n.duration,u.push(n)}this.animations_.push(u),this.setHint(i.Z.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[i.Z.ANIMATING]>0}getInteracting(){return this.hints_[i.Z.INTERACTING]>0}cancelAnimations(){let t;this.setHint(i.Z.ANIMATING,-this.hints_[i.Z.ANIMATING]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&M(n[0].callback,!1),!t)for(let e=0,r=n.length;e<r;++e){const r=n[e];if(!r.complete){t=r.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let o=!0;for(let n=0,i=r.length;n<i;++n){const i=r[n];if(i.complete)continue;const s=t-i.start;let a=i.duration>0?s/i.duration:1;a>=1?(i.complete=!0,a=1):o=!1;const h=i.easing(a);if(i.sourceCenter){const t=i.sourceCenter[0],e=i.sourceCenter[1],n=i.targetCenter[0],r=i.targetCenter[1];this.nextCenter_=i.targetCenter;const o=t+h*(n-t),s=e+h*(r-e);this.targetCenter_=[o,s]}if(i.sourceResolution&&i.targetResolution){const t=1===h?i.targetResolution:i.sourceResolution+h*(i.targetResolution-i.sourceResolution);if(i.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,i.anchor)}this.nextResolution_=i.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==i.sourceRotation&&void 0!==i.targetRotation){const t=1===h?(0,c.$W)(i.targetRotation+Math.PI,2*Math.PI)-Math.PI:i.sourceRotation+h*(i.targetRotation-i.sourceRotation);if(i.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,i.anchor)}this.nextRotation_=i.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!i.complete)break}if(o){this.animations_[n]=null,this.setHint(i.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=r[0].callback;t&&M(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],(0,u.U1)(n,t-this.getRotation()),(0,u.IH)(n,e)),n}calculateCenterZoom(t,e){let n;const r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,a.toUserCoordinate)(t,this.getProjection()):t}getCenterInternal(){return this.get(o.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,a.toUserExtent)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,l.h)(e,"The view center is not defined");const n=this.getResolution();(0,l.h)(void 0!==n,"The view resolution is not defined");const r=this.getRotation();return(0,l.h)(void 0!==r,"The view rotation is not defined"),(0,p.p8)(e,n,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(o.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=(0,p.dz)(t)/e[0],r=(0,p.Cr)(t)/e[1];return Math.max(n,r)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*r)}}getRotation(){return this.get(o.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const i=this.padding_;if(i){const t=this.getViewportSizeMinusPadding_();r=S(r,this.getViewportSize_(),[t[0]/2+i[3],t[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,r=this.minZoom_||0;if(this.resolutions_){const i=(0,g.h7)(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=(0,c.uZ)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,c.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if((0,l.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){(0,l.h)(!(0,p.xb)(t),"Cannot fit empty extent provided as `geometry`");const e=(0,a.fromUserExtent)(t,this.getProjection());n=(0,w.oJ)(e)}else if("Circle"===t.getType()){const e=(0,a.fromUserExtent)(t.getExtent(),this.getProjection());n=(0,w.oJ)(e),n.rotate(this.getRotation(),(0,p.qg)(e))}else{const e=(0,a.getUserProjection)();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride();let s=1/0,a=1/0,h=-1/0,u=-1/0;for(let t=0,e=i.length;t<e;t+=o){const e=i[t]*n-i[t+1]*r,o=i[t]*r+i[t+1]*n;s=Math.min(s,e),a=Math.min(a,o),h=Math.max(h,e),u=Math.max(u,o)}return[s,a,h,u]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const r=void 0!==e.padding?e.padding:[0,0,0,0],i=void 0!==e.nearest&&e.nearest;let o;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const s=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(s,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,i?0:1);const u=this.getRotation(),l=Math.sin(u),c=Math.cos(u),f=(0,p.qg)(s);f[0]+=(r[1]-r[3])/2*a,f[1]+=(r[0]-r[2])/2*a;const d=f[0]*c-f[1]*l,g=f[1]*c+f[0]*l,m=this.getConstrainedCenter([d,g],a),y=e.callback?e.callback:h.Zn;void 0!==e.duration?this.animateInternal({resolution:a,center:m,duration:e.duration,easing:e.easing},y):(this.targetResolution_=a,this.targetCenter_=m,this.applyTargetState_(!1,!0),M(y,!0))}centerOn(t,e,n){this.centerOnInternal((0,a.fromUserCoordinate)(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(S(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,r){let i;const o=this.padding_;if(o&&t){const s=this.getViewportSizeMinusPadding_(-n),a=S(t,r,[s[0]/2+o[3],s[1]/2+o[0]],e,n);i=[t[0]-a[0],t[1]-a[1]]}return i}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,a.fromUserCoordinate)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,a.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,a.fromUserCoordinate)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,s,i,n,this.calculateCenterShift(this.targetCenter_,s,r,i));this.get(o.ROTATION)!==r&&this.set(o.ROTATION,r),this.get(o.RESOLUTION)!==s&&(this.set(o.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),a&&this.get(o.CENTER)&&(0,u.fS)(this.get(o.CENTER),a)||this.set(o.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const r=e||0,i=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,i,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&(0,u.fS)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:a,resolution:s,duration:t,easing:b.Vv,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(i.Z.INTERACTING,1)}endInteraction(t,e,n){n=n&&(0,a.fromUserCoordinate)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(i.Z.INTERACTING,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function M(t,e){setTimeout((function(){t(e)}),0)}function E(t){return!(t.sourceCenter&&t.targetCenter&&!(0,u.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function S(t,e,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=t[0]*o-t[1]*s,h=t[1]*o+t[0]*s;return a+=(e[0]/2-n[0])*r,h+=(n[1]-e[1]/2)*r,s=-s,[a*o-h*s,h*o+a*s]}const C=x},37755:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={ANIMATING:0,INTERACTING:1}},65537:(t,e,n)=>{"use strict";function r(t,e,n){let r,o;n=n||i;let s=0,a=t.length,h=!1;for(;s<a;)r=s+(a-s>>1),o=+n(t[r],e),o<0?s=r+1:(a=r,h=!o);return h?s:~s}function i(t,e){return t>e?1:t<e?-1:0}function o(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){const r=t[i];if(r===e)return i;if(r<e)return n(e,t[i-1],r)>0?i-1:i}return r-1}if(n>0){for(let n=1;n<r;++n)if(t[n]<e)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(t[n]<=e)return n;return r-1}for(let n=1;n<r;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return r-1}function s(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function a(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let e=0;e<r;e++)t[t.length]=n[e]}function h(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function u(t,e,n){const r=e||i;return t.every((function(e,i){if(0===i)return!0;const o=r(t[i-1],e);return!(o>0||n&&0===o)}))}n.d(e,{FZ:()=>s,fS:()=>h,h7:()=>o,j2:()=>i,l7:()=>a,pT:()=>u,ry:()=>r})},99515:(t,e,n)=>{"use strict";function r(t,e){if(!t)throw new Error(e)}n.d(e,{h:()=>r})},49791:(t,e,n)=>{"use strict";n.d(e,{_2:()=>w,XC:()=>p,mL:()=>b,e1:()=>E,TF:()=>_,Fv:()=>x,WV:()=>v,BB:()=>M,fG:()=>y});const r={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var i={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};i.max=i.whitepoint[2].D65,i.rgb=function(t,e){e=e||i.whitepoint[2].E;var n,r,o,s=t[0]/e[0],a=t[1]/e[1],h=t[2]/e[2];return r=-.96924363628087*s+1.87596750150772*a+.041555057407175*h,o=.055630079696993*s+-.20397695888897*a+1.056971514242878*h,n=(n=3.240969941904521*s+-1.537383177570093*a+-.498610760293*h)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1)),255*(o=Math.min(Math.max(0,o),1))]},r.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,o=t[2]/255,s=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.072192315360733*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92),a=.019330818715591*n+.11919477979462*r+.95053215224966*o;return[(.41239079926595*n+.35758433938387*r+.18048078840183*o)*(e=e||i.whitepoint[2].E)[0],s*e[1],a*e[2]]};const o=i,s={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,a,h,u,l,c,f;return s=t[0],a=t[1],h=t[2],0===s?[0,0,0]:(e=e||"D65",n=n||2,r=a/(13*s)+4*(l=o.whitepoint[n][e][0])/(l+15*(c=o.whitepoint[n][e][1])+3*(f=o.whitepoint[n][e][2]))||0,i=h/(13*s)+9*c/(l+15*c+3*f)||0,[9*(u=s>8?c*Math.pow((s+16)/116,3):c*s*.0011070564598794539)*r/(4*i)||0,u,u*(12-3*r-20*i)/(4*i)||0])}};o.luv=function(t,e,n){var r,i,s,a,h,u,l,c,f,d,p;e=e||"D65",n=n||2,d=4*(l=o.whitepoint[n][e][0])/(l+15*(c=o.whitepoint[n][e][1])+3*(f=o.whitepoint[n][e][2])),p=9*c/(l+15*c+3*f),r=4*(a=t[0])/(a+15*(h=t[1])+3*(u=t[2]))||0,i=9*h/(a+15*h+3*u)||0;var g=h/c;return[s=g<=.008856451679035631?903.2962962962961*g:116*Math.pow(g,1/3)-16,13*s*(r-d),13*s*(i-p)]};var a={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},xyz:function(t){return s.xyz(a.luv(t))}};const h=a;s.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),o=360*Math.atan2(r,n)/2/Math.PI;return o<0&&(o+=360),[e,i,o]},o.lchuv=function(t){return s.lchuv(o.luv(t))};const u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l=function(t){var e,n,r=[],i=1;if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),u[t])r=u[t].slice(),n="rgb";else if("transparent"===t)i=0,n="rgb",r=[0,0,0];else if("#"===t[0]){var o=t.slice(1),s=o.length;i=1,s<=4?(r=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(i=parseInt(o[3]+o[3],16)/255)):(r=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(i=parseInt(o[6]+o[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1],h="cmyk"===(n=a.replace(/a$/,""))?4:"gray"===n?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=r.shift()),i=(r=r.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===n?255*t:"h"===n[0]?100*t:"l"!==n[0]||e?"lab"===n?125*t:"lch"===n?e<2?150*t:360*t:"o"!==n[0]||e?"oklab"===n?.4*t:"oklch"===n?e<2?.4*t:360*t:t:t:100*t;if("h"===n[e]||2===e&&"h"===n[n.length-1]){if(void 0!==c[t])return c[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)}))).length>h?r.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(r=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=t.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:r,alpha:i}};var c={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const f={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,r,i,o,s=t[0]/360,a=t[1]/100,h=t[2]/100,u=0;if(0===a)return[o=255*h,o,o];for(e=2*h-(n=h<.5?h*(1+a):h+a-h*a),i=[0,0,0];u<3;)(r=s+1/3*-(u-1))<0?r++:r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[u++]=255*o;return i}};r.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),h=a-s;return a===s?e=0:r===a?e=(i-o)/h:i===a?e=2+(o-r)/h:o===a&&(e=4+(r-i)/h),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?h/(a+s):h/(2-a-s)),100*n]};var d=n(33983);function p(t){return"string"==typeof t?t:M(t)}const g={};let m=0;function y(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function v(t){const e=o.lchuv(r.xyz(t));return e[3]=t[3],e}function _(t){const e=o.rgb(h.xyz(t));return e[3]=t[3],e}function b(t){if(g.hasOwnProperty(t))return g[t];if(m>=1024){let t=0;for(const e in g)0==(3&t++)&&(delete g[e],--m)}const e=function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=l(t);if(!n.space)return[];const i="h"===n.space[0]?f.min:r.min,o="h"===n.space[0]?f.max:r.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),o[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),o[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),o[2]),"h"===n.space[0]&&(e=f.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}(t);if(4!==e.length)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return x(e),g[t]=e,++m,e}function w(t){return Array.isArray(t)?t:b(t)}function x(t){return t[0]=(0,d.uZ)(t[0]+.5|0,0,255),t[1]=(0,d.uZ)(t[1]+.5|0,0,255),t[2]=(0,d.uZ)(t[2]+.5|0,0,255),t[3]=(0,d.uZ)(t[3],0,1),t}function M(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}function E(t){try{return b(t),!0}catch(t){return!1}}},96620:(t,e,n)=>{"use strict";n.d(e,{y:()=>h});var r=n(70553),i=n(68326),o=n(23713),s=n(92710),a=n(49791);function h(t){return t?Array.isArray(t)?(0,a.BB)(t):"object"==typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return s.c1.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=s.c1.getPattern(e,void 0,t.color);if(n)return n;const a=s.c1.get(t.src,"anonymous",null);if(a.getImageState()!==r.Z.LOADED)return null;const h=(0,i.E4)(t.size[0],t.size[1]);return h.drawImage(a.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),(0,o.U)(h.canvas,e,void 0,r.Z.LOADED,t.color,!0),s.c1.getPattern(e,void 0,t.color)}(t):t:null}},70044:(t,e,n)=>{"use strict";n.d(e,{ZK:()=>o});const r=2;let i=1;function o(...t){i>r||console.warn(...t)}},88775:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(72971),i=n(32126),o=n(36885),s=n(65818),a=n(68326);class h extends r.Z{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){(0,a.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&(0,a.ZF)(this.element);for(let t=0,e=this.listenerKeys.length;t<e;++t)(0,s.bN)(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.Zn&&this.listenerKeys.push((0,s.oL)(t,i.Z.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}const u=h},91900:(t,e,n)=>{"use strict";n.d(e,{Bs:()=>f,Cf:()=>d,Ed:()=>o,IH:()=>i,TE:()=>c,U1:()=>h,bA:()=>u,bI:()=>l,fS:()=>a,jk:()=>p,oL:()=>s});var r=n(28641);function i(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function o(t,e){const n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1];let s=t[0]-i;const a=t[1]-o;0===s&&0===a&&(s=1);const h=Math.sqrt(s*s+a*a);return[i+n*s/h,o+n*a/h]}function s(t,e){const n=t[0],r=t[1],i=e[0],o=e[1],s=i[0],a=i[1],h=o[0],u=o[1],l=h-s,c=u-a,f=0===l&&0===c?0:(l*(n-s)+c*(r-a))/(l*l+c*c||0);let d,p;return f<=0?(d=s,p=a):f>=1?(d=h,p=u):(d=s+f*l,p=a+f*c),[d,p]}function a(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function h(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function u(t,e){return t[0]*=e,t[1]*=e,t}function l(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function c(t,e){return Math.sqrt(l(t,e))}function f(t,e){return l(t,s(t,e))}function d(t,e){if(e.canWrapX()){const n=(0,r.dz)(e.getExtent()),i=p(t,e,n);i&&(t[0]-=i*n)}return t}function p(t,e,n){const i=e.getExtent();let o=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||(0,r.dz)(i),o=Math.floor((t[0]-i[0])/n)),o}},10245:(t,e,n)=>{"use strict";n.d(e,{XV:()=>i,hN:()=>s,hg:()=>o,oj:()=>r,p:()=>u});const r="ol-hidden",i="ol-unselectable",o="ol-control",s="ol-collapsed",a=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),h=["style","variant","weight","size","lineHeight","family"],u=function(t){const e=t.match(a);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,r=h.length;t<r;++t){const r=e[t+1];void 0!==r&&(n[h[t]]=r)}return n.families=n.family.split(/,\s?/),n}},68326:(t,e,n)=>{"use strict";n.d(e,{$H:()=>h,E4:()=>i,W8:()=>s,ZF:()=>u,ep:()=>l,hF:()=>c,jy:()=>a});var r=n(40177);function i(t,e,n,i){let o;return o=n&&n.length?n.shift():r.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",i)}let o;function s(){return o||(o=i(1,1)),o}function a(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function h(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function u(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function c(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}},31015:(t,e,n)=>{"use strict";function r(t){return Math.pow(t,3)}function i(t){return 1-r(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}n.d(e,{GE:()=>s,Vv:()=>i,YQ:()=>r,rd:()=>o})},65818:(t,e,n)=>{"use strict";n.d(e,{Vx:()=>o,bN:()=>s,oL:()=>i});var r=n(69374);function i(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function o(t,e,n,r){return i(t,e,n,r,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,r.Z)(t))}},291:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>r});const r=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},85487:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},208:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(55431),i=n(291),o=n(36885),s=n(69374);class a extends r.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);r.includes(e)||r.push(e)}dispatchEvent(t){const e="string"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const s=e?new i.ZP(t):t;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});let u;n in a||(a[n]=0,h[n]=0),++a[n];for(let t=0,e=r.length;t<e;++t)if(u="handleEvent"in r[t]?r[t].handleEvent(s):r[t].call(this,s),!1===u||s.propagationStopped){u=!1;break}if(0==--a[n]){let t=h[n];for(delete h[n];t--;)this.removeEventListener(n,o.Zn);delete a[n]}return u}disposeInternal(){this.listeners_&&(0,s.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=o.Zn,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}}const h=a},28641:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>G,Cr:()=>O,EO:()=>F,Ed:()=>k,GN:()=>m,H6:()=>x,HK:()=>g,I7:()=>j,MV:()=>q,Ne:()=>B,T9:()=>d,Wj:()=>_,Xv:()=>L,YN:()=>p,b8:()=>h,bg:()=>M,d9:()=>s,dY:()=>P,dz:()=>T,f3:()=>o,fS:()=>y,g0:()=>I,hC:()=>E,hI:()=>i,jE:()=>l,kK:()=>N,l7:()=>v,lJ:()=>f,p8:()=>A,pX:()=>c,qP:()=>b,qf:()=>a,qg:()=>C,r4:()=>u,rL:()=>R,w$:()=>S,xb:()=>D});var r=n(28716);function i(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,r=t.length;n<r;++n)_(e,t[n]);return e}function o(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function a(t,e,n){let r,i;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+i*i}function h(t,e){return l(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function l(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function c(t,e){const n=t[0],i=t[1],o=t[2],s=t[3],a=e[0],h=e[1];let u=r.Z.UNKNOWN;return a<n?u|=r.Z.LEFT:a>o&&(u|=r.Z.RIGHT),h<i?u|=r.Z.BELOW:h>s&&(u|=r.Z.ABOVE),u===r.Z.UNKNOWN&&(u=r.Z.INTERSECTING),u}function f(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function p(t){return d(1/0,1/0,-1/0,-1/0,t)}function g(t,e){const n=t[0],r=t[1];return d(n,r,n,r,e)}function m(t,e,n,r,i){return b(p(i),t,e,n,r)}function y(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function v(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function _(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function b(t,e,n,r,i){for(;n<r;n+=i)w(t,e[n],e[n+1]);return t}function w(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function x(t,e){let n;return n=e(E(t)),n||(n=e(S(t)),n||(n=e(L(t)),n||(n=e(R(t)),n||!1)))}function M(t){let e=0;return D(t)||(e=T(t)*O(t)),e}function E(t){return[t[0],t[1]]}function S(t){return[t[2],t[1]]}function C(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function I(t,e){let n;if("bottom-left"===e)n=E(t);else if("bottom-right"===e)n=S(t);else if("top-left"===e)n=R(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=L(t)}return n}function A(t,e,n,r,i){const[o,s,a,h,u,l,c,f]=P(t,e,n,r);return d(Math.min(o,a,u,c),Math.min(s,h,l,f),Math.max(o,a,u,c),Math.max(s,h,l,f),i)}function P(t,e,n,r){const i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(n),a=Math.sin(n),h=i*s,u=i*a,l=o*s,c=o*a,f=t[0],d=t[1];return[f-h+c,d-u-l,f-h-c,d-u+l,f+h-c,d+u+l,f+h+c,d+u-l,f-h+c,d-u-l]}function O(t){return t[3]-t[1]}function k(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return N(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):p(r),r}function R(t){return[t[0],t[3]]}function L(t){return[t[2],t[3]]}function T(t){return t[2]-t[0]}function N(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function D(t){return t[2]<t[0]||t[3]<t[1]}function F(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function j(t,e,n){let i=!1;const o=c(t,e),s=c(t,n);if(o===r.Z.INTERSECTING||s===r.Z.INTERSECTING)i=!0;else{const a=t[0],h=t[1],u=t[2],l=t[3],c=e[0],f=e[1],d=n[0],p=n[1],g=(p-f)/(d-c);let m,y;s&r.Z.ABOVE&&!(o&r.Z.ABOVE)&&(m=d-(p-l)/g,i=m>=a&&m<=u),i||!(s&r.Z.RIGHT)||o&r.Z.RIGHT||(y=p-(d-u)*g,i=y>=h&&y<=l),i||!(s&r.Z.BELOW)||o&r.Z.BELOW||(m=d-(p-h)/g,i=m>=a&&m<=u),i||!(s&r.Z.LEFT)||o&r.Z.LEFT||(y=p-(d-a)*g,i=y>=h&&y<=l)}return i}function B(t,e,n,r){if(D(t))return p(n);let i=[];if(r>1){const e=t[2]-t[0],n=t[3]-t[1];for(let o=0;o<r;++o)i.push(t[0]+e*o/r,t[1],t[2],t[1]+n*o/r,t[2]-e*o/r,t[3],t[0],t[3]-n*o/r)}else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);const o=[],s=[];for(let t=0,e=i.length;t<e;t+=2)o.push(i[t]),s.push(i[t+1]);return function(t,e,n){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(o,s,n)}function G(t,e){const n=e.getExtent(),r=C(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const e=T(n),i=Math.floor((r[0]-n[0])/e)*e;t[0]-=i,t[2]-=i}return t}function q(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];G(t,e);const r=T(n);if(T(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}},28716:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},36885:(t,e,n)=>{"use strict";n.d(e,{Dv:()=>o,Zn:()=>s,qe:()=>a,uX:()=>i});var r=n(65537);function i(){return!0}function o(){return!1}function s(){}function a(t){let e,n,i,o=!1;return function(){const s=Array.prototype.slice.call(arguments);return o&&this===i&&(0,r.fS)(s,n)||(o=!0,i=this,n=s,e=t.apply(this,arguments)),e}}},71694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(72971),i=n(74187),o=n(6101),s=n(28641),a=n(35798),h=n(36885),u=n(76442);const l=(0,o.Ue)();class c extends r.Z{constructor(){super(),this.extent_=(0,s.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,h.qe)(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,i.O3)()}closestPointXY(t,e,n,r){return(0,i.O3)()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,i.O3)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,s.YN)(t),this.extentRevision_=this.getRevision()}return(0,s.EO)(this.extent_,t)}rotate(t,e){(0,i.O3)()}scale(t,e,n){(0,i.O3)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,i.O3)()}getType(){return(0,i.O3)()}applyTransform(t){(0,i.O3)()}intersectsExtent(t){return(0,i.O3)()}translate(t,e){(0,i.O3)()}transform(t,e){const n=(0,a.get)(t),r="tile-pixels"==n.getUnits()?function(t,r,i){const h=n.getExtent(),c=n.getWorldExtent(),f=(0,s.Cr)(c)/(0,s.Cr)(h);return(0,o.qC)(l,c[0],c[3],f,-f,0,0,0),(0,u.vT)(t,0,t.length,i,l,r),(0,a.getTransform)(n,e)(t,r,i)}:(0,a.getTransform)(n,e);return this.applyTransform(r),this}}const f=c},60188:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(72967),i=n(28641),o=n(18527),s=n(33983);class a extends r.ZP{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new a(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){const i=this.flatCoordinates,o=(0,s.bI)(t,e,i[0],i[1]);if(o<r){const t=this.stride;for(let e=0;e<t;++e)n[e]=i[e];return n.length=t,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return(0,i.HK)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,i.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o.IG)(this.flatCoordinates,0,t,this.stride),this.changed()}}const h=a},93083:(t,e,n)=>{"use strict";n.d(e,{iu:()=>x,ZP:()=>w,Bb:()=>E,oJ:()=>M});var r=n(72967),i=n(53042),o=n(28641),s=n(18527),a=n(80226),h=n(89241),u=n(14078);class l extends r.ZP{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new l(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,r){return r<(0,o.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,i.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,i.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))}getArea(){return(0,u.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,h.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,a.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new l(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()}}const c=l;var f=n(60188),d=n(65537),p=n(73448),g=n(63746),m=n(30974),y=n(79679),v=n(33983),_=n(97580);class b extends r.ZP{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,d.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new b(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,r){return r<(0,o.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,i.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,i.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))}containsXY(t,e){return(0,y.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return(0,u.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,m.zX)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,h.o1)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,o.qg)(this.getExtent());this.flatInteriorPoint_=(0,p.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new f.default(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new c(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new c(e.slice(i,s),t);r.push(a),i=s}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,m.$v)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,m.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,a.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new b(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return(0,g.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,s._5)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const w=b;function x(t,e,n,r){n=n||32;const i=[];for(let o=0;o<n;++o)(0,d.l7)(i,(0,_.cv)(t,e,2*Math.PI*o/n,r));return i.push(i[0],i[1]),new b(i,"XY",[i.length])}function M(t){if((0,o.xb)(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new b(s,"XY",[s.length])}function E(t,e,n){e=e||32;const r=t.getStride(),i=t.getLayout(),o=t.getCenter(),s=r*(e+1),a=new Array(s);for(let t=0;t<s;t+=r){a[t]=0,a[t+1]=0;for(let e=2;e<r;e++)a[t+e]=o[e]}const h=[a.length],u=new b(a,i,h);return function(t,e,n,r){const i=t.getFlatCoordinates(),o=t.getStride(),s=i.length/o-1,a=r||0;for(let t=0;t<=s;++t){const r=t*o,h=a+2*(0,v.$W)(t,s)*Math.PI/s;i[r]=e[0]+n*Math.cos(h),i[r+1]=e[1]+n*Math.sin(h)}t.changed()}(u,o,t.getRadius(),n),u}},72967:(t,e,n)=>{"use strict";n.d(e,{Kr:()=>l,Ss:()=>h,ZP:()=>c});var r=n(71694),i=n(74187),o=n(28641),s=n(76442);class a extends r.Z{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return(0,o.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,i.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=u(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,i.O3)()}setLayout(t,e,n){let r;if(t)r=u(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}r=e.length,t=h(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const r=this.getStride();(0,s.U1)(n,0,n.length,r,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=(0,o.qg)(this.getExtent()));const r=this.getFlatCoordinates();if(r){const i=this.getStride();(0,s.bA)(r,0,r.length,i,t,e,n,r),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const r=this.getStride();(0,s.Iu)(n,0,n.length,r,t,e,n),this.changed()}}}function h(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function u(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function l(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return(0,s.vT)(r,0,r.length,i,e,n)}const c=a},14078:(t,e,n)=>{"use strict";function r(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];i+=s*n-o*r,o=n,s=r}return i/2}function i(t,e,n,i){let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];o+=r(t,e,a,i),e=a}return o}function o(t,e,n,r){let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];o+=i(t,e,a,r),e=a[a.length-1]}return o}n.d(e,{Eu:()=>o,KP:()=>i,QQ:()=>r})},41071:(t,e,n)=>{"use strict";n.d(e,{E:()=>i});var r=n(28641);function i(t,e,n,i){const o=[];let s=(0,r.lJ)();for(let a=0,h=n.length;a<h;++a){const h=n[a];s=(0,r.GN)(t,e,h[0],i),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=h[h.length-1]}return o}},53042:(t,e,n)=>{"use strict";n.d(e,{Af:()=>s,Bv:()=>o,H$:()=>h,Xl:()=>u,gI:()=>l,sD:()=>a});var r=n(33983);function i(t,e,n,i,o,s,a){const h=t[e],u=t[e+1],l=t[n]-h,c=t[n+1]-u;let f;if(0===l&&0===c)f=e;else{const d=((o-h)*l+(s-u)*c)/(l*l+c*c);if(d>1)f=n;else{if(d>0){for(let o=0;o<i;++o)a[o]=(0,r.t7)(t[e+o],t[n+o],d);return void(a.length=i)}f=e}}for(let e=0;e<i;++e)a[e]=t[f+e];a.length=i}function o(t,e,n,i,o){let s=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],h=(0,r.bI)(s,a,n,i);h>o&&(o=h),s=n,a=i}return o}function s(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const a=n[s];i=o(t,e,a,r,i),e=a}return i}function a(t,e,n,r,i){for(let o=0,a=n.length;o<a;++o){const a=n[o];i=s(t,e,a,r,i),e=a[a.length-1]}return i}function h(t,e,n,o,s,a,h,u,l,c,f){if(e==n)return c;let d,p;if(0===s){if(p=(0,r.bI)(h,u,t[e],t[e+1]),p<c){for(d=0;d<o;++d)l[d]=t[e+d];return l.length=o,p}return c}f=f||[NaN,NaN];let g=e+o;for(;g<n;)if(i(t,g-o,g,o,h,u,f),p=(0,r.bI)(h,u,f[0],f[1]),p<c){for(c=p,d=0;d<o;++d)l[d]=f[d];l.length=o,g+=o}else g+=o*Math.max((Math.sqrt(p)-Math.sqrt(c))/s|0,1);if(a&&(i(t,n-o,e,o,h,u,f),p=(0,r.bI)(h,u,f[0],f[1]),p<c)){for(c=p,d=0;d<o;++d)l[d]=f[d];l.length=o}return c}function u(t,e,n,r,i,o,s,a,u,l,c){c=c||[NaN,NaN];for(let f=0,d=n.length;f<d;++f){const d=n[f];l=h(t,e,d,r,i,o,s,a,u,l,c),e=d}return l}function l(t,e,n,r,i,o,s,a,h,l,c){c=c||[NaN,NaN];for(let f=0,d=n.length;f<d;++f){const d=n[f];l=u(t,e,d,r,i,o,s,a,h,l,c),e=d[d.length-1]}return l}},79679:(t,e,n)=>{"use strict";n.d(e,{TG:()=>o,Zl:()=>a,uG:()=>i,wY:()=>s});var r=n(28641);function i(t,e,n,i,s){return!(0,r.H6)(s,(function(r){return!o(t,e,n,i,r[0],r[1])}))}function o(t,e,n,r,i,o){let s=0,a=t[n-r],h=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];h<=o?r>o&&(n-a)*(o-h)-(i-a)*(r-h)>0&&s++:r<=o&&(n-a)*(o-h)-(i-a)*(r-h)<0&&s--,a=n,h=r}return 0!==s}function s(t,e,n,r,i,s){if(0===n.length)return!1;if(!o(t,e,n[0],r,i,s))return!1;for(let e=1,a=n.length;e<a;++e)if(o(t,n[e-1],n[e],r,i,s))return!1;return!0}function a(t,e,n,r,i,o){if(0===n.length)return!1;for(let a=0,h=n.length;a<h;++a){const h=n[a];if(s(t,e,h,r,i,o))return!0;e=h[h.length-1]}return!1}},18527:(t,e,n)=>{"use strict";function r(t,e,n,r){for(let r=0,i=n.length;r<i;++r)t[e++]=n[r];return e}function i(t,e,n,r){for(let i=0,o=n.length;i<o;++i){const o=n[i];for(let n=0;n<r;++n)t[e++]=o[n]}return e}function o(t,e,n,r,o){o=o||[];let s=0;for(let a=0,h=n.length;a<h;++a){const h=i(t,e,n[a],r);o[s++]=h,e=h}return o.length=s,o}function s(t,e,n,r,i){i=i||[];let s=0;for(let a=0,h=n.length;a<h;++a){const h=o(t,e,n[a],r,i[s]);0===h.length&&(h[0]=e),i[s++]=h,e=h[h.length-1]}return i.length=s,i}n.d(e,{IG:()=>r,QT:()=>s,Sg:()=>i,_5:()=>o})},89241:(t,e,n)=>{"use strict";function r(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=e;s<n;s+=r)i[o++]=t.slice(s,s+r);return i.length=o,i}function i(t,e,n,i,o){o=void 0!==o?o:[];let s=0;for(let a=0,h=n.length;a<h;++a){const h=n[a];o[s++]=r(t,e,h,i,o[s]),e=h}return o.length=s,o}function o(t,e,n,r,o){o=void 0!==o?o:[];let s=0;for(let a=0,h=n.length;a<h;++a){const h=n[a];o[s++]=1===h.length&&h[0]===e?[]:i(t,e,h,r,o[s]),e=h[h.length-1]}return o.length=s,o}n.d(e,{Ml:()=>r,o1:()=>i,ug:()=>o})},73448:(t,e,n)=>{"use strict";n.d(e,{U:()=>s,X:()=>o});var r=n(65537),i=n(79679);function o(t,e,n,o,s,a,h){let u,l,c,f,d,p,g;const m=s[a+1],y=[];for(let r=0,i=n.length;r<i;++r){const i=n[r];for(f=t[i-o],p=t[i-o+1],u=e;u<i;u+=o)d=t[u],g=t[u+1],(m<=p&&g<=m||p<=m&&m<=g)&&(c=(m-p)/(g-p)*(d-f)+f,y.push(c)),f=d,p=g}let v=NaN,_=-1/0;for(y.sort(r.j2),f=y[0],u=1,l=y.length;u<l;++u){d=y[u];const r=Math.abs(d-f);r>_&&(c=(f+d)/2,(0,i.wY)(t,e,n,o,c,m)&&(v=c,_=r)),f=d}return isNaN(v)&&(v=s[a]),h?(h.push(v,m,_),h):[v,m,_]}function s(t,e,n,r,i){let s=[];for(let a=0,h=n.length;a<h;++a){const h=n[a];s=o(t,e,h,r,i,2*a,s),e=h[h.length-1]}return s}},49405:(t,e,n)=>{"use strict";n.d(e,{WW:()=>o,dG:()=>a,iJ:()=>s});var r=n(65537),i=n(33983);function o(t,e,n,o,s,a,h){let u,l;const c=(n-e)/o;if(1===c)u=e;else if(2===c)u=e,l=s;else if(0!==c){let i=t[e],a=t[e+1],h=0;const c=[0];for(let r=e+o;r<n;r+=o){const e=t[r],n=t[r+1];h+=Math.sqrt((e-i)*(e-i)+(n-a)*(n-a)),c.push(h),i=e,a=n}const f=s*h,d=(0,r.ry)(c,f);d<0?(l=(f-c[-d-2])/(c[-d-1]-c[-d-2]),u=e+(-d-2)*o):u=e+d*o}h=h>1?h:2,a=a||new Array(h);for(let e=0;e<h;++e)a[e]=void 0===u?NaN:void 0===l?t[u+e]:(0,i.t7)(t[u+e],t[u+o+e],l);return a}function s(t,e,n,r,o,s){if(n==e)return null;let a;if(o<t[e+r-1])return s?(a=t.slice(e,e+r),a[r-1]=o,a):null;if(t[n-1]<o)return s?(a=t.slice(n-r,n),a[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);let h=e/r,u=n/r;for(;h<u;){const e=h+u>>1;o<t[(e+1)*r-1]?u=e:h=e+1}const l=t[h*r-1];if(o==l)return t.slice((h-1)*r,(h-1)*r+r);const c=(o-l)/(t[(h+1)*r-1]-l);a=[];for(let e=0;e<r-1;++e)a.push((0,i.t7)(t[(h-1)*r+e],t[h*r+e],c));return a.push(o),a}function a(t,e,n,r,i,o,a){if(a)return s(t,e,n[n.length-1],r,i,o);let h;if(i<t[r-1])return o?(h=t.slice(0,r),h[r-1]=i,h):null;if(t[t.length-1]<i)return o?(h=t.slice(t.length-r),h[r-1]=i,h):null;for(let o=0,a=n.length;o<a;++o){const a=n[o];if(e!=a){if(i<t[e+r-1])return null;if(i<=t[a-1])return s(t,e,a,r,i,!1);e=a}}return null}},63746:(t,e,n)=>{"use strict";n.d(e,{AW:()=>a,Kz:()=>s,ac:()=>u,mV:()=>h,oW:()=>l});var r=n(28641),i=n(93032),o=n(79679);function s(t,e,n,o,s){const a=(0,r.qP)((0,r.lJ)(),t,e,n,o);return!!(0,r.kK)(s,a)&&(!!(0,r.r4)(s,a)||a[0]>=s[0]&&a[2]<=s[2]||a[1]>=s[1]&&a[3]<=s[3]||(0,i.E)(t,e,n,o,(function(t,e){return(0,r.I7)(s,t,e)})))}function a(t,e,n,r,i){for(let o=0,a=n.length;o<a;++o){if(s(t,e,n[o],r,i))return!0;e=n[o]}return!1}function h(t,e,n,r,i){return!!(s(t,e,n,r,i)||(0,o.TG)(t,e,n,r,i[0],i[1])||(0,o.TG)(t,e,n,r,i[0],i[3])||(0,o.TG)(t,e,n,r,i[2],i[1])||(0,o.TG)(t,e,n,r,i[2],i[3]))}function u(t,e,n,r,i){if(!h(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(let e=1,a=n.length;e<a;++e)if((0,o.uG)(t,n[e-1],n[e],r,i)&&!s(t,n[e-1],n[e],r,i))return!1;return!0}function l(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(u(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}},27374:(t,e,n)=>{"use strict";function r(t,e,n,r){let i=t[e],o=t[e+1],s=0;for(let a=e+r;a<n;a+=r){const e=t[a],n=t[a+1];s+=Math.sqrt((e-i)*(e-i)+(n-o)*(n-o)),i=e,o=n}return s}n.d(e,{W:()=>r})},30974:(t,e,n)=>{"use strict";function r(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function i(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];i+=(n-o)*(r+s),o=n,s=r}return 0===i?void 0:i>0}function o(t,e,n,r,o){o=void 0!==o&&o;for(let s=0,a=n.length;s<a;++s){const a=n[s],h=i(t,e,a,r);if(0===s){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;e=a}return!0}function s(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const a=n[s];if(!o(t,e,a,r,i))return!1;a.length&&(e=a[a.length-1])}return!0}function a(t,e,n,o,s){s=void 0!==s&&s;for(let a=0,h=n.length;a<h;++a){const h=n[a],u=i(t,e,h,o);(0===a?s&&u||!s&&!u:s&&!u||!s&&u)&&r(t,e,h,o),e=h}return e}function h(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o)e=a(t,e,n[o],r,i);return e}function u(t,e){const n=[];let r,o=0,s=0;for(let a=0,h=e.length;a<h;++a){const h=e[a],u=i(t,o,h,2);if(void 0===r&&(r=u),u===r)n.push(e.slice(s,a+1));else{if(0===n.length)continue;n[n.length-1].push(e[s])}s=a+1,o=h}return n}n.d(e,{Q3:()=>u,$v:()=>o,Oj:()=>s,zX:()=>a,dL:()=>h})},93032:(t,e,n)=>{"use strict";function r(t,e,n,r,i){let o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)),o)return o;return!1}n.d(e,{E:()=>r})},80226:(t,e,n)=>{"use strict";n.d(e,{Pp:()=>u,UJ:()=>o,Zh:()=>h,dt:()=>i,uZ:()=>s});var r=n(33983);function i(t,e,n,i,o,s,a){const h=(n-e)/i;if(h<3){for(;e<n;e+=i)s[a++]=t[e],s[a++]=t[e+1];return a}const u=new Array(h);u[0]=1,u[h-1]=1;const l=[e,n-i];let c=0;for(;l.length>0;){const n=l.pop(),s=l.pop();let a=0;const h=t[s],f=t[s+1],d=t[n],p=t[n+1];for(let e=s+i;e<n;e+=i){const n=t[e],i=t[e+1],o=(0,r.rU)(n,i,h,f,d,p);o>a&&(c=e,a=o)}a>o&&(u[(c-e)/i]=1,s+i<c&&l.push(s,c),c+i<n&&l.push(c,n))}for(let n=0;n<h;++n)u[n]&&(s[a++]=t[e+n*i],s[a++]=t[e+n*i+1]);return a}function o(t,e,n,r,o,s,a,h){for(let u=0,l=n.length;u<l;++u){const l=n[u];a=i(t,e,l,r,o,s,a),h.push(a),e=l}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,n,r,i,o,a){if(e==n)return a;let h,u,l=s(t[e],i),c=s(t[e+1],i);e+=r,o[a++]=l,o[a++]=c;do{if(h=s(t[e],i),u=s(t[e+1],i),(e+=r)==n)return o[a++]=h,o[a++]=u,a}while(h==l&&u==c);for(;e<n;){const n=s(t[e],i),f=s(t[e+1],i);if(e+=r,n==h&&f==u)continue;const d=h-l,p=u-c,g=n-l,m=f-c;d*m==p*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(p<0&&m<p||p==m||p>0&&m>p)?(h=n,u=f):(o[a++]=h,o[a++]=u,l=h,c=u,h=n,u=f)}return o[a++]=h,o[a++]=u,a}function h(t,e,n,r,i,o,s,h){for(let u=0,l=n.length;u<l;++u){const l=n[u];s=a(t,e,l,r,i,o,s),h.push(s),e=l}return s}function u(t,e,n,r,i,o,s,a){for(let u=0,l=n.length;u<l;++u){const l=n[u],c=[];s=h(t,e,l,r,i,o,s,c),a.push(c),e=l[l.length-1]}return s}},76442:(t,e,n)=>{"use strict";function r(t,e,n,r,i,o){o=o||[];let s=0;for(let a=e;a<n;a+=r){const e=t[a],n=t[a+1];o[s++]=i[0]*e+i[2]*n+i[4],o[s++]=i[1]*e+i[3]*n+i[5]}return o&&o.length!=s&&(o.length=s),o}function i(t,e,n,r,i,o,s){s=s||[];const a=Math.cos(i),h=Math.sin(i),u=o[0],l=o[1];let c=0;for(let i=e;i<n;i+=r){const e=t[i]-u,n=t[i+1]-l;s[c++]=u+e*a-n*h,s[c++]=l+e*h+n*a;for(let e=i+2;e<i+r;++e)s[c++]=t[e]}return s&&s.length!=c&&(s.length=c),s}function o(t,e,n,r,i,o,s,a){a=a||[];const h=s[0],u=s[1];let l=0;for(let s=e;s<n;s+=r){const e=t[s]-h,n=t[s+1]-u;a[l++]=h+i*e,a[l++]=u+o*n;for(let e=s+2;e<s+r;++e)a[l++]=t[e]}return a&&a.length!=l&&(a.length=l),a}function s(t,e,n,r,i,o,s){s=s||[];let a=0;for(let h=e;h<n;h+=r){s[a++]=t[h]+i,s[a++]=t[h+1]+o;for(let e=h+2;e<h+r;++e)s[a++]=t[e]}return s&&s.length!=a&&(s.length=a),s}n.d(e,{Iu:()=>s,U1:()=>i,bA:()=>o,vT:()=>r})},40177:(t,e,n)=>{"use strict";n.d(e,{G$:()=>o,Id:()=>h,MP:()=>a,Tp:()=>u,V:()=>i,bM:()=>l,tK:()=>s});const r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i=r.includes("firefox"),o=(r.includes("safari")&&!r.includes("chrom")&&(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")&&!r.includes("edge")),s=r.includes("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,h="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!=typeof Image&&Image.prototype.decode,l=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},947:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(72971),i=n(71912),o=n(74187),s=n(99515),a=n(33983);class h extends r.Z{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[i.Z.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,s.h)("number"==typeof e[i.Z.OPACITY],"Layer opacity must be a number"),e[i.Z.VISIBLE]=void 0===t.visible||t.visible,e[i.Z.Z_INDEX]=t.zIndex,e[i.Z.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[i.Z.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[i.Z.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[i.Z.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,o.O3)()}getLayerStatesArray(t){return(0,o.O3)()}getExtent(){return this.get(i.Z.EXTENT)}getMaxResolution(){return this.get(i.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(i.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(i.Z.MIN_ZOOM)}getMaxZoom(){return this.get(i.Z.MAX_ZOOM)}getOpacity(){return this.get(i.Z.OPACITY)}getSourceState(){return(0,o.O3)()}getVisible(){return this.get(i.Z.VISIBLE)}getZIndex(){return this.get(i.Z.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(i.Z.EXTENT,t)}setMaxResolution(t){this.set(i.Z.MAX_RESOLUTION,t)}setMinResolution(t){this.set(i.Z.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(i.Z.MAX_ZOOM,t)}setMinZoom(t){this.set(i.Z.MIN_ZOOM,t)}setOpacity(t){(0,s.h)("number"==typeof t,"Layer opacity must be a number"),this.set(i.Z.OPACITY,t)}setVisible(t){this.set(i.Z.VISIBLE,t)}setZIndex(t){this.set(i.Z.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const u=h},26202:(t,e,n)=>{"use strict";n.d(e,{Z:()=>zt});var r=n(1295),i=n(82582),o=n(47539),s=n(30283),a=n(51345),h=n(2370),u=n(35393),l=n(58958),c=n(4307);class f{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,c.Pq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new a.Z({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new f({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,c.Pq)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const d=f;var p=n(65537),g=n(49791);let m=0;const y=1<<m++,v=1<<m++,_=1<<m++,b=1<<m++,w=1<<m++,x=Math.pow(2,5)-1,M={[y]:"boolean",[v]:"number",[_]:"string",[b]:"color",[w]:"number[]"},E=Object.keys(M).map(Number).sort(p.j2);function S(t){const e=[];for(const r of E)(t&(n=r))===n&&e.push(M[r]);var n;return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function C(t,e){return!!(t&e)}function I(t,e){return t===e}class A{constructor(t,e){this.type=t,this.value=e}}class P{constructor(t,e,...n){this.type=t,this.operator=e,this.args=n}}function O(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function k(t,e,n){switch(typeof t){case"boolean":return new A(y,t);case"number":return new A(v,t);case"string":{let e=_;return(0,g.e1)(t)&&(e|=b),I(e&n,0)||(e&=n),new A(e,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(0===t.length)throw new Error("Empty expression");if("string"==typeof t[0])return function(t,e,n){const r=t[0],i=it[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(t,e,n)}(t,e,n);for(const e of t)if("number"!=typeof e)throw new Error("Expected an array of numbers");let r=w;return 3!==t.length&&4!==t.length||(r|=b),n&&(r&=n),new A(r,t)}const R="get",L="var",T="concat",N="geometry-type",D="any",F="all",j="resolution",B="==",G="!=",q=">=",U="<=",z="clamp",Z="abs",V="floor",X="ceil",W="round",Y="sin",H="cos",$="atan",K="sqrt",J="match",Q="interpolate",tt="coalesce",et="case",nt="number",rt="string",it={[R]:lt((([t,e])=>void 0!==e?function(t){switch(t){case"string":return _;case"color":return b;case"number":return v;case"boolean":return y;case"number[]":return w;default:throw new Error(`Unrecognized type hint: ${t}`)}}(e.value):x),st(1,2),(function(t,e){const n=k(t[1],e);if(!(n instanceof A))throw new Error("Expected a literal argument for get operation");if("string"!=typeof n.value)throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),3===t.length){return[n,k(t[2],e)]}return[n]})),[L]:lt((([t])=>t.type),st(1,1),(function(t,e,n,r){const i=t[1];if("string"!=typeof i)throw new Error("Expected a string argument for var operation");if(e.variables.add(i),!("variables"in e.style)||void 0===e.style.variables[i])return[new A(x,i)];const o=k(e.style.variables[i],e);if(o.value=i,r&&!C(r,o.type))throw new Error(`The variable ${i} has type ${S(o.type)} but the following type was expected: ${S(r)}`);return[o]})),id:lt(v|_,ot,(function(t,e){e.featureId=!0})),[T]:lt(_,st(2,1/0),at(x)),[N]:lt(_,ot,(function(t,e){e.geometryType=!0})),[j]:lt(v,ot),zoom:lt(v,ot),time:lt(v,ot),[D]:lt(y,st(2,1/0),at(y)),[F]:lt(y,st(2,1/0),at(y)),"!":lt(y,st(1,1),at(y)),[B]:lt(y,st(2,2),at(x),ht),[G]:lt(y,st(2,2),at(x),ht),">":lt(y,st(2,2),at(x),ht),[q]:lt(y,st(2,2),at(x),ht),"<":lt(y,st(2,2),at(x),ht),[U]:lt(y,st(2,2),at(x),ht),"*":lt((t=>{let e=v|b;for(let n=0;n<t.length;n++)e&=t[n].type;return e}),st(2,1/0),at(v|b),ht),[tt]:lt((t=>{let e=x;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),st(2,1/0),at(x),ht),"/":lt(v,st(2,2),at(v)),"+":lt(v,st(2,1/0),at(v)),"-":lt(v,st(2,2),at(v)),[z]:lt(v,st(3,3),at(v)),"%":lt(v,st(2,2),at(v)),"^":lt(v,st(2,2),at(v)),[Z]:lt(v,st(1,1),at(v)),[V]:lt(v,st(1,1),at(v)),[X]:lt(v,st(1,1),at(v)),[W]:lt(v,st(1,1),at(v)),[Y]:lt(v,st(1,1),at(v)),[H]:lt(v,st(1,1),at(v)),[$]:lt(v,st(1,2),at(v)),[K]:lt(v,st(1,1),at(v)),[J]:lt((t=>{let e=x;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),st(4,1/0),ut,(function(t,e,n,r){const i=t.length-1;let o=k(t[1],e).type;const s=k(t[t.length-1],e);let a=void 0!==r?r&s.type:s.type;const h=new Array(i-2);for(let n=0;n<i-2;n+=2){const r=k(t[n+2],e),i=k(t[n+3],e);o&=r.type,a&=i.type,h[n]=r,h[n+1]=i}const u=_|v|y;if(!C(u,o))throw new Error(`Expected an input of type ${S(u)} for the interpolate operation, got ${S(o)} instead`);if(I(a,0))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let n=0;n<i-2;n+=2){const r=k(t[n+2],e,o),i=k(t[n+3],e,a);h[n]=r,h[n+1]=i}return[k(t[1],e,o),...h,k(t[t.length-1],e,a)]})),between:lt(y,st(3,3),at(v)),[Q]:lt((t=>{let e=b|v;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e}),st(6,1/0),ut,(function(t,e,n,r){const i=t[1];let o;switch(i[0]){case"linear":o=1;break;case"exponential":if(o=i[1],"number"!=typeof o)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(o)} instead`);break;default:o=null}if(!o)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);o=k(o,e);let s=k(t[2],e);if(!C(v,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${S(s.type)} instead`);s=k(t[2],e,v);const a=new Array(t.length-3);for(let n=0;n<a.length;n+=2){let r=k(t[n+3],e);if(!C(v,r.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${S(r.type)} at position ${n+2} instead`);let i=k(t[n+4],e);if(!C(v|b,i.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${S(i.type)} at position ${n+3} instead`);r=k(t[n+3],e,v),i=k(t[n+4],e,v|b),a[n]=r,a[n+1]=i}return[o,s,...a]})),[et]:lt((t=>{let e=x;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),st(3,1/0),(function(t,e){const n=t[0],r=t.length-1;if(r%2==0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}),(function(t,e,n,r){const i=k(t[t.length-1],e);let o=void 0!==r?r&i.type:i.type;const s=new Array(t.length-1);for(let n=0;n<s.length-1;n+=2){const r=k(t[n+1],e),i=k(t[n+2],e);if(!C(y,r.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${S(r.type)} at position ${n} instead`);o&=i.type,s[n]=r,s[n+1]=i}if(I(o,0))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let n=0;n<s.length-1;n+=2)s[n+1]=k(t[n+2],e,o);return s[s.length-1]=k(t[t.length-1],e,o),s})),in:lt(y,st(2,2),(function(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=_|v;const i=new Array(n.length);for(let t=0;t<i.length;t++){const o=k(n[t],e);r&=o.type,i[t]=o}if(I(r,0))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[k(t[1],e,r),...i]})),[nt]:lt(v,st(1,1/0),at(x)),[rt]:lt(_,st(1,1/0),at(x)),array:lt((t=>3===t.length||4===t.length?w|b:w),st(1,1/0),at(v)),color:lt(b,st(1,4),at(v)),band:lt(v,st(1,3),at(v)),palette:lt(b,st(2,2),(function(t,e){const n=k(t[1],e,v);if(n.type!==v)throw new Error(`The first argument of palette must be an number, got ${S(n.type)} instead`);const r=t[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let t=0;t<i.length;t++){const n=k(r[t],e,b);if(!(n instanceof A))throw new Error(`The palette color at index ${t} must be a literal value`);if(!C(n.type,b))throw new Error(`The palette color at index ${t} should be of type color, got ${S(n.type)} instead`);i[t]=n}return[n,...i]}))};function ot(t,e){const n=t[0];if(1!==t.length)throw new Error(`Expected no arguments for ${n} operation`);return[]}function st(t,e){return function(n,r){const i=n[0],o=n.length-1;if(t===e){if(o!==t)throw new Error(`Expected ${t} argument${1===t?"":"s"} for ${i}, got ${o}`)}else if(o<t||o>e)throw new Error(`Expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${i}, got ${o}`)}}function at(t){return function(e,n){const r=e[0],i=e.length-1,o=new Array(i);for(let s=0;s<i;++s){const i=k(e[s+1],n);if(!C(t,i.type)){const e=S(t),n=S(i.type);throw new Error(`Unexpected type for argument ${s} of ${r} operation, got ${e} but expected ${n}`)}i.type&=t,o[s]=i}return o}}function ht(t,e,n){const r=t[0],i=t.length-1;let o=x;for(let t=0;t<n.length;++t)o&=n[t].type;if(0===o)throw new Error(`No common type could be found for arguments of ${r} operation`);const s=new Array(i);for(let n=0;n<i;++n)s[n]=k(t[n+1],e,o);return s}function ut(t,e){const n=t[0],r=t.length-1;if(r%2==1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function lt(t,...e){return function(n,r,i){const o=n[0];let s=[];for(let t=0;t<e.length;t++)s=e[t](n,r,s,i)||s;let a="function"==typeof t?t(s):t;if(void 0!==i){if(!C(a,i))throw new Error(`The following expression was expected to return ${S(i)}, but returns ${S(a)} instead: ${JSON.stringify(n)}`);a&=i}if(0===a)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new P(a,o,...s)}}function ct(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return ct(t.getGeometries()[0]);default:return""}}function ft(t,e,n){const r=k(t,n);if(!C(e,r.type)){const t=S(e),n=S(r.type);throw new Error(`Expected expression to be of type ${t}, got ${n}`)}return dt(r,n)}function dt(t,e){if(t instanceof A){if(t.type===b&&"string"==typeof t.value){const e=(0,g.mL)(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case nt:case rt:case tt:return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=dt(t.args[n],e);switch(n){case tt:return t=>{for(let e=0;e<r;++e){const n=i[e](t);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case nt:case rt:return t=>{for(let e=0;e<r;++e){const r=i[e](t);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}(t,e);case R:case L:return function(t,e){const n=t.args[0].value;switch(t.operator){case R:return t=>t.properties[n];case L:return t=>t.variables[n];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}(t);case"id":return t=>t.featureId;case N:return t=>t.geometryType;case T:{const n=t.args.map((t=>dt(t,e)));return t=>"".concat(...n.map((e=>e(t).toString())))}case j:return t=>t.resolution;case D:case F:case"!":return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=dt(t.args[n],e);switch(n){case D:return t=>{for(let e=0;e<r;++e)if(i[e](t))return!0;return!1};case F:return t=>{for(let e=0;e<r;++e)if(!i[e](t))return!1;return!0};case"!":return t=>!i[0](t);default:throw new Error(`Unsupported logical operator ${n}`)}}(t,e);case B:case G:case"<":case U:case">":case q:return function(t,e){const n=t.operator,r=dt(t.args[0],e),i=dt(t.args[1],e);switch(n){case B:return t=>r(t)===i(t);case G:return t=>r(t)!==i(t);case"<":return t=>r(t)<i(t);case U:return t=>r(t)<=i(t);case">":return t=>r(t)>i(t);case q:return t=>r(t)>=i(t);default:throw new Error(`Unsupported comparison operator ${n}`)}}(t,e);case"*":case"/":case"+":case"-":case z:case"%":case"^":case Z:case V:case X:case W:case Y:case H:case $:case K:return function(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=dt(t.args[n],e);switch(n){case"*":return t=>{let e=1;for(let n=0;n<r;++n)e*=i[n](t);return e};case"/":return t=>i[0](t)/i[1](t);case"+":return t=>{let e=0;for(let n=0;n<r;++n)e+=i[n](t);return e};case"-":return t=>i[0](t)-i[1](t);case z:return t=>{const e=i[0](t),n=i[1](t);if(e<n)return n;const r=i[2](t);return e>r?r:e};case"%":return t=>i[0](t)%i[1](t);case"^":return t=>Math.pow(i[0](t),i[1](t));case Z:return t=>Math.abs(i[0](t));case V:return t=>Math.floor(i[0](t));case X:return t=>Math.ceil(i[0](t));case W:return t=>Math.round(i[0](t));case Y:return t=>Math.sin(i[0](t));case H:return t=>Math.cos(i[0](t));case $:return 2===r?t=>Math.atan2(i[0](t),i[1](t)):t=>Math.atan(i[0](t));case K:return t=>Math.sqrt(i[0](t));default:throw new Error(`Unsupported numeric operator ${n}`)}}(t,e);case et:return function(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=dt(t.args[i],e);return t=>{for(let e=0;e<n-1;e+=2)if(r[e](t))return r[e+1](t);return r[n-1](t)}}(t,e);case J:return function(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=dt(t.args[i],e);return t=>{const e=r[0](t);for(let i=1;i<n;i+=2)if(e===r[i](t))return r[i+1](t);return r[n-1](t)}}(t,e);case Q:return function(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=dt(t.args[i],e);return t=>{const e=r[0](t),i=r[1](t);let o,s;for(let a=2;a<n;a+=2){const n=r[a](t);let h=r[a+1](t);const u=Array.isArray(h);if(u&&(h=(0,g.fG)(h)),n>=i)return 2===a?h:u?gt(e,i,o,s,n,h):pt(e,i,o,s,n,h);o=n,s=h}return s}}(t,e);default:throw new Error(`Unsupported operator ${n}`)}}function pt(t,e,n,r,i,o){const s=i-n;if(0===s)return r;const a=e-n;return r+(1===t?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1))*(o-r)}function gt(t,e,n,r,i,o){if(0==i-n)return r;const s=(0,g.WV)(r),a=(0,g.WV)(o);let h=a[2]-s[2];h>180?h-=360:h<-180&&(h+=360);const u=[pt(t,e,n,s[0],i,a[0]),pt(t,e,n,s[1],i,a[1]),s[2]+pt(t,e,n,0,i,h),pt(t,e,n,r[3],i,o[3])];return(0,g.Fv)((0,g.TF)(u))}var mt=n(69374);function yt(t){return!0}function vt(t){const e=O(),n=function(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i){const n=t[i],o="filter"in n?ft(n.filter,y,e):yt;let s;if(Array.isArray(n.style)){const t=n.style.length;s=new Array(t);for(let r=0;r<t;++r)s[r]=bt(n.style[r],e)}else s=[bt(n.style,e)];r[i]={filter:o,styles:s}}return function(e){const i=[];let o=!1;for(let s=0;s<n;++s)if((0,r[s].filter)(e)&&(!t[s].else||!o)){o=!0;for(const t of r[s].styles){const n=t(e);n&&i.push(n)}}return i}}(t,e),r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,i){if(r.properties=t.getPropertiesInternal(),r.resolution=i,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}return e.geometryType&&(r.geometryType=ct(t.getGeometry())),n(r)}}function _t(t){const e=O(),n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=bt(t[i],e);const i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(t,s){if(i.properties=t.getPropertiesInternal(),i.resolution=s,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}let a=0;for(let t=0;t<n;++t){const e=r[t](i);e&&(o[a]=e,a+=1)}return o.length=a,o}}function bt(t,e){const n=wt(t,"",e),r=xt(t,"",e),i=function(t,e){const n="text-",r=Et(t,"text-value",e);if(!r)return null;const i=wt(t,n,e),o=wt(t,"text-background-",e),s=xt(t,n,e),a=xt(t,"text-background-",e),h=Et(t,"text-font",e),u=Mt(t,"text-max-angle",e),l=Mt(t,"text-offset-x",e),c=Mt(t,"text-offset-y",e),f=St(t,"text-overflow",e),p=Et(t,"text-placement",e),g=Mt(t,"text-repeat",e),m=Ot(t,"text-scale",e),y=St(t,"text-rotate-with-view",e),v=Mt(t,"text-rotation",e),_=Et(t,"text-align",e),b=Et(t,"text-justify",e),w=Et(t,"text-baseline",e),x=It(t,"text-padding",e),M=Nt(t,"text-declutter-mode"),E=new d({declutterMode:M});return function(t){if(E.setText(r(t)),i&&E.setFill(i(t)),o&&E.setBackgroundFill(o(t)),s&&E.setStroke(s(t)),a&&E.setBackgroundStroke(a(t)),h&&E.setFont(h(t)),u&&E.setMaxAngle(u(t)),l&&E.setOffsetX(l(t)),c&&E.setOffsetY(c(t)),f&&E.setOverflow(f(t)),p){const e=p(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");E.setPlacement(e)}if(g&&E.setRepeat(g(t)),m&&E.setScale(m(t)),y&&E.setRotateWithView(y(t)),v&&E.setRotation(v(t)),_){const e=_(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(e)}if(b){const e=b(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");E.setJustify(e)}if(w){const e=w(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(e)}return x&&E.setPadding(x(t)),E}}(t,e),a=function(t,e){return"icon-src"in t?function(t,e){const n="icon-src",r=Ft(t[n],n),i=At(t,"icon-anchor",e),o=Ot(t,"icon-scale",e),s=Mt(t,"icon-opacity",e),a=At(t,"icon-displacement",e),u=Mt(t,"icon-rotation",e),l=St(t,"icon-rotate-with-view",e),c=Lt(t,"icon-anchor-origin"),f=Tt(t,"icon-anchor-x-units"),d=Tt(t,"icon-anchor-y-units"),p=function(t,e){const n=t[e];if(void 0!==n)return Bt(n,e)}(t,"icon-color"),g=function(t,e){const n=t[e];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${e}`);return n}}(t,"icon-cross-origin"),m=function(t,e){const n=t[e];if(void 0!==n)return Dt(n,e)}(t,"icon-offset"),y=Lt(t,"icon-offset-origin"),v=kt(t,"icon-width"),_=kt(t,"icon-height"),b=Rt(t,"icon-size"),w=Nt(t,"icon-declutter-mode"),x=new h.default({src:r,anchorOrigin:c,anchorXUnits:f,anchorYUnits:d,color:p,crossOrigin:g,offset:m,offsetOrigin:y,height:_,width:v,size:b,declutterMode:w});return function(t){return s&&x.setOpacity(s(t)),a&&x.setDisplacement(a(t)),u&&x.setRotation(u(t)),l&&x.setRotateWithView(l(t)),o&&x.setScale(o(t)),i&&x.setAnchor(i(t)),x}}(t,e):"shape-points"in t?function(t,e){const n="shape-",r="shape-points",i="shape-radius",o=jt(t[r],r),s=jt(t[i],i),a=wt(t,n,e),h=xt(t,n,e),l=Ot(t,"shape-scale",e),c=At(t,"shape-displacement",e),f=Mt(t,"shape-rotation",e),d=St(t,"shape-rotate-with-view",e),p=kt(t,"shape-radius2"),g=kt(t,"shape-angle"),m=Nt(t,"shape-declutter-mode"),y=new u.Z({points:o,radius:s,radius2:p,angle:g,declutterMode:m});return function(t){return a&&y.setFill(a(t)),h&&y.setStroke(h(t)),c&&y.setDisplacement(c(t)),f&&y.setRotation(f(t)),d&&y.setRotateWithView(d(t)),l&&y.setScale(l(t)),y}}(t,e):"circle-radius"in t?function(t,e){const n="circle-",r=wt(t,n,e),i=xt(t,n,e),o=Mt(t,"circle-radius",e),a=Ot(t,"circle-scale",e),h=At(t,"circle-displacement",e),u=Mt(t,"circle-rotation",e),l=St(t,"circle-rotate-with-view",e),c=Nt(t,"circle-declutter-mode"),f=new s.Z({radius:5,declutterMode:c});return function(t){return o&&f.setRadius(o(t)),r&&f.setFill(r(t)),i&&f.setStroke(i(t)),h&&f.setDisplacement(h(t)),u&&f.setRotation(u(t)),l&&f.setRotateWithView(l(t)),a&&f.setScale(a(t)),f}}(t,e):null}(t,e),l=Mt(t,"z-index",e);if(!(n||r||i||a||(0,mt.x)(t)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const c=new o.default;return function(t){let e=!0;if(n){const r=n(t);r&&(e=!1),c.setFill(r)}if(r){const n=r(t);n&&(e=!1),c.setStroke(n)}if(i){const n=i(t);n&&(e=!1),c.setText(n)}if(a){const n=a(t);n&&(e=!1),c.setImage(n)}return l&&c.setZIndex(l(t)),e?null:c}}function wt(t,e,n){let r;if(r=e+"fill-pattern-src"in t?function(t,e,n){const r=Et(t,e+"pattern-src",n),i=Pt(t,e+"pattern-offset",n),o=Pt(t,e+"pattern-size",n),s=Ct(t,e+"color",n);return function(t){return{src:r(t),offset:i&&i(t),size:o&&o(t),color:s&&s(t)}}}(t,e+"fill-",n):Ct(t,e+"fill-color",n),!r)return null;const i=new a.Z;return function(t){const e=r(t);return"none"===e?null:(i.setColor(e),i)}}function xt(t,e,n){const r=Mt(t,e+"stroke-width",n),i=Ct(t,e+"stroke-color",n);if(!r&&!i)return null;const o=Et(t,e+"stroke-line-cap",n),s=Et(t,e+"stroke-line-join",n),a=It(t,e+"stroke-line-dash",n),h=Mt(t,e+"stroke-line-dash-offset",n),u=Mt(t,e+"stroke-miter-limit",n),c=new l.Z;return function(t){if(i){const e=i(t);if("none"===e)return null;c.setColor(e)}if(r&&c.setWidth(r(t)),o){const e=o(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");c.setLineCap(e)}if(s){const e=s(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(e)}return a&&c.setLineDash(a(t)),h&&c.setLineDashOffset(h(t)),u&&c.setMiterLimit(u(t)),c}}function Mt(t,e,n){if(!(e in t))return;const r=ft(t[e],v,n);return function(t){return jt(r(t),e)}}function Et(t,e,n){if(!(e in t))return null;const r=ft(t[e],_,n);return function(t){return Ft(r(t),e)}}function St(t,e,n){if(!(e in t))return null;const r=ft(t[e],y,n);return function(t){const n=r(t);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${e}`);return n}}function Ct(t,e,n){if(!(e in t))return null;const r=ft(t[e],b|_,n);return function(t){return Bt(r(t),e)}}function It(t,e,n){if(!(e in t))return null;const r=ft(t[e],w,n);return function(t){return Dt(r(t),e)}}function At(t,e,n){if(!(e in t))return null;const r=ft(t[e],w,n);return function(t){const n=Dt(r(t),e);if(2!==n.length)throw new Error(`Expected two numbers for ${e}`);return n}}function Pt(t,e,n){if(!(e in t))return null;const r=ft(t[e],w,n);return function(t){return Gt(r(t),e)}}function Ot(t,e,n){if(!(e in t))return null;const r=ft(t[e],w|v,n);return function(t){return n=r(t),i=e,"number"==typeof n?n:Gt(n,i);var n,i}}function kt(t,e){const n=t[e];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${e}`);return n}}function Rt(t,e){const n=t[e];if(void 0!==n){if("number"==typeof n)return(0,c.Pq)(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${e}`);return n}}function Lt(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function Tt(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Nt(t,e){const n=t[e];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${e}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function Dt(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let r=0;r<n;++r)if("number"!=typeof t[r])throw new Error(`Expected an array of numbers for ${e}`);return t}function Ft(t,e){if("string"!=typeof t)throw new Error(`Expected a string for ${e}`);return t}function jt(t,e){if("number"!=typeof t)throw new Error(`Expected a number for ${e}`);return t}function Bt(t,e){if("string"==typeof t)return t;const n=Dt(t,e),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function Gt(t,e){const n=Dt(t,e);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${e}`);return n}const qt="renderOrder";class Ut extends r.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(qt)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter==0&&(t.declutter[n]=new i(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(qt,t)}setStyle(t){this.style_=function(t){if(void 0===t)return o.createDefaultStyle;if(!t)return null;if("function"==typeof t)return t;if(t instanceof o.default)return t;if(!Array.isArray(t))return _t([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof o.default){const n=new Array(e);for(let r=0;r<e;++r){const e=t[r];if(!(e instanceof o.default))throw new Error("Expected a list of style instances");n[r]=e}return n}if("style"in n){const n=new Array(e);for(let r=0;r<e;++r){const e=t[r];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[r]=e}return vt(n)}return _t(t)}(t),this.styleFunction_=null===t?void 0:(0,o.toFunction)(this.style_),this.changed()}}const zt=Ut},68734:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GroupEvent:()=>p,default:()=>y});var r=n(947),i=n(78714),o=n(42071),s=n(291),a=n(85487),h=n(35990),u=n(99515),l=n(69374),c=n(28641),f=n(74187),d=n(65818);class p extends s.ZP{constructor(t,e){super(t),this.layer=e}}const g="layers";class m extends r.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(g,this.handleLayersChanged_),n?Array.isArray(n)?n=new i.Z(n.slice(),{unique:!0}):(0,u.h)("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new i.Z(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(d.bN),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,d.oL)(t,o.Z.ADD,this.handleLayersAdd_,this),(0,d.oL)(t,o.Z.REMOVE,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(d.bN);(0,l.Z)(this.listenerKeys_);const e=t.getArray();for(let t=0,n=e.length;t<n;t++){const n=e[t];this.registerLayerListeners_(n),this.dispatchEvent(new p("addlayer",n))}this.changed()}registerLayerListeners_(t){const e=[(0,d.oL)(t,h.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,d.oL)(t,a.Z.CHANGE,this.handleLayerChange_,this)];t instanceof m&&e.push((0,d.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,d.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,f.sq)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new p("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new p("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new p("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=(0,f.sq)(e);this.listenerKeys_[n].forEach(d.bN),delete this.listenerKeys_[n],this.dispatchEvent(new p("removelayer",e)),this.changed()}getLayers(){return this.get(g)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new p("removelayer",t[e]))}this.set(g,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const r=this.getLayerState();let i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(let t=n,o=e.length;t<o;t++){const n=e[t];n.opacity*=r.opacity,n.visible=n.visible&&r.visible,n.maxResolution=Math.min(n.maxResolution,r.maxResolution),n.minResolution=Math.max(n.minResolution,r.minResolution),n.minZoom=Math.max(n.minZoom,r.minZoom),n.maxZoom=Math.min(n.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==n.extent?n.extent=(0,c.Ed)(n.extent,r.extent):n.extent=r.extent),void 0===n.zIndex&&(n.zIndex=i)}return e}getSourceState(){return"ready"}}const y=m},1295:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d,j:()=>f});var r=n(947),i=n(85487),o=n(71912),s=n(98771),a=n(59090),h=n(99515),u=n(28641),l=n(65818);class c extends r.Z{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(o.Z.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(o.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,l.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,l.oL)(t,i.Z.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let r;!t&&n&&(t=n.getView()),e=t instanceof a.ZP?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),r=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const i=this.getExtent();return f(r,e.viewState)&&(!i||(0,u.kK)(i,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const n=this.getSource();if(n&&(e=n.getAttributions()),!e)return[];let r=e(t instanceof a.ZP?t.getViewStateAndExtent():t);return Array.isArray(r)||(r=[r]),r}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(o.Z.MAP,t)}getMapInternal(){return this.get(o.Z.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,l.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,l.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,l.oL)(t,s.Z.PRECOMPOSE,(function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,h.h)(!e.some((function(t){return t.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}),this),this.mapRenderKey_=(0,l.oL)(this,i.Z.CHANGE,t.render,t),this.changed())}setSource(t){this.set(o.Z.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function f(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const d=c},71912:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},33661:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ft});var r=n(26202);const i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},o=[i.FILL],s=[i.STROKE],a=[i.BEGIN_PATH],h=[i.CLOSE_PATH],u=i;var l=n(28716);const c=class{drawCustom(t,e,n,r,i){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}};var f=n(96620),d=n(28641),p=n(50147),g=n(65537),m=n(89241);const y=class extends c{constructor(t,e,n,r){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates;let o=i.length;for(let s=0,a=t.length;s<a;s+=e)r[0]=t[s],r[1]=t[s+1],(0,d.b8)(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o}appendFlatLineCoordinates(t,e,n,r,i,o){const s=this.coordinates;let a=s.length;const h=this.getBufferedMaxExtent();o&&(e+=r);let u=t[e],c=t[e+1];const f=this.tmpCoordinate_;let p,g,m,y=!0;for(p=e+r;p<n;p+=r)f[0]=t[p],f[1]=t[p+1],m=(0,d.pX)(h,f),m!==g?(y&&(s[a++]=u,s[a++]=c,y=!1),s[a++]=f[0],s[a++]=f[1]):m===l.Z.INTERSECTING?(s[a++]=f[0],s[a++]=f[1],y=!1):y=!0,u=f[0],c=f[1],g=m;return(i&&y||p===e+r)&&(s[a++]=u,s[a++]=c),a}drawCustomCoordinates_(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);i.push(a),e=s}return e}drawCustom(t,e,n,r,i){this.beginGeometry(t,e,i);const o=t.getType(),s=t.getStride(),a=this.coordinates.length;let h,l,c,f,d;switch(o){case"MultiPolygon":h=t.getOrientedFlatCoordinates(),f=[];const e=t.getEndss();d=0;for(let t=0,n=e.length;t<n;++t){const n=[];d=this.drawCustomCoordinates_(h,d,e[t],s,n),f.push(n)}this.instructions.push([u.CUSTOM,a,f,t,n,m.ug,i]),this.hitDetectionInstructions.push([u.CUSTOM,a,f,t,r||n,m.ug,i]);break;case"Polygon":case"MultiLineString":c=[],h="Polygon"==o?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(h,0,t.getEnds(),s,c),this.instructions.push([u.CUSTOM,a,c,t,n,m.o1,i]),this.hitDetectionInstructions.push([u.CUSTOM,a,c,t,r||n,m.o1,i]);break;case"LineString":case"Circle":h=t.getFlatCoordinates(),l=this.appendFlatLineCoordinates(h,0,h.length,s,!1,!1),this.instructions.push([u.CUSTOM,a,l,t,n,m.Ml,i]),this.hitDetectionInstructions.push([u.CUSTOM,a,l,t,r||n,m.Ml,i]);break;case"MultiPoint":h=t.getFlatCoordinates(),l=this.appendFlatPointCoordinates(h,s),l>a&&(this.instructions.push([u.CUSTOM,a,l,t,n,m.Ml,i]),this.hitDetectionInstructions.push([u.CUSTOM,a,l,t,r||n,m.Ml,i]));break;case"Point":h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),l=this.coordinates.length,this.instructions.push([u.CUSTOM,a,l,t,n,void 0,i]),this.hitDetectionInstructions.push([u.CUSTOM,a,l,t,r||n,void 0,i])}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[u.BEGIN_GEOMETRY,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[u.BEGIN_GEOMETRY,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let r,i,o=-1;for(e=0;e<n;++e)r=t[e],i=r[0],i==u.END_GEOMETRY?o=e:i==u.BEGIN_GEOMETRY&&(r[2]=e,(0,g.FZ)(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillPatternScale=e&&"object"==typeof e&&"src"in e?this.pixelRatio:1,n.fillStyle=(0,f.y)(e||p.bL)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=(0,f.y)(t||p.Tx);const r=e.getLineCap();n.lineCap=void 0!==r?r:p.mb;const i=e.getLineDash();n.lineDash=i?i.slice():p.X9;const o=e.getLineDashOffset();n.lineDashOffset=o||p.He;const s=e.getLineJoin();n.lineJoin=void 0!==s?s:p.rc;const a=e.getWidth();n.lineWidth=void 0!==a?a:p.yC;const h=e.getMiterLimit();n.miterLimit=void 0!==h?h:p.V4,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[u.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[u.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!(0,g.fS)(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=h)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[u.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,d.d9)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,d.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};var v=n(80226);const _=class extends y{constructor(t,e,n,r){super(t,e,n,r)}drawFlatCoordinatess_(t,e,n,r){const i=this.state,l=void 0!==i.fillStyle,c=void 0!==i.strokeStyle,f=n.length;this.instructions.push(a),this.hitDetectionInstructions.push(a);for(let i=0;i<f;++i){const o=n[i],s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,o,r,!0,!c),l=[u.MOVE_TO_LINE_TO,s,a];this.instructions.push(l),this.hitDetectionInstructions.push(l),c&&(this.instructions.push(h),this.hitDetectionInstructions.push(h)),e=o}return l&&(this.instructions.push(o),this.hitDetectionInstructions.push(o)),c&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),e}drawCircle(t,e,n){const r=this.state,i=r.fillStyle,h=r.strokeStyle;if(void 0===i&&void 0===h)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([u.SET_FILL_STYLE,p.bL]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([u.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,p.X9,p.He]);const l=t.getFlatCoordinates(),c=t.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(l,0,l.length,c,!1,!1);const d=[u.CIRCLE,f];this.instructions.push(a,d),this.hitDetectionInstructions.push(a,d),void 0!==r.fillStyle&&(this.instructions.push(o),this.hitDetectionInstructions.push(o)),void 0!==r.strokeStyle&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),this.endGeometry(e)}drawPolygon(t,e,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([u.SET_FILL_STYLE,p.bL]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([u.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,p.X9,p.He]);const s=t.getEnds(),a=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(a,0,s,h),this.endGeometry(e)}drawMultiPolygon(t,e,n){const r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0===i&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([u.SET_FILL_STYLE,p.bL]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([u.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,p.X9,p.He]);const s=t.getEndss(),a=t.getOrientedFlatCoordinates(),h=t.getStride();let l=0;for(let t=0,e=s.length;t<e;++t)l=this.drawFlatCoordinatess_(a,l,s[t],h);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,r=e.length;n<r;++n)e[n]=(0,v.uZ)(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};var b=n(74187),w=n(33983);function x(t,e,n,r,i){const o=[];let s=n,a=0,h=e.slice(n,2);for(;a<t&&s+i<r;){const[n,r]=h.slice(-2),u=e[s+i],l=e[s+i+1],c=Math.sqrt((u-n)*(u-n)+(l-r)*(l-r));if(a+=c,a>=t){const e=(t-a+c)/c,f=(0,w.t7)(n,u,e),d=(0,w.t7)(r,l,e);h.push(f,d),o.push(h),h=[f,d],a==t&&(s+=i),a=0}else if(a<t)h.push(e[s+i],e[s+i+1]),s+=i;else{const t=c-a,e=(0,w.t7)(n,u,t/c),f=(0,w.t7)(r,l,t/c);h.push(e,f),o.push(h),h=[e,f],a=0,s+=i}}return a>0&&o.push(h),o}function M(t,e,n,r,i){let o,s,a,h,u,l,c,f,d,p,g=n,m=n,y=0,v=0,_=n;for(s=n;s<r;s+=i){const n=e[s],r=e[s+1];void 0!==u&&(d=n-u,p=r-l,h=Math.sqrt(d*d+p*p),void 0!==c&&(v+=a,o=Math.acos((c*d+f*p)/(a*h)),o>t&&(v>y&&(y=v,g=_,m=s),v=0,_=s-i)),a=h,c=d,f=p),u=n,l=r}return v+=h,v>y?[_,s]:[g,m]}const E={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},S={Circle:_,Default:y,Image:class extends y{constructor(t,e,n,r){super(t,e,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!(0,d.b8)(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const r=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([u.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([u.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const r=t.getFlatCoordinates(),i=[];for(let e=0,n=r.length;e<n;e+=t.getStride())this.maxExtent&&!(0,d.b8)(this.maxExtent,r.slice(e,e+2))||i.push(r[e],r[e+1]);const o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,2);this.instructions.push([u.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([u.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),r=t.getSize(),i=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends y{constructor(t,e,n,r){super(t,e,n,r)}drawFlatCoordinates_(t,e,n,r){const i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),s=[u.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(t,e,n){const r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([u.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,p.X9,p.He],a);const h=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(h,0,h.length,l),this.hitDetectionInstructions.push(s),this.endGeometry(e)}drawMultiLineString(t,e,n){const r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0===i||void 0===o)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([u.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,p.X9,p.He],a);const h=t.getEnds(),l=t.getFlatCoordinates(),c=t.getStride();let f=0;for(let t=0,e=h.length;t<e;++t)f=this.drawFlatCoordinates_(l,f,h[t],c);this.hitDetectionInstructions.push(s),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(s),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(s),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(a)}},Polygon:_,Text:class extends y{constructor(t,e,n,r){super(t,e,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[p.bL]={fillStyle:p.bL},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const r=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!r&&!i)return;const s=this.coordinates;let a=s.length;const h=t.getType();let l=null,c=t.getStride();if("line"!==o.placement||"LineString"!=h&&"MultiLineString"!=h&&"Polygon"!=h&&"MultiPolygon"!=h){let r=o.overflow?null:[];switch(h){case"Point":case"MultiPoint":l=t.getFlatCoordinates();break;case"LineString":l=t.getFlatMidpoint();break;case"Circle":l=t.getCenter();break;case"MultiLineString":l=t.getFlatMidpoints(),c=2;break;case"Polygon":l=t.getFlatInteriorPoint(),o.overflow||r.push(l[2]/this.resolution),c=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();l=[];for(let t=0,n=e.length;t<n;t+=3)o.overflow||r.push(e[t+2]/this.resolution),l.push(e[t],e[t+1]);if(0===l.length)return;c=2}const i=this.appendFlatPointCoordinates(l,c);if(i===a)return;if(r&&(i-a)/2!=l.length/c){let t=a/2;r=r.filter(((e,n)=>{const r=s[2*(t+n)]===l[n*c]&&s[2*(t+n)+1]===l[n*c+1];return r||--t,r}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let f=o.padding;if(f!=p.oB&&(o.scale[0]<0||o.scale[1]<0)){let t=o.padding[0],e=o.padding[1],n=o.padding[2],r=o.padding[3];o.scale[0]<0&&(e=-e,r=-r),o.scale[1]<0&&(t=-t,n=-n),f=[t,e,n,r]}const d=this.pixelRatio;this.instructions.push([u.DRAW_IMAGE,a,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,f==p.oB?p.oB:f.map((function(t){return t*d})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]);const g=1/d,m=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=p.bL,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([u.DRAW_IMAGE,a,i,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,this.declutterMode_,this.declutterImageWithText_,f,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?p.bL:this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]),o.backgroundFill&&(this.state.fillStyle=m,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!(0,d.kK)(this.maxExtent,t.getExtent()))return;let r;if(l=t.getFlatCoordinates(),"LineString"==h)r=[l.length];else if("MultiLineString"==h)r=t.getEnds();else if("Polygon"==h)r=t.getEnds().slice(0,1);else if("MultiPolygon"==h){const e=t.getEndss();r=[];for(let t=0,n=e.length;t<n;++t)r.push(e[t][0])}this.beginGeometry(t,e,n);const i=o.repeat,u=i?void 0:o.textAlign;let f=0;for(let t=0,e=r.length;t<e;++t){let e;e=i?x(i*this.resolution,l,f,r[t],c):[l.slice(f,r[t])];for(let n=0,i=e.length;n<i;++n){const i=e[n];let h=0,l=i.length;if(null==u){const t=M(o.maxAngle,i,0,i.length,2);h=t[0],l=t[1]}for(let t=h;t<l;t+=c)s.push(i[t],i[t+1]);const d=s.length;f=r[t],this.drawChars_(a,d),a=d}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||p.PH,justify:e.justify,textBaseline:e.textBaseline||p.ru,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,h=E[r.textBaseline],l=this.textOffsetY_*a,c=this.text_,f=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([u.DRAW_CHARS,t,e,h,r.overflow,s,r.maxAngle,a,l,i,f*a,c,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([u.DRAW_CHARS,t,e,h,r.overflow,s?p.bL:s,r.maxAngle,a,l,i,f*a,c,o,1/a,this.declutterMode_])}setTextStyle(t,e){let n,r,i;if(t){const e=t.getFill();e?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=(0,f.y)(e.getColor()||p.bL)):(r=null,this.textFillState_=r);const o=t.getStroke();if(o){i=this.textStrokeState_,i||(i={},this.textStrokeState_=i);const t=o.getLineDash(),e=o.getLineDashOffset(),n=o.getWidth(),r=o.getMiterLimit();i.lineCap=o.getLineCap()||p.mb,i.lineDash=t?t.slice():p.X9,i.lineDashOffset=void 0===e?p.He:e,i.lineJoin=o.getLineJoin()||p.rc,i.lineWidth=void 0===n?p.yC:n,i.miterLimit=void 0===r?p.V4:r,i.strokeStyle=(0,f.y)(o.getColor()||p.Tx)}else i=null,this.textStrokeState_=i;n=this.textState_;const s=t.getFont()||p.Df;(0,p.Qx)(s);const a=t.getScaleArray();n.overflow=t.getOverflow(),n.font=s,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||p.ru,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||p.oB,n.scale=void 0===a?[1,1]:a;const h=t.getOffsetX(),u=t.getOffsetY(),l=t.getRotateWithView(),c=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===u?0:u,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0===c?0:c,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:(0,b.sq)(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,b.sq)(r.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}};var C=n(98015),I=n(16450),A=n(6101),P=n(76442);function O(t,e,n,r,i,o,s,a,h,u,l,c){let f=t[e],d=t[e+1],p=0,g=0,m=0,y=0;function v(){p=f,g=d,f=t[e+=r],d=t[e+1],y+=m,m=Math.sqrt((f-p)*(f-p)+(d-g)*(d-g))}do{v()}while(e<n-r&&y+m<o);let _=0===m?0:(o-y)/m;const b=(0,w.t7)(p,f,_),x=(0,w.t7)(g,d,_),M=e-r,E=y,S=o+a*h(u,i,l);for(;e<n-r&&y+m<S;)v();_=0===m?0:(S-y)/m;const C=(0,w.t7)(p,f,_),I=(0,w.t7)(g,d,_);let A;if(c){const t=[b,x,C,I];(0,P.U1)(t,0,4,2,c,t,t),A=t[0]>t[2]}else A=b>C;const O=Math.PI,k=[],R=M+r===e;let L;if(m=0,y=E,f=t[e=M],d=t[e+1],R){v(),L=Math.atan2(d-g,f-p),A&&(L+=L>0?-O:O);const t=(C+b)/2,e=(I+x)/2;return k[0]=[t,e,(S-o)/2,L,i],k}for(let t=0,c=(i=i.replace(/\n/g," ")).length;t<c;){v();let b=Math.atan2(d-g,f-p);if(A&&(b+=b>0?-O:O),void 0!==L){let t=b-L;if(t+=t>O?-2*O:t<-O?2*O:0,Math.abs(t)>s)return null}L=b;const x=t;let M=0;for(;t<c;++t){const s=a*h(u,i[A?c-t-1:t],l);if(e+r<n&&y+m<o+M+s/2)break;M+=s}if(t===x)continue;const E=A?i.substring(c-x,c-t):i.substring(x,t);_=0===m?0:(o+M/2-y)/m;const S=(0,w.t7)(p,f,_),C=(0,w.t7)(g,d,_);k.push([S,C,M/2,b,E]),o+=M}return k}var k=n(27374);const R=(0,d.lJ)(),L=[],T=[],N=[],D=[];function F(t){return t[3].declutterBox}const j=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function B(t,e){return"start"===e?e=j.test(t)?"right":"left":"end"===e&&(e=j.test(t)?"left":"right"),E[e]}function G(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}const q=class{constructor(t,e,n,r,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,A.Ue)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=i?new I.Z:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,r){const i=t+e+n+r;if(this.labels_[i])return this.labels_[i];const o=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],h=this.pixelRatio,u=[a.scale[0]*h,a.scale[1]*h],l=Array.isArray(t),c=a.justify?E[a.justify]:B(Array.isArray(t)?t[0]:t,a.textAlign||p.PH),f=r&&o.lineWidth?o.lineWidth:0,d=l?t:t.split("\n").reduce(G,[]),{width:g,height:m,widths:y,heights:v,lineWidths:_}=(0,p.Zw)(a,d),b=g+f,w=[],x=(b+2)*u[0],M=(m+f)*u[1],S={width:x<0?Math.floor(x):Math.ceil(x),height:M<0?Math.floor(M):Math.ceil(M),contextInstructions:w};1==u[0]&&1==u[1]||w.push("scale",u),r&&(w.push("strokeStyle",o.strokeStyle),w.push("lineWidth",f),w.push("lineCap",o.lineCap),w.push("lineJoin",o.lineJoin),w.push("miterLimit",o.miterLimit),w.push("setLineDash",[o.lineDash]),w.push("lineDashOffset",o.lineDashOffset)),n&&w.push("fillStyle",s.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const C=.5-c;let I=c*b+C*f;const A=[],P=[];let O,k=0,R=0,L=0,T=0;for(let t=0,e=d.length;t<e;t+=2){const e=d[t];if("\n"===e){R+=k,k=0,I=c*b+C*f,++T;continue}const i=d[t+1]||a.font;i!==O&&(r&&A.push("font",i),n&&P.push("font",i),O=i),k=Math.max(k,v[L]);const o=[e,I+C*y[L]+c*(y[L]-_[T]),.5*(f+k)+R];I+=y[L],r&&A.push("strokeText",o),n&&P.push("fillText",o),++L}return Array.prototype.push.apply(w,A),Array.prototype.push.apply(w,P),this.labels_[i]=S,S}replayTextBackground_(t,e,n,r,i,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignAndScaleFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,r,i,o,s,a,h,u,l,c,f,p,g,m){let y=n-(s*=c[0]),v=r-(a*=c[1]);const _=i+h>t?t-h:i,b=o+u>e?e-u:o,w=p[3]+_*c[0]+p[1],x=p[0]+b*c[1]+p[2],M=y-p[3],E=v-p[0];let S;return(g||0!==l)&&(L[0]=M,D[0]=M,L[1]=E,T[1]=E,T[0]=M+w,N[0]=T[0],N[1]=E+x,D[1]=N[1]),0!==l?(S=(0,A.qC)((0,A.Ue)(),n,r,1,1,l,-n,-r),(0,A.nn)(S,L),(0,A.nn)(S,T),(0,A.nn)(S,N),(0,A.nn)(S,D),(0,d.T9)(Math.min(L[0],T[0],N[0],D[0]),Math.min(L[1],T[1],N[1],D[1]),Math.max(L[0],T[0],N[0],D[0]),Math.max(L[1],T[1],N[1],D[1]),R)):(0,d.T9)(Math.min(M,M+w),Math.min(E,E+x),Math.max(M,M+w),Math.max(E,E+x),R),f&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:_,drawImageH:b,originX:h,originY:u,declutterBox:{minX:R[0],minY:R[1],maxX:R[2],maxY:R[3],value:m},canvasTransform:S,scale:c}}replayImageOrLabel_(t,e,n,r,i,o,s){const a=!(!o&&!s),h=r.declutterBox,u=s?s[2]*r.scale[0]/2:0;return h.minX-u<=e[0]&&h.maxX+u>=0&&h.minY-u<=e[1]&&h.maxY+u>=0&&(a&&this.replayTextBackground_(t,L,T,N,D,o,s),(0,p._f)(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=(0,A.nn)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,r){const i=this.textStates[e],o=this.createLabel(t,e,r,n),s=this.strokeStates[n],a=this.pixelRatio,h=B(Array.isArray(t)?t[0]:t,i.textAlign||p.PH),u=E[i.textBaseline||p.ru],l=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:h*(o.width/a-2*i.scale[0])+2*(.5-h)*l,anchorY:u*o.height/a+2*(.5-u)*l}}execute_(t,e,n,r,i,o,s,a){const h=this.zIndexContext_;let l;this.pixelCoordinates_&&(0,g.fS)(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=(0,P.vT)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,A.lk)(this.renderedTransform_,n));let c=0;const f=r.length;let m,y,v,_,b,w,x,M,E,S,C,I,R,L=0,T=0,N=0,D=null,j=null;const G=this.coordinateCache_,q=this.viewRotation_,U=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,z={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:q},Z=this.instructions!=r||this.overlaps?0:200;let V,X,W,Y;for(;c<f;){const n=r[c];switch(n[0]){case u.BEGIN_GEOMETRY:V=n[1],Y=n[3],V.getGeometry()?void 0===s||(0,d.kK)(s,Y.getExtent())?++c:c=n[2]+1:c=n[2],h&&(h.zIndex=n[4]);break;case u.BEGIN_PATH:T>Z&&(this.fill_(t),T=0),N>Z&&(t.stroke(),N=0),T||N||(t.beginPath(),b=NaN,w=NaN),++c;break;case u.CIRCLE:L=n[1];const r=l[L],f=l[L+1],g=l[L+2]-r,A=l[L+3]-f,P=Math.sqrt(g*g+A*A);t.moveTo(r+P,f),t.arc(r,f,P,0,2*Math.PI,!0),++c;break;case u.CLOSE_PATH:t.closePath(),++c;break;case u.CUSTOM:L=n[1],m=n[2];const H=n[3],$=n[4],K=n[5];z.geometry=H,z.feature=V,c in G||(G[c]=[]);const J=G[c];K?K(l,L,m,2,J):(J[0]=l[L],J[1]=l[L+1],J.length=2),h&&(h.zIndex=n[6]),$(J,z),++c;break;case u.DRAW_IMAGE:L=n[1],m=n[2],E=n[3],y=n[4],v=n[5];let Q=n[6];const tt=n[7],et=n[8],nt=n[9],rt=n[10];let it=n[11];const ot=n[12];let st=n[13];_=n[14]||"declutter";const at=n[15];if(!E&&n.length>=20){S=n[19],C=n[20],I=n[21],R=n[22];const t=this.drawLabelWithPointPlacement_(S,C,I,R);E=t.label,n[3]=E;const e=n[23];y=(t.anchorX-e)*this.pixelRatio,n[4]=y;const r=n[24];v=(t.anchorY-r)*this.pixelRatio,n[5]=v,Q=E.height,n[6]=Q,st=E.width,n[13]=st}let ht,ut,lt,ct;n.length>25&&(ht=n[25]),n.length>17?(ut=n[16],lt=n[17],ct=n[18]):(ut=p.oB,lt=!1,ct=!1),rt&&U?it+=q:rt||U||(it-=q);let ft=0;for(;L<m;L+=2){if(ht&&ht[ft++]<st/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(E.width,E.height,l[L],l[L+1],st,Q,y,v,et,nt,it,ot,i,ut,lt||ct,V),r=[t,e,E,n,tt,lt?D:null,ct?j:null];if(a){let t,e,i,o,s;if(at){const n=m-L;if(!at[n]){at[n]={args:r,declutterMode:_};continue}const o=at[n];t=o.args,e=o.declutterMode,delete at[n],i=F(t)}if(!t||"declutter"===e&&a.collides(i)||(o=!0),"declutter"===_&&a.collides(n.declutterBox)||(s=!0),"declutter"===e&&"declutter"===_){const t=o&&s;o=t,s=t}o&&("none"!==e&&a.insert(i),this.replayImageOrLabel_.apply(this,t)),s&&("none"!==_&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,r))}else this.replayImageOrLabel_.apply(this,r)}++c;break;case u.DRAW_CHARS:const dt=n[1],pt=n[2],gt=n[3],mt=n[4];R=n[5];const yt=n[6],vt=n[7],_t=n[8];I=n[9];const bt=n[10];S=n[11],C=n[12];const wt=[n[13],n[13]];_=n[14]||"declutter";const xt=this.textStates[C],Mt=xt.font,Et=[xt.scale[0]*vt,xt.scale[1]*vt];let St;Mt in this.widths_?St=this.widths_[Mt]:(St={},this.widths_[Mt]=St);const Ct=(0,k.W)(l,dt,pt,2),It=Math.abs(Et[0])*(0,p.Kd)(Mt,S,St);if(mt||It<=Ct){const n=O(l,dt,pt,2,S,(Ct-It)*B(S,this.textStates[C].textAlign),yt,Math.abs(Et[0]),p.Kd,Mt,St,U?0:this.viewRotation_);t:if(n){const r=[];let i,o,s,h,u;if(I)for(i=0,o=n.length;i<o;++i){u=n[i],s=u[4],h=this.createLabel(s,C,"",I),y=u[2]+(Et[0]<0?-bt:bt),v=gt*h.height+2*(.5-gt)*bt*Et[1]/Et[0]-_t;const o=this.calculateImageOrLabelDimensions_(h.width,h.height,u[0],u[1],h.width,h.height,y,v,0,0,u[3],wt,!1,p.oB,!1,V);if(a&&"declutter"===_&&a.collides(o.declutterBox))break t;r.push([t,e,h,o,1,null,null])}if(R)for(i=0,o=n.length;i<o;++i){u=n[i],s=u[4],h=this.createLabel(s,C,R,""),y=u[2],v=gt*h.height-_t;const o=this.calculateImageOrLabelDimensions_(h.width,h.height,u[0],u[1],h.width,h.height,y,v,0,0,u[3],wt,!1,p.oB,!1,V);if(a&&"declutter"===_&&a.collides(o.declutterBox))break t;r.push([t,e,h,o,1,null,null])}a&&"none"!==_&&a.load(r.map(F));for(let t=0,e=r.length;t<e;++t)this.replayImageOrLabel_.apply(this,r[t])}}++c;break;case u.END_GEOMETRY:if(void 0!==o){V=n[1];const t=o(V,Y);if(t)return t}++c;break;case u.FILL:Z?T++:this.fill_(t),++c;break;case u.MOVE_TO_LINE_TO:for(L=n[1],m=n[2],X=l[L],W=l[L+1],x=X+.5|0,M=W+.5|0,x===b&&M===w||(t.moveTo(X,W),b=x,w=M),L+=2;L<m;L+=2)X=l[L],W=l[L+1],x=X+.5|0,M=W+.5|0,L!=m-2&&x===b&&M===w||(t.lineTo(X,W),b=x,w=M);++c;break;case u.SET_FILL_STYLE:D=n,this.alignAndScaleFill_=n[2],T&&(this.fill_(t),T=0,N&&(t.stroke(),N=0)),t.fillStyle=n[1],++c;break;case u.SET_STROKE_STYLE:j=n,N&&(t.stroke(),N=0),this.setStrokeStyle_(t,n),++c;break;case u.STROKE:Z?N++:t.stroke(),++c;break;default:++c}}T&&this.fill_(t),N&&t.stroke()}execute(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)}executeHitDetection(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,r,i)}};var U=n(68326),z=n(69374);const Z=["Polygon","Circle","LineString","Image","Text","Default"],V=["Image","Text"],X=Z.filter((t=>!V.includes(t))),W={};var Y=n(98771),H=n(37755),$=n(72967);const K=class extends c{constructor(t,e,n,r,i,o,s){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.transformRotation_=r?(0,w.FH)(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=i,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,A.Ue)()}drawImages_(t,e,n,r){if(!this.image_)return;const i=(0,P.vT)(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let h=this.imageRotation_;0===this.transformRotation_&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let t=0,e=i.length;t<e;t+=2){const e=i[t]-this.imageAnchorX_,n=i[t+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const t=e+this.imageAnchorX_,r=n+this.imageAnchorY_;(0,A.qC)(s,t,r,1,1,h,-t,-r),o.save(),o.transform.apply(o,s),o.translate(t,r),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,n,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(t,e,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const i=(0,P.vT)(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=r){const t=i[e]+this.textOffsetX_,n=i[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(t-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,t,n),this.textFillState_&&o.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,r,i){const o=this.context_,s=(0,P.vT)(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;i&&(a-=2);for(let t=2;t<a;t+=2)o.lineTo(s[t],s[t+1]);return i&&o.closePath(),n}drawRings_(t,e,n,r){for(let i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,$.Kr)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let t=0,n=e.length;t<n;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,d.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let r=0;const i=t.getEnds(),o=t.getStride();e.beginPath();for(let t=0,e=i.length;t<e;++t)r=this.moveToLineTo_(n,r,i[t],o,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,d.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let r=0;const i=t.getEndss(),o=t.getStride();e.beginPath();for(let t=0,e=i.length;t<e;++t){const e=i[t];r=this.drawRings_(n,r,e,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,g.fS)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:p.PH;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,f.y)(e||p.bL)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),r=e.getLineDash(),i=e.getLineDashOffset(),o=e.getLineJoin(),s=e.getWidth(),a=e.getMiterLimit(),h=r||p.X9;this.strokeState_={lineCap:void 0!==n?n:p.mb,lineDash:1===this.pixelRatio_?h:h.map((t=>t*this.pixelRatio_)),lineDashOffset:(i||p.He)*this.pixelRatio_,lineJoin:void 0!==o?o:p.rc,lineWidth:(void 0!==s?s:p.yC)*this.pixelRatio_,miterLimit:void 0!==a?a:p.V4,strokeStyle:(0,f.y)(t||p.Tx)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,f.y)(t||p.bL)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),r=n.getLineDash(),i=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:p.mb,lineDash:r||p.X9,lineDashOffset:i||p.He,lineJoin:void 0!==o?o:p.rc,lineWidth:void 0!==s?s:p.yC,miterLimit:void 0!==a?a:p.V4,strokeStyle:(0,f.y)(t||p.Tx)}}else this.textStrokeState_=null;const r=t.getFont(),i=t.getOffsetX(),o=t.getOffsetY(),s=t.getRotateWithView(),a=t.getRotation(),h=t.getScaleArray(),u=t.getText(),l=t.getTextAlign(),c=t.getTextBaseline();this.textState_={font:void 0!==r?r:p.Df,textAlign:void 0!==l?l:p.PH,textBaseline:void 0!==c?c:p.ru},this.text_=void 0!==u?Array.isArray(u)?u.reduce(((t,e,n)=>t+(n%2?" ":e)),""):u:"",this.textOffsetX_=void 0!==i?this.pixelRatio_*i:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}};var J=n(2370),Q=n(35798);const tt=.5;var et=n(70553);const nt={Point:function(t,e,n,r,i,o){const s=n.getImage(),a=n.getText(),h=a&&a.getText(),u=o&&s&&h?{}:void 0;if(s){if(s.getImageState()!=et.Z.LOADED)return;const o=t.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawPoint(e,r,i)}if(h){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,u),o.drawText(e,r,i)}},LineString:function(t,e,n,r,i){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,r,i)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,r,i)}},Polygon:function(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}},MultiPoint:function(t,e,n,r,i,o){const s=n.getImage(),a=s&&0!==s.getOpacity(),h=n.getText(),u=h&&h.getText(),l=o&&a&&u?{}:void 0;if(a){if(s.getImageState()!=et.Z.LOADED)return;const o=t.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,l),o.drawMultiPoint(e,r,i)}if(u){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(h,l),o.drawText(e,r,i)}},MultiLineString:function(t,e,n,r,i){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r,i)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,r,i)}},MultiPolygon:function(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}},GeometryCollection:function(t,e,n,r,i,o){const s=e.getGeometriesArray();let a,h;for(a=0,h=s.length;a<h;++a)(0,nt[s[a].getType()])(t,s[a],n,r,i,o)},Circle:function(t,e,n,r){const i=n.getFill(),o=n.getStroke();if(i||o){const s=t.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(i,o),s.drawCircle(e,r)}const s=n.getText();if(s&&s.getText()){const i=t.getBuilder(n.getZIndex(),"Text");i.setTextStyle(s),i.drawText(e,r)}}};function rt(t,e){return parseInt((0,b.sq)(t),10)-parseInt((0,b.sq)(e),10)}function it(t,e){const n=ot(t,e);return n*n}function ot(t,e){return.5*t/e}function st(t,e,n,r,i,o,s,a){const h=[],u=n.getImage();if(u){let t=!0;const e=u.getImageState();e==et.Z.LOADED||e==et.Z.ERROR?t=!1:e==et.Z.IDLE&&u.load(),t&&h.push(u.ready())}const l=n.getFill();l&&l.loading()&&h.push(l.ready());const c=h.length>0;return c&&Promise.all(h).then((()=>i(null))),function(t,e,n,r,i,o,s){const a=n.getGeometryFunction()(e);if(!a)return;const h=a.simplifyTransformed(r,i);n.getRenderer()?at(t,h,n,e,s):(0,nt[h.getType()])(t,h,n,e,s,o)}(t,e,n,r,o,s,a),c}function at(t,e,n,r,i){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i);else{const o=e.getGeometries();for(let e=0,s=o.length;e<s;++e)at(t,o[e],n,r,i)}}var ht=n(91900);class ut extends C.Z{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,d.lJ)(),this.wrappedRenderedExtent_=(0,d.lJ)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,n){const r=e.extent,i=e.viewState,o=i.center,s=i.resolution,a=i.projection,h=i.rotation,u=a.getExtent(),l=this.getLayer().getSource(),c=this.getLayer().getDeclutter(),f=e.pixelRatio,p=e.viewHints,g=!(p[H.Z.ANIMATING]||p[H.Z.INTERACTING]),m=this.compositionContext_,y=Math.round(e.size[0]*f),v=Math.round(e.size[1]*f),_=l.getWrapX()&&a.canWrapX(),b=_?(0,d.dz)(u):null,w=_?Math.ceil((r[2]-u[2])/b)+1:1;let x=_?Math.floor((r[0]-u[0])/b):0;do{const r=this.getRenderTransform(o,s,h,f,y,v,x*b);t.execute(m,[m.canvas.width,m.canvas.height],r,h,g,void 0===n?Z:n?V:X,n?c&&e.declutter[c]:void 0)}while(++x<w)}setupCompositionContext_(){if(1!==this.opacity_){const t=(0,U.E4)(this.context.canvas.width,this.context.canvas.height,C.r);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,(0,U.jy)(this.compositionContext_),C.r.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.getLayer().getDeclutter()&&(this.setupCompositionContext_(),this.renderWorlds(this.replayGroup_,t,!0),this.releaseCompositionContext_())}renderDeferredInternal(t){this.replayGroup_.renderDeferred()}renderFrame(t,e){const n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];(0,A.n3)(this.pixelTransform,1/n,1/n),(0,A.nb)(this.inversePixelTransform,this.pixelTransform);const i=(0,A.BB)(this.pixelTransform);this.useContainer(e,i,this.getBackground(t));const o=this.context,s=o.canvas,a=this.replayGroup_;let h=a&&!a.isEmpty();if(!h&&!this.getLayer().hasListener(Y.Z.PRERENDER)&&!this.getLayer().hasListener(Y.Z.POSTRENDER))return null;const u=Math.round(t.size[0]*n),l=Math.round(t.size[1]*n);s.width!=u||s.height!=l?(s.width=u,s.height=l,s.style.transform!==i&&(s.style.transform=i)):this.containerReused||o.clearRect(0,0,u,l),this.preRender(o,t);const c=t.viewState,f=c.projection;this.opacity_=r.opacity,this.setupCompositionContext_();let p=!1;if(h&&r.extent&&this.clipping){const e=(0,Q.fromUserExtent)(r.extent,f);h=(0,d.kK)(e,t.extent),p=h&&!(0,d.r4)(e,t.extent),p&&this.clipUnrotated(this.compositionContext_,t,e)}return h&&this.renderWorlds(a,t,!this.getLayer().getDeclutter()&&void 0),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==c.rotation&&(this.renderedRotation_=c.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise((e=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=[this.context.canvas.width,this.context.canvas.height];(0,A.nn)(this.pixelTransform,t);const e=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,i=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],h=t[0]*tt,u=t[1]*tt;a.push(this.getRenderTransform(e,n,r,tt,h,u,0).slice());const l=s.getSource(),c=i.getExtent();if(l.getWrapX()&&i.canWrapX()&&!(0,d.r4)(c,o)){let t=o[0];const i=(0,d.dz)(c);let s,l=0;for(;t<c[0];)--l,s=i*l,a.push(this.getRenderTransform(e,n,r,tt,h,u,s).slice()),t+=i;for(l=0,t=o[2];t>c[2];)++l,s=i*l,a.push(this.getRenderTransform(e,n,r,tt,h,u,s).slice()),t-=i}const f=(0,Q.getUserProjection)();this.hitDetectionImageData_=function(t,e,n,r,i,o,s,a,h){const u=h?(0,Q.toUserExtent)(i,h):i,l=t[0]*tt,c=t[1]*tt,f=(0,U.E4)(l,c);f.imageSmoothingEnabled=!1;const p=f.canvas,m=new K(f,tt,i,null,s,a,h?(0,Q.getTransformFromProjections)((0,Q.getUserProjection)(),h):null),y=n.length,v=Math.floor(16777215/y),_={};for(let t=1;t<=y;++t){const e=n[t-1],i=e.getStyleFunction()||r;if(!i)continue;let s=i(e,o);if(!s)continue;Array.isArray(s)||(s=[s]);const a=(t*v).toString(16).padStart(7,"#00000");for(let t=0,n=s.length;t<n;++t){const n=s[t],r=n.getGeometryFunction()(e);if(!r||!(0,d.kK)(u,r.getExtent()))continue;const i=n.clone(),o=i.getFill();o&&o.setColor(a);const h=i.getStroke();h&&(h.setColor(a),h.setLineDash(null)),i.setText(void 0);const l=n.getImage();if(l){const t=l.getImageSize();if(!t)continue;const e=(0,U.E4)(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=a,e.fillRect(0,0,n.width,n.height),i.setImage(new J.default({img:n,anchor:l.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:l.getOrigin(),opacity:1,size:l.getSize(),scale:l.getScale(),rotation:l.getRotation(),rotateWithView:l.getRotateWithView()}))}const c=i.getZIndex()||0;let f=_[c];f||(f={},_[c]=f,f.Polygon=[],f.Circle=[],f.LineString=[],f.Point=[]);const p=r.getType();if("GeometryCollection"===p){const t=r.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];f[n.getType().replace("Multi","")].push(n,i)}}else f[p.replace("Multi","")].push(r,i)}}const b=Object.keys(_).map(Number).sort(g.j2);for(let t=0,n=b.length;t<n;++t){const n=_[b[t]];for(const t in n){const r=n[t];for(let t=0,n=r.length;t<n;t+=2){m.setStyle(r[t+1]);for(let n=0,i=e.length;n<i;++n)m.setTransform(e[n]),m.drawGeometry(r[t])}}}return f.getImageData(0,0,p.width,p.height)}(t,a,this.renderedFeatures_,s.getStyleFunction(),o,n,r,it(n,this.renderedPixelRatio_),f?i:null)}e(function(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*tt),o=Math.floor(Math.round(t[1])*tt),s=4*((0,w.uZ)(i,0,n.width-1)+(0,w.uZ)(o,0,n.height-1)*n.width),a=n.data[s],h=n.data[s+1],u=n.data[s+2]+256*(h+256*a),l=Math.floor(16777215/e.length);u&&u%l==0&&r.push(e[u/l-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,r,i){if(!this.replayGroup_)return;const o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),h={},u=function(t,e,n){const o=(0,b.sq)(t),s=h[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return h[o]=!0,i.splice(i.lastIndexOf(s),1),r(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return h[o]=!0,r(t,a,e);i.push(h[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:r})}};let l;const c=[this.replayGroup_],f=this.getLayer().getDeclutter();return c.some((r=>l=r.forEachFeatureAtCoordinate(t,o,s,n,u,f&&e.declutter[f]?e.declutter[f].all().map((t=>t.value)):null))),l}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const r=t.viewHints[H.Z.ANIMATING],i=t.viewHints[H.Z.INTERACTING],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=t.extent,h=t.viewState,u=h.projection,l=h.resolution,c=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer();let m=e.getRenderOrder();void 0===m&&(m=rt);const y=h.center.slice(),v=(0,d.f3)(a,p*l),_=v.slice(),b=[v.slice()],w=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!(0,d.r4)(w,t.extent)){const t=(0,d.dz)(w),e=Math.max((0,d.dz)(v)/2,t);v[0]=w[0]-e,v[2]=w[2]+e,(0,ht.Cf)(y,u);const n=(0,d.Cf)(b[0],u);n[0]<w[0]&&n[2]<w[2]?b.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>w[0]&&n[2]>w[2]&&b.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==l&&this.renderedRevision_==f&&this.renderedRenderOrder_==m&&(0,d.r4)(this.wrappedRenderedExtent_,v))return(0,g.fS)(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new class{constructor(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const r in n){const i=n[r].finish();t[e][r]=i}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let i=r[e];return void 0===i&&(i=new(0,S[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i}}(ot(l,c),v,l,c),M=(0,Q.getUserProjection)();let E;if(M){for(let t=0,e=b.length;t<e;++t){const e=b[t],r=(0,Q.toUserExtent)(e,u);n.loadFeatures(r,(0,Q.toUserResolution)(l,u),M)}E=(0,Q.getTransformFromProjections)(M,u)}else for(let t=0,e=b.length;t<e;++t)n.loadFeatures(b[t],l,u);const C=it(l,c);let I=!0;const O=(t,n)=>{let r;const i=t.getStyleFunction()||e.getStyleFunction();if(i&&(r=i(t,l)),r){const e=this.renderFeature(t,C,r,x,E,this.getLayer().getDeclutter(),n);I=I&&!e}},k=(0,Q.toUserExtent)(v,u),R=n.getFeaturesInExtent(k);m&&R.sort(m);for(let t=0,e=R.length;t<e;++t)O(R[t],t);this.renderedFeatures_=R,this.ready=I;const L=x.finish(),T=new class{constructor(t,e,n,r,i,o,s){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,A.Ue)(),this.renderedContext_=null,this.deferredZIndexContexts_=[],this.createExecutors_(i,s)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let r=this.executorsByZIndex_[n];void 0===r&&(r={},this.executorsByZIndex_[n]=r);const i=t[n];for(const t in i){const n=i[t];r[t]=new q(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,r=t.length;e<r;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,r,i,o){const s=2*(r=Math.round(r))+1,a=(0,A.qC)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=(0,U.E4)(s,s,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;let l;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):h||u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(l=(0,d.lJ)(),(0,d.Wj)(l,t),(0,d.f3)(l,e*(this.renderBuffer_+r),l));const c=function(t){if(void 0!==W[t])return W[t];const e=2*t+1,n=t*t,r=new Array(n+1);for(let i=0;i<=t;++i)for(let o=0;o<=t;++o){const s=i*i+o*o;if(s>n)break;let a=r[s];a||(a=[],r[s]=a),a.push(4*((t+i)*e+(t+o))+3),i>0&&a.push(4*((t-i)*e+(t+o))+3),o>0&&(a.push(4*((t+i)*e+(t-o))+3),i>0&&a.push(4*((t-i)*e+(t-o))+3))}const i=[];for(let t=0,e=r.length;t<e;++t)r[t]&&i.push(...r[t]);return W[t]=i,i}(r);let f;function p(t,e){const n=u.getImageData(0,0,s,s).data;for(let a=0,h=c.length;a<h;a++)if(n[c[a]]>0){if(!o||"Image"!==f&&"Text"!==f||o.includes(t)){const n=(c[a]-3)/4,o=r-n%s,h=r-(n/s|0),u=i(t,e,o*o+h*h);if(u)return u}u.clearRect(0,0,s,s);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);let y,v,_,b,w;for(m.sort(g.j2),y=m.length-1;y>=0;--y){const t=m[y].toString();for(_=this.executorsByZIndex_[t],v=Z.length-1;v>=0;--v)if(f=Z[v],b=_[f],void 0!==b&&(w=b.executeHitDetection(u,a,n,p,l),w))return w}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],r=e[1],i=e[2],o=e[3],s=[n,r,n,o,i,o,i,r];return(0,P.vT)(s,0,8,2,t,s),s}isEmpty(){return(0,z.x)(this.executorsByZIndex_)}execute(t,e,n,r,i,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);let h,u,l,c,f,d;for(a.sort(g.j2),o=o||Z,s&&a.reverse(),h=0,u=a.length;h<u;++h){const u=a[h].toString();for(f=this.executorsByZIndex_[u],l=0,c=o.length;l<c;++l){const u=o[l];if(d=f[u],void 0!==d){const o=null===s?void 0:d.getZIndexContext(),l=o?o.getContext():t,c=this.maxExtent_&&"Image"!==u&&"Text"!==u;if(c&&(l.save(),this.clip(l,n)),d.execute(l,e,n,r,i,s),c&&l.restore(),o){o.offset();const t=a[h];this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(o)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){this.deferredZIndexContexts_.forEach((t=>{t.forEach((t=>{t.draw(this.renderedContext_),t.clear()}))}))}}(v,l,c,n.getOverlaps(),L,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=l,this.renderedRevision_=f,this.renderedRenderOrder_=m,this.renderedExtent_=_,this.wrappedRenderedExtent_=v,this.renderedCenter_=y,this.renderedProjection_=u,this.renderedPixelRatio_=c,this.replayGroup_=T,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,r,i,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let h=0,u=n.length;h<u;++h)a=st(r,t,n[h],e,this.boundHandleStyleImageChange_,i,o,s)||a;else a=st(r,t,n,e,this.boundHandleStyleImageChange_,i,o,s);return a}}const lt=ut;class ct extends r.Z{constructor(t){super(t)}createRenderer(){return new lt(this)}}const ft=ct},33983:(t,e,n)=>{"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}function i(t,e,n,r,i,s){const a=i-n,h=s-r;if(0!==a||0!==h){const o=((t-n)*a+(e-r)*h)/(a*a+h*h);o>1?(n=i,r=s):o>0&&(n+=a*o,r+=h*o)}return o(t,e,n,r)}function o(t,e,n,r){const i=n-t,o=r-e;return i*i+o*o}function s(t){const e=t.length;for(let n=0;n<e;n++){let r=n,i=Math.abs(t[n][n]);for(let o=n+1;o<e;o++){const e=Math.abs(t[o][n]);e>i&&(i=e,r=o)}if(0===i)return null;const o=t[r];t[r]=t[n],t[n]=o;for(let r=n+1;r<e;r++){const i=-t[r][n]/t[n][n];for(let o=n;o<e+1;o++)n==o?t[r][o]=0:t[r][o]+=i*t[n][o]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function a(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function u(t,e){const n=t%e;return n*e<0?n+e:n}function l(t,e,n){return t+n*(e-t)}function c(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function f(t,e){return Math.floor(c(t,e))}function d(t,e){return Math.ceil(c(t,e))}n.d(e,{$W:()=>u,FH:()=>c,GW:()=>f,SV:()=>s,Ux:()=>a,Yr:()=>h,bI:()=>o,mD:()=>d,rU:()=>i,t7:()=>l,uZ:()=>r})},69374:(t,e,n)=>{"use strict";function r(t){for(const e in t)delete t[e]}function i(t){let e;for(e in t)return!1;return!e}n.d(e,{Z:()=>r,x:()=>i})},35798:(t,e,n)=>{"use strict";n.r(e),n.d(e,{METERS_PER_UNIT:()=>y.W,Projection:()=>r.Z,addCommon:()=>st,addCoordinateTransforms:()=>B,addEquivalentProjections:()=>T,addEquivalentTransforms:()=>N,addProjection:()=>O,addProjections:()=>k,clearAllProjections:()=>D,clearUserProjection:()=>$,cloneTransform:()=>A,createProjection:()=>F,createSafeCoordinateTransform:()=>ot,createTransformFromCoordinateTransform:()=>j,disableCoordinateWarning:()=>I,equivalent:()=>U,fromLonLat:()=>G,fromUserCoordinate:()=>tt,fromUserExtent:()=>nt,fromUserResolution:()=>it,get:()=>R,getPointResolution:()=>L,getTransform:()=>Z,getTransformFromProjections:()=>z,getUserProjection:()=>K,identityTransform:()=>P,setUserProjection:()=>H,toLonLat:()=>q,toUserCoordinate:()=>Q,toUserExtent:()=>et,toUserResolution:()=>rt,transform:()=>V,transformExtent:()=>X,transformWithProjections:()=>W,useGeographic:()=>J});var r=n(29619);const i=6378137,o=Math.PI*i,s=[-o,-o,o,o],a=[-180,-85,180,85],h=i*Math.log(Math.tan(Math.PI/2));class u extends r.Z{constructor(t){super({code:t,units:"m",extent:s,global:!0,worldExtent:a,getPointResolution:function(t,e){return t/Math.cosh(e[1]/i)}})}}const l=[new u("EPSG:3857"),new u("EPSG:102100"),new u("EPSG:102113"),new u("EPSG:900913"),new u("http://www.opengis.net/def/crs/EPSG/0/3857"),new u("http://www.opengis.net/gml/srs/epsg.xml#3857")];function c(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let s=0;s<r;s+=n){e[s]=o*t[s]/180;let n=i*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));n>h?n=h:n<-h&&(n=-h),e[s+1]=n}return e}function f(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let s=0;s<r;s+=n)e[s]=180*t[s]/o,e[s+1]=360*Math.atan(Math.exp(t[s+1]/i))/Math.PI-90;return e}const d=[-180,-90,180,90],p=6378137*Math.PI/180;class g extends r.Z{constructor(t,e){super({code:t,units:"degrees",extent:d,axisOrientation:e,global:!0,metersPerUnit:p,worldExtent:d})}}const m=[new g("CRS:84"),new g("EPSG:4326","neu"),new g("urn:ogc:def:crs:OGC:1.3:CRS84"),new g("urn:ogc:def:crs:OGC:2:84"),new g("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new g("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new g("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var y=n(58375);let v={},_={};function b(t,e,n){const r=t.getCode(),i=e.getCode();r in _||(_[r]={}),_[r][i]=n}var w=n(28641),x=n(33983),M=n(91900),E=n(97580),S=n(70044);let C=!0;function I(t){C=!(void 0===t||t)}function A(t,e){if(void 0!==e)for(let n=0,r=t.length;n<r;++n)e[n]=t[n];else e=t.slice();return e}function P(t,e){if(void 0!==e&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function O(t){!function(t,e){v[t]=e}(t.getCode(),t),b(t,t,A)}function k(t){t.forEach(O)}function R(t){return"string"==typeof t?v[e=t]||v[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function L(t,e,n,r){let i;const o=(t=R(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits()){const e=t.getMetersPerUnit();e&&(i=i*e/y.W[r])}}else{const o=t.getUnits();if("degrees"==o&&!r||"degrees"==r)i=e;else{const s=z(t,R("EPSG:4326"));if(s===P&&"degrees"!==o)i=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=s(t,t,2),i=((0,E.Sp)(t.slice(0,2),t.slice(2,4))+(0,E.Sp)(t.slice(4,6),t.slice(6,8)))/2}const a=r?y.W[r]:t.getMetersPerUnit();void 0!==a&&(i/=a)}}return i}function T(t){k(t),t.forEach((function(e){t.forEach((function(t){e!==t&&b(e,t,A)}))}))}function N(t,e,n,r){t.forEach((function(t){e.forEach((function(e){b(t,e,n),b(e,t,r)}))}))}function D(){v={},_={}}function F(t,e){return t?"string"==typeof t?R(t):t:R(e)}function j(t){return function(e,n,r){const i=e.length;r=void 0!==r?r:2,n=void 0!==n?n:new Array(i);for(let o=0;o<i;o+=r){const i=t(e.slice(o,o+r)),s=i.length;for(let t=0,a=r;t<a;++t)n[o+t]=t>=s?e[o+t]:i[t]}return n}}function B(t,e,n,r){const i=R(t),o=R(e);b(i,o,j(n)),b(o,i,j(r))}function G(t,e){return I(),V(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function q(t,e){const n=V(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=(0,x.$W)(r+180,360)-180),n}function U(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||z(t,e)===A)&&n}function z(t,e){let n=function(t,e){let n;return t in _&&e in _[t]&&(n=_[t][e]),n}(t.getCode(),e.getCode());return n||(n=P),n}function Z(t,e){return z(R(t),R(e))}function V(t,e,n){return Z(e,n)(t,void 0,t.length)}function X(t,e,n,r){const i=Z(e,n);return(0,w.Ne)(t,i,void 0,r)}function W(t,e,n){return z(e,n)(t)}let Y=null;function H(t){Y=R(t)}function $(){Y=null}function K(){return Y}function J(){H("EPSG:4326")}function Q(t,e){return Y?V(t,e,Y):t}function tt(t,e){return Y?V(t,Y,e):(C&&!(0,M.fS)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(C=!1,(0,S.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function et(t,e){return Y?X(t,e,Y):t}function nt(t,e){return Y?X(t,Y,e):t}function rt(t,e){if(!Y)return t;const n=R(e).getMetersPerUnit(),r=Y.getMetersPerUnit();return n&&r?t*n/r:t}function it(t,e){if(!Y)return t;const n=R(e).getMetersPerUnit(),r=Y.getMetersPerUnit();return n&&r?t*r/n:t}function ot(t,e,n){return function(r){let i,o;if(t.canWrapX()){const e=t.getExtent(),s=(0,w.dz)(e);r=r.slice(0),o=(0,M.jk)(r,t,s),o&&(r[0]=r[0]-o*s),r[0]=(0,x.uZ)(r[0],e[0],e[2]),r[1]=(0,x.uZ)(r[1],e[1],e[3]),i=n(r)}else i=n(r);return o&&e.canWrapX()&&(i[0]+=o*(0,w.dz)(e.getExtent())),i}}function st(){T(l),T(m),N(m,l,c,f)}st()},29619:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(58375);const i=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||r.W[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},58375:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});const r={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},57380:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(291);class i extends r.ZP{constructor(t,e,n,r){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=r}}const o=i},98771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},77571:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>m});var r=n(6101),i=n(28641),o=n(80226),s=n(65537),a=n(73448),h=n(35798),u=n(30974),l=n(49405),c=n(41071),f=n(36885),d=n(76442);const p=(0,r.Ue)();class g{constructor(t,e,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=i,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,i.HK)(this.flatCoordinates_):(0,i.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,i.qg)(this.getExtent());this.flatInteriorPoints_=(0,a.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=(0,u.Q3)(this.flatCoordinates_,this.ends_),e=(0,c.E)(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=(0,a.U)(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,l.WW)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let r=0,i=n.length;r<i;++r){const i=n[r],o=(0,l.WW)(t,e,i,2,.5);(0,s.l7)(this.flatMidpoints_,o),e=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=(0,h.get)(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=(0,i.Cr)(n)/(0,i.Cr)(e);(0,r.qC)(p,n[0],n[3],t,-t,0,0,0),(0,d.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,p,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new g(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,f.qe)(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=(0,o.dt)(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=(0,o.UJ)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,r);break;case"Polygon":r=[],n.length=(0,o.Zh)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,r)}return r&&(this.simplifiedGeometry_=new g(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}g.prototype.getFlatCoordinates=g.prototype.getOrientedFlatCoordinates;const m=g},50147:(t,e,n)=>{"use strict";n.d(e,{Df:()=>h,He:()=>f,Kd:()=>A,PH:()=>m,Qx:()=>E,Tx:()=>g,V4:()=>p,X9:()=>c,Zw:()=>P,_f:()=>O,bL:()=>u,mb:()=>l,oB:()=>v,rc:()=>d,ru:()=>y,sG:()=>b,yC:()=>_});var r=n(72971),i=n(40177),o=n(69374),s=n(68326),a=n(10245);const h="10px sans-serif",u="#000",l="round",c=[],f=0,d="round",p=10,g="#000",m="center",y="middle",v=[0,0,0,0],_=1,b=new r.Z;let w,x=null;const M={},E=function(){const t="32px ",e=["monospace","serif"],n=e.length,r="wmytzilWMYTZIL@#/&?$%10";let i,s;function h(i,o,a){let h=!0;for(let u=0;u<n;++u){const n=e[u];if(s=I(i+" "+o+" "+t+n,r),a!=n){const e=I(i+" "+o+" "+t+a+","+n,r);h=h&&e!=s}}return!!h}function u(){let t=!0;const e=b.getKeys();for(let n=0,r=e.length;n<r;++n){const r=e[n];b.get(r)<100&&(h.apply(this,r.split("\n"))?((0,o.Z)(M),x=null,w=void 0,b.set(r,100)):(b.set(r,b.get(r)+1,!0),t=!1))}t&&(clearInterval(i),i=void 0)}return function(t){const e=(0,a.p)(t);if(!e)return;const n=e.families;for(let t=0,r=n.length;t<r;++t){const r=n[t],o=e.style+"\n"+e.weight+"\n"+r;void 0===b.get(o)&&(b.set(o,100,!0),h(e.style,e.weight,r)||(b.set(o,0,!0),void 0===i&&(i=setInterval(u,32))))}}}(),S=function(){let t;return function(e){let n=M[e];if(null==n){if(i.Id){const t=(0,a.p)(e),r=C(e,"g");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);M[e]=n}return n}}();function C(t,e){return x||(x=(0,s.E4)(1,1)),t!=w&&(x.font=t,w=x.font),x.measureText(e)}function I(t,e){return C(t,e).width}function A(t,e,n){if(e in n)return n[e];const r=e.split("\n").reduce(((e,n)=>Math.max(e,I(t,n))),0);return n[e]=r,r}function P(t,e){const n=[],r=[],i=[];let o=0,s=0,a=0,h=0;for(let u=0,l=e.length;u<=l;u+=2){const c=e[u];if("\n"===c||u===l){o=Math.max(o,s),i.push(s),s=0,a+=h;continue}const f=e[u+1]||t.font,d=I(f,c);n.push(d),s+=d;const p=S(f);r.push(p),h=Math.max(h,p)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}function O(t,e,n,r,i,o,s,a,h,u,l){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(h,u),t.scale(l[0],l[1]),function(t,e){const n=t.contextInstructions;for(let t=0,r=n.length;t<r;t+=2)Array.isArray(n[t+1])?e[n[t]].apply(e,n[t+1]):e[n[t]]=n[t+1]}(r,t)):l[0]<0||l[1]<0?(t.translate(h,u),t.scale(l[0],l[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,h,u,s*l[0],a*l[1]),t.restore()}},16450:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(68326);const i=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(CanvasRenderingContext2D.prototype,{get:(t,e)=>{if("function"==typeof(0,r.W8)()[e])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,n),!0)})}pushMethodArgs_=(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this);getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let n=0,r=e.length;n<r;n+=2){const r=e[n],i=e[n+1];if("function"==typeof t[r])t[r](...i);else{if("function"==typeof i){t[r]=i(t);continue}t[r]=i}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}},98015:(t,e,n)=>{"use strict";n.d(e,{r:()=>y,Z:()=>_});var r=n(85487),i=n(70553),o=n(62706),s=n(74187);class a extends o.default{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return(0,s.O3)()}getData(t){return null}prepareFrame(t){return(0,s.O3)()}renderFrame(t,e){return(0,s.O3)()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(r,i)=>{const o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}}forEachFeatureAtCoordinate(t,e,n,r,i){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==i.Z.LOADED&&e.getState()!==i.Z.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=i.Z.LOADED&&e!=i.Z.ERROR&&t.addEventListener(r.Z.CHANGE,this.boundHandleImageChange_),e==i.Z.IDLE&&(t.load(),e=t.getState()),e==i.Z.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const h=a;var u=n(57380),l=n(98771),c=n(16450),f=n(6101),d=n(49791),p=n(68326),g=n(65537),m=n(28641);const y=[];let v=null;const _=class extends h{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,f.Ue)(),this.pixelTransform=(0,f.Ue)(),this.inversePixelTransform=(0,f.Ue)(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,n){let r;v||(v=(0,p.E4)(1,1,void 0,{willReadFrequently:!0})),v.clearRect(0,0,1,1);try{v.drawImage(t,e,n,1,1,0,0,1,1),r=v.getImageData(0,0,1,1).data}catch(t){return v=null,null}return r}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const r=this.getLayer().getClassName();let i,o;if(t&&t.className===r&&(!n||t&&t.style.backgroundColor&&(0,g.fS)((0,d._2)(t.style.backgroundColor),(0,d._2)(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(o=e.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=document.createElement("div"),i.className=r;let t=i.style;t.position="absolute",t.width="100%",t.height="100%",o=(0,p.E4)();const e=o.canvas;i.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=i,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const r=(0,m.rL)(n),i=(0,m.Xv)(n),o=(0,m.w$)(n),s=(0,m.hC)(n);(0,f.nn)(e.coordinateToPixelTransform,r),(0,f.nn)(e.coordinateToPixelTransform,i),(0,f.nn)(e.coordinateToPixelTransform,o),(0,f.nn)(e.coordinateToPixelTransform,s);const a=this.inversePixelTransform;(0,f.nn)(a,r),(0,f.nn)(a,i),(0,f.nn)(a,o),(0,f.nn)(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()}dispatchRenderEvent_(t,e,n){const r=this.getLayer();if(r.hasListener(t)){const i=new u.Z(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(l.Z.PRERENDER,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(l.Z.POSTRENDER,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new c.Z),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(l.Z.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(l.Z.POSTRENDER,this.context,t))}getRenderTransform(t,e,n,r,i,o,s){const a=i/2,h=o/2,u=r/e,l=-u,c=-t[0]+s,d=-t[1];return(0,f.qC)(this.tempTransform,a,h,u,l,-n,c,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}},60828:(t,e,n)=>{"use strict";n.d(e,{Gw:()=>a,YP:()=>o,gE:()=>s,h$:()=>i});var r=n(33983);function i(t){if(void 0!==t)return 0}function o(t){if(void 0!==t)return t}function s(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){const e=void 0===t?(0,r.Yr)(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}},4307:(t,e,n)=>{"use strict";function r(t){return t[0]>0&&t[1]>0}function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,{Pq:()=>o,bA:()=>i,py:()=>r})},58458:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(72971),i=n(35798);class o extends r.Z{constructor(t){super(),this.projection=(0,i.get)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=s(t),this.changed()}setState(t){this.state_=t,this.changed()}}function s(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const a=o},71800:(t,e,n)=>{"use strict";n.r(e),n.d(e,{VectorSourceEvent:()=>w,default:()=>M});var r=n(78714),i=n(42071),o=n(291),s=n(85487),a=n(35990),h=n(39781),u=n(77571),l=n(58458),c=n(22796),f=n(36885);function d(t,e){return[[-1/0,-1/0,1/0,1/0]]}n(35798);var p=n(99515),g=n(28641),m=n(65537),y=n(74187),v=n(69374),_=n(65818);function b(t,e){return function(n,r,i,o,s){const a=this;!function(t,e,n,r,i,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,r,i):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();let r;"json"==t?r=JSON.parse(a.responseText):"text"==t?r=a.responseText:"xml"==t?(r=a.responseXML,r||(r=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==t&&(r=a.response),r?o(e.readFeatures(r,{extent:n,featureProjection:i}),e.readProjection(r)):s()}else s()},a.onerror=s,a.send()}(t,e,n,r,i,(function(t,e){a.addFeatures(t),void 0!==o&&o(t)}),s||f.Zn)}}class w extends o.ZP{constructor(t,e,n){super(t),this.feature=e,this.features=n}}class x extends l.Z{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=f.Zn,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&((0,p.h)(this.format_,"`format` must be set when `url` is set"),this.loader_=b(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:d;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,i;this.featuresRtree_=e?new h.Z:null,this.loadedExtentsRtree_=new h.Z,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(n=t.features,i=n.getArray()),e||void 0!==n||(n=new r.Z(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=(0,y.sq)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new w(c.Z.ADDFEATURE,t))}setupChangeEvents_(t,e){e instanceof u.ZP||(this.featureChangeKeys_[t]=[(0,_.oL)(e,s.Z.CHANGE,this.handleFeatureChange_,this),(0,_.oL)(e,a.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof u.ZP){const r=this.idIndex_[t];r instanceof u.ZP?Array.isArray(r)?r.push(e):this.idIndex_[t]=[r,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&((0,p.h)(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],r=[];for(let e=0,r=t.length;e<r;e++){const r=t[e],i=(0,y.sq)(r);this.addToIndex_(i,r)&&n.push(r)}for(let t=0,i=n.length;t<i;t++){const i=n[t],o=(0,y.sq)(i);this.setupChangeEvents_(o,i);const s=i.getGeometry();if(s){const t=s.getExtent();e.push(t),r.push(i)}else this.nullGeometryFeatures_[o]=i}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(c.Z.ADDFEATURE))for(let t=0,e=n.length;t<e;t++)this.dispatchEvent(new w(c.Z.ADDFEATURE,n[t]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(c.Z.ADDFEATURE,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(c.Z.REMOVEFEATURE,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(i.Z.ADD,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(i.Z.REMOVE,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_)this.featureChangeKeys_[t].forEach(_.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new w(c.Z.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const r=n.getGeometry();if(r instanceof u.ZP||r.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const r=n.getGeometry();if(r instanceof u.ZP||r.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,v.x)(this.nullGeometryFeatures_)||(0,m.l7)(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const n=(0,g.MV)(t,e);return[].concat(...n.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],r=t[1];let i=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||f.uX,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),h=s;if(s=e instanceof u.ZP?0:e.closestPointXY(n,r,o,s),s<h){i=t;const e=Math.sqrt(s);a[0]=n-e,a[1]=r-e,a[2]=n+e,a[3]=r+e}}})),i}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=(0,y.sq)(e),r=e.getGeometry();if(r){const t=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const i=e.getId();if(void 0!==i){const t=i.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new w(c.Z.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:(0,y.sq)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,v.x)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const r=this.loadedExtentsRtree_,i=this.strategy_(t,e,n);for(let t=0,o=i.length;t<o;++t){const o=i[t];r.forEachInExtent(o,(function(t){return(0,g.r4)(t.extent,o)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new w(c.Z.FEATURESLOADSTART)),this.loader_.call(this,o,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new w(c.Z.FEATURESLOADEND,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new w(c.Z.FEATURESLOADERROR))})),r.insert(o,{extent:o.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,(function(e){if((0,g.fS)(e.extent,t))return n=e,!0})),n&&e.remove(n)}removeFeature(t){if(!t)return;const e=(0,y.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=(0,y.sq)(t),n=this.featureChangeKeys_[e];if(!n)return;n.forEach(_.bN),delete this.featureChangeKeys_[e];const r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new w(c.Z.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let e=!1;for(const n in this.idIndex_){const r=this.idIndex_[n];if(t instanceof u.ZP&&Array.isArray(r)&&r.includes(t))r.splice(r.indexOf(t),1);else if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}}return e}setLoader(t){this.loader_=t}setUrl(t){(0,p.h)(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(b(t,this.format_))}}const M=x},22796:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},97580:(t,e,n)=>{"use strict";n.d(e,{Sp:()=>o,cv:()=>s});var r=n(33983);const i=6371008.8;function o(t,e,n){n=n||i;const o=(0,r.Yr)(t[1]),s=(0,r.Yr)(e[1]),a=(s-o)/2,h=(0,r.Yr)(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(h)*Math.sin(h)*Math.cos(o)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function s(t,e,n,o){o=o||i;const s=(0,r.Yr)(t[1]),a=(0,r.Yr)(t[0]),h=e/o,u=Math.asin(Math.sin(s)*Math.cos(h)+Math.cos(s)*Math.sin(h)*Math.cos(n)),l=a+Math.atan2(Math.sin(n)*Math.sin(h)*Math.cos(s),Math.cos(h)-Math.sin(s)*Math.sin(u));return[(0,r.Ux)(l),(0,r.Ux)(u)]}},39781:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(82582),i=n(28641),o=n(74187),s=n(69374);const a=class{constructor(t){this.rbush_=new r(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,o.sq)(e)]=n}load(t,e){const n=new Array(e.length);for(let r=0,i=e.length;r<i;r++){const i=t[r],s=e[r],a={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:s};n[r]=a,this.items_[(0,o.sq)(s)]=a}this.rbush_.load(n)}remove(t){const e=(0,o.sq)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[(0,o.sq)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];(0,i.fS)(r,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let r=0,i=t.length;r<i;r++)if(n=e(t[r]),n)return n;return n}isEmpty(){return(0,s.x)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return(0,i.T9)(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}},30283:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(35393);class i extends r.Z{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new i({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const o=i},51345:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(70553),i=n(23713);class o{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"==typeof t&&"src"in t){const e=(0,i.U)(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===r.Z.IDLE&&e.load(),e.getImageState()===r.Z.LOADING&&(this.patternImage_=e)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const s=o},2370:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(85487),i=n(70553),o=n(28443),s=n(49791),a=n(99515),h=n(23713),u=n(74187);function l(t,e,n,r){return void 0!==n&&void 0!==r?[n/t,r/e]:void 0!==n?n/t:void 0!==r?r/e:1}class c extends o.Z{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,r=void 0!==t.scale?t.scale:1,o=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:r,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const c=void 0!==t.img?t.img:null;let f,d=t.src;if((0,a.h)(!(void 0!==d&&c),"`image` and `src` cannot be provided at the same time"),void 0!==d&&0!==d.length||!c||(d=c.src||(0,u.sq)(c)),(0,a.h)(void 0!==d&&d.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,a.h)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?f=i.Z.IDLE:void 0!==c&&(f=c instanceof HTMLImageElement?c.complete?c.src?i.Z.LOADED:i.Z.IDLE:i.Z.LOADING:i.Z.LOADED),this.color_=void 0!==t.color?(0,s._2)(t.color):null,this.iconImage_=(0,h.U)(c,d,this.crossOrigin_,f,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const r=this.getImage(1);if(r.width&&r.height)e=r.width,n=r.height;else if(r instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(l(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(l(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new c({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==i.Z.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==i.Z.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(r.Z.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(r.Z.CHANGE,t)}ready(){return this.iconImage_.ready()}}const f=c},23713:(t,e,n)=>{"use strict";n.d(e,{U:()=>f});var r=n(208),i=n(85487),o=n(70553),s=n(49791),a=n(68326),h=n(18096),u=n(92710);let l=null;class c extends r.Z{constructor(t,e,n,r,i){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=i,this.imageState_=void 0===r?o.Z.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===o.Z.LOADED){l||(l=(0,a.E4)(1,1,void 0,{willReadFrequently:!0})),l.drawImage(this.image_,0,0);try{l.getImageData(0,0,1,1),this.tainted_=!1}catch(t){l=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(i.Z.CHANGE)}handleImageError_(){this.imageState_=o.Z.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=o.Z.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=(0,a.E4)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===o.Z.IDLE){this.image_||this.initializeImage_(),this.imageState_=o.Z.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,h.Q9)(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==o.Z.LOADED)return;const e=this.image_,n=document.createElement("canvas");n.width=Math.ceil(e.width*t),n.height=Math.ceil(e.height*t);const r=n.getContext("2d");r.scale(t,t),r.drawImage(e,0,0),r.globalCompositeOperation="multiply",r.fillStyle=(0,s.XC)(this.color_),r.fillRect(0,0,n.width/t,n.height/t),r.globalCompositeOperation="destination-in",r.drawImage(e,0,0),this.canvas_[t]=n}ready(){return this.ready_||(this.ready_=new Promise((t=>{this.imageState_===o.Z.LOADED||this.imageState_===o.Z.ERROR?t():this.addEventListener(i.Z.CHANGE,(function e(){this.imageState_!==o.Z.LOADED&&this.imageState_!==o.Z.ERROR||(this.removeEventListener(i.Z.CHANGE,e),t())}))}))),this.ready_}}function f(t,e,n,r,i,o){let s=void 0===e?void 0:u.c1.get(e,n,i);return s||(s=new c(t,t instanceof HTMLImageElement?t.src||void 0:e,n,r,i),u.c1.set(e,n,i,s,o)),o&&s&&!u.c1.getPattern(e,n,i)&&u.c1.set(e,n,i,s,o),s}},92710:(t,e,n)=>{"use strict";n.d(e,{c1:()=>a});var r=n(70553),i=n(49791),o=n(68326);function s(t,e,n){return e+":"+t+":"+(n?(0,i._2)(n):"null")}const a=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const r=s(t,e,n);return r in this.cache_?this.cache_[r]:null}getPattern(t,e,n){const r=s(t,e,n);return r in this.patternCache_?this.patternCache_[r]:null}set(t,e,n,i,a){const h=s(t,e,n),u=h in this.cache_;this.cache_[h]=i,a&&(i.getImageState()===r.Z.IDLE&&i.load(),i.getImageState()===r.Z.LOADING?i.ready().then((()=>{this.patternCache_[h]=(0,o.W8)().createPattern(i.getImage(1),"repeat")})):this.patternCache_[h]=(0,o.W8)().createPattern(i.getImage(1),"repeat")),u||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}},28443:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(74187),i=n(4307);class o{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,i.Pq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,r.O3)()}getImage(t){return(0,r.O3)()}getHitDetectionImage(){return(0,r.O3)()}getPixelRatio(t){return 1}getImageState(){return(0,r.O3)()}getImageSize(){return(0,r.O3)()}getOrigin(){return(0,r.O3)()}getSize(){return(0,r.O3)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,i.Pq)(t)}listenImageChange(t){(0,r.O3)()}load(){(0,r.O3)()}unlistenImageChange(t){(0,r.O3)()}ready(){return Promise.resolve()}}const s=o},35393:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(70553),i=n(28443),o=n(49791),s=n(96620),a=n(68326),h=n(50147);class u extends i.Z{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?r.Z.LOADING:r.Z.LOADED,this.imageState_===r.Z.LOADING&&this.ready().then((()=>this.imageState_=r.Z.LOADED)),this.render()}clone(){const t=this.getScale(),e=new u({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const n=this.renderOptions_,r=(0,a.E4)(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){const t=r;r=i,i=t}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=i*Math.sin(s),h=r-Math.sqrt(i*i-a*a),u=Math.sqrt(a*a+h*h),l=u/a;if("miter"===t&&l<=n)return l*e;const c=e/2/l,f=e/2*(h/u),d=Math.sqrt((r+c)*(r+c)+f*f)-r;if(void 0===this.radius2_||"bevel"===t)return 2*d;const p=r*Math.sin(s),g=i-Math.sqrt(r*r-p*p),m=Math.sqrt(p*p+g*g)/p;if(m<=n){const t=m*e/2-i-r;return 2*Math.max(d,t)}return 2*d}createRenderOptions(){let t,e=h.mb,n=h.rc,r=0,i=null,o=0,a=0;this.stroke_&&(t=(0,s.y)(this.stroke_.getColor()??h.Tx),a=this.stroke_.getWidth()??h.yC,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??h.rc,e=this.stroke_.getLineCap()??h.mb,r=this.stroke_.getMiterLimit()??h.V4);const u=this.calculateLineJoinSize_(n,a,r),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:a,size:Math.ceil(2*l+u),lineCap:e,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=h.bL),e.fillStyle=(0,s.y)(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),r=0;"string"==typeof n&&(n=(0,o._2)(n)),null===n?r=1:Array.isArray(n)&&(r=4===n.length?n[3]:1),0===r&&(e=(0,a.E4)(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const i=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let s=0;s<e;s++){const e=i+s*o,a=s%2==0?n:r;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=h.bL,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const l=u},58958:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});class r{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const i=r},47539:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createDefaultStyle:()=>l,createEditingStyle:()=>c,default:()=>d,toFunction:()=>h});var r=n(30283),i=n(51345),o=n(58958),s=n(99515);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=f,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=f,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function h(t){let e;if("function"==typeof t)e=t;else{let n;Array.isArray(t)?n=t:((0,s.h)("function"==typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let u=null;function l(t,e){if(!u){const t=new i.Z({color:"rgba(255,255,255,0.4)"}),e=new o.Z({color:"#3399CC",width:1.25});u=[new a({image:new r.Z({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return u}function c(){const t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new a({fill:new i.Z({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new a({stroke:new o.Z({color:e,width:5})}),new a({stroke:new o.Z({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new a({image:new r.Z({radius:6,fill:new i.Z({color:n}),stroke:new o.Z({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function f(t){return t.getGeometry()}const d=a},94768:(t,e,n)=>{"use strict";n.d(e,{S:()=>i,e:()=>r});const r=42,i=256},6101:(t,e,n)=>{"use strict";n.d(e,{BB:()=>c,Ue:()=>i,lk:()=>o,n3:()=>a,nb:()=>u,nn:()=>s,qC:()=>h});var r=n(99515);function i(){return[1,0,0,1,0,0]}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function a(t,e,n){return i=e,o=0,s=0,a=n,h=0,u=0,(r=t)[0]=i,r[1]=o,r[2]=s,r[3]=a,r[4]=h,r[5]=u,r;var r,i,o,s,a,h,u}function h(t,e,n,r,i,o,s,a){const h=Math.sin(o),u=Math.cos(o);return t[0]=r*u,t[1]=i*h,t[2]=-r*h,t[3]=i*u,t[4]=s*r*u-a*r*h+e,t[5]=s*i*h+a*i*u+n,t}function u(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;(0,r.h)(0!==n,"Transformation matrix cannot be inverted");const o=e[0],s=e[1],a=e[2],h=e[3],u=e[4],l=e[5];return t[0]=h/n,t[1]=-s/n,t[2]=-a/n,t[3]=o/n,t[4]=(a*l-h*u)/n,t[5]=-(o*l-s*u)/n,t}new Array(6);const l=[1e6,1e6,1e6,1e6,2,2];function c(t){return"matrix("+t.map(((t,e)=>Math.round(t*l[e])/l[e])).join(", ")+")"}},74187:(t,e,n)=>{"use strict";function r(){throw new Error("Unimplemented abstract method.")}n.d(e,{O3:()=>r,sq:()=>o});let i=0;function o(t){return t.ol_uid||(t.ol_uid=String(++i))}},44946:t=>{"use strict";t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},75207:t=>{"use strict";t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:t=>{"use strict";t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},29799:t=>{"use strict";t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},18597:t=>{"use strict";t.exports={i8:"6.5.5"}},22562:t=>{"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,i.d(o,s),o},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{"use strict";var t={};i.r(t),i.d(t,{VERSION:()=>Ja,after:()=>Al,all:()=>Yl,allKeys:()=>lu,any:()=>Hl,assign:()=>Au,before:()=>Pl,bind:()=>ml,bindAll:()=>_l,chain:()=>fl,chunk:()=>kc,clone:()=>Ru,collect:()=>Ul,compact:()=>bc,compose:()=>Il,constant:()=>Xh,contains:()=>$l,countBy:()=>lc,create:()=>ku,debounce:()=>El,default:()=>Tc,defaults:()=>Pu,defer:()=>xl,delay:()=>wl,detect:()=>Bl,difference:()=>xc,drop:()=>vc,each:()=>ql,escape:()=>tl,every:()=>Yl,extend:()=>Iu,extendOwn:()=>Au,filter:()=>Xl,find:()=>Bl,findIndex:()=>Ll,findKey:()=>kl,findLastIndex:()=>Tl,findWhere:()=>Gl,first:()=>yc,flatten:()=>wc,foldl:()=>Zl,foldr:()=>Vl,forEach:()=>ql,functions:()=>Su,get:()=>Fu,groupBy:()=>hc,has:()=>ju,head:()=>yc,identity:()=>Bu,include:()=>$l,includes:()=>$l,indexBy:()=>uc,indexOf:()=>Fl,initial:()=>mc,inject:()=>Zl,intersection:()=>Cc,invert:()=>Eu,invoke:()=>Kl,isArguments:()=>zh,isArray:()=>Gh,isArrayBuffer:()=>kh,isBoolean:()=>xh,isDataView:()=>Bh,isDate:()=>Ih,isElement:()=>Mh,isEmpty:()=>nu,isEqual:()=>uu,isError:()=>Ph,isFinite:()=>Zh,isFunction:()=>Th,isMap:()=>vu,isMatch:()=>ru,isNaN:()=>Vh,isNull:()=>bh,isNumber:()=>Ch,isObject:()=>_h,isRegExp:()=>Ah,isSet:()=>bu,isString:()=>Sh,isSymbol:()=>Oh,isTypedArray:()=>Jh,isUndefined:()=>wh,isWeakMap:()=>_u,isWeakSet:()=>wu,iteratee:()=>Zu,keys:()=>eu,last:()=>_c,lastIndexOf:()=>jl,map:()=>Ul,mapObject:()=>Xu,matcher:()=>Gu,matches:()=>Gu,max:()=>tc,memoize:()=>bl,methods:()=>Su,min:()=>ec,mixin:()=>Lc,negate:()=>Cl,noop:()=>Wu,now:()=>Ku,object:()=>Pc,omit:()=>gc,once:()=>Ol,pairs:()=>Mu,partial:()=>gl,partition:()=>cc,pick:()=>pc,pluck:()=>Jl,property:()=>qu,propertyOf:()=>Yu,random:()=>$u,range:()=>Oc,reduce:()=>Zl,reduceRight:()=>Vl,reject:()=>Wl,rest:()=>vc,restArguments:()=>vh,result:()=>ul,sample:()=>ic,select:()=>Xl,shuffle:()=>oc,size:()=>fc,some:()=>Hl,sortBy:()=>sc,sortedIndex:()=>Nl,tail:()=>vc,take:()=>yc,tap:()=>Lu,template:()=>hl,templateSettings:()=>nl,throttle:()=>Ml,times:()=>Hu,toArray:()=>rc,toPath:()=>Tu,transpose:()=>Ic,unescape:()=>el,union:()=>Sc,uniq:()=>Ec,unique:()=>Ec,uniqueId:()=>cl,unzip:()=>Ic,values:()=>xu,where:()=>Ql,without:()=>Mc,wrap:()=>Sl,zip:()=>Ac}),i(21249),i(47042),i(57327),i(41539),i(92222),i(34553),i(40561),i(19601),i(85827),i(32564),i(89554),i(54747),i(66992),i(88674),i(78783),i(33948),i(65069),i(74916),i(4723),i(23123),i(82772),i(2707),i(68304),i(24812),i(30489),i(12419),i(78011),i(69070),i(82526),i(41817),i(32165),i(72443),i(39341),i(73706),i(10408),i(68309),i(79753),i(91038),i(15306),i(47941),i(44914);var e=i(35798),n=20037508.342789244,r=[[0,0],[0,1],[1,0],[0,-1],[-1,0]],o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAB3RJTUUH3QgIBToaSbAjlwAAABd0RVh0U29mdHdhcmUAR0xEUE5HIHZlciAzLjRxhaThAAAACHRwTkdHTEQzAAAAAEqAKR8AAAAEZ0FNQQAAsY8L/GEFAAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAAFRJREFUeNrtwQEBAAAAgJD+r+4ICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgBDwABHHIJwwAAAABJRU5ErkJggg==",s=256,a='<canvas width="'.concat(s,'" height="').concat(s,'" src="').concat(o,'"></canvas>');function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,s=Object.create(o.prototype),a=new I(i||[]);return r(s,"_invoke",{value:M(t,n,a)}),s}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function p(){}function g(){}function m(){}var y={};u(y,o,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(A([])));_&&_!==e&&n.call(_,o)&&(y=_);var b=m.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,o,s,a){var u=f(t[r],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==h(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function M(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=f(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===d)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return g.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:g,configurable:!0}),g.displayName=u(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(b),u(b,a,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=A,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){c(o,r,i,s,a,"next",t)}function a(t){c(o,r,i,s,a,"throw",t)}s(void 0)}))}}function d(t){return p.apply(this,arguments)}function p(){return p=f(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=4;break}return t.abrupt("return",new Promise((function(t,n){var r=e.match(/\//)?e:"pois/".concat(e),i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="json",i.onload=function(e){if(200==this.status||0==this.status)try{var r=this.response;"string"==typeof r&&(r=JSON.parse(r)),t(r)}catch(t){n(t)}else n("Fail to load poi json")},i.send()})));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function g(t,e){return m.apply(this,arguments)}function m(){return m=f(l().mark((function t(e,n){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:if(e=t.sent,!Array.isArray(e)){t.next=10;break}return t.next=6,Promise.all(e.map(function(){var t=f(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:e=(e=t.sent).length>0&&"FeatureCollection"===e[0].type?e.reduce((function(t,e,r){var i=e.id||e.properties&&e.properties.id;if(!i){if(0!==r)throw"POI layers include bad key setting";i="main"}return t[i]=y(e,i,n),t}),{}):{main:y(e,"main",n)},t.next=11;break;case 10:"FeatureCollection"===e.type?(r=e.id||e.properties&&e.properties.id||"main",e=u({},r,y(e,r,n))):Object.keys(e).map((function(t){e[t]=y(e[t],t,n)}));case 11:return e.main||(e.main=y([],"main",n)),Object.keys(e).map((function(t){_(e,t,n)})),t.abrupt("return",e);case 14:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function y(t,e,n){if(Array.isArray(t))t={pois:t.map((function(t){return v(t)}))};else if("FeatureCollection"===t.type){var r=Object.assign({},t.properties||{});t.name&&(r.name=t.name),r.pois=t.features.map((function(t){return v(t)})),t=r}if(void 0===t.id)t.id=e;else if(t.id!==e)throw"POI layers include bad key setting";return t.namespaceID||(t.namespaceID="".concat(n.namespace?"".concat(n.namespace,"#"):"").concat(e)),t.name||(t.name="main"===e?n.name:e),t.pois||(t.pois=[]),t}function v(t){if("Feature"===t.type){var e=Object.assign({},t.properties||{});e.lnglat=t.geometry.coordinates,e.id||(e.id=t.id),e.name||(e.name=t.name),t=e}return t.lnglat||(t.lnglat=[t.lng||t.longitude,t.lat||t.latitude]),delete t.lng,delete t.lat,delete t.longitude,delete t.latitude,t}function _(t,e,n){if(t[e]){var r=t[e],i=r.pois;r.__nextId||(r.__nextId=0),i.map((function(t){t.id||(t.id="".concat(e,"_").concat(r.__nextId),r.__nextId++),t.namespaceID||(t.namespaceID="".concat(n.namespace?"".concat(n.namespace,"#"):"").concat(t.id))}))}}var b=i(97057);function w(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function x(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===x(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}const M=function(t,e){void 0===e&&(e={});var n=0,r=0,i=0;return x(t,(function(t){n+=t[0],r+=t[1],i++}),!0),function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(t[0])||!w(t[1]))throw new Error("coordinates must contain numbers");return function(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}({type:"Point",coordinates:t},e,n)}([n/i,r/i],e.properties)};function E(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===E(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function S(t){var e=[1/0,1/0,-1/0,-1/0];return E(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function C(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function I(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function A(t){return"Feature"===t.type?t.geometry:t}function P(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===P(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}S.default=S,i(27418);var O=i(72273);function k(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(P(t,(function(t){n.push([t[0],t[1]])})),!n.length)return null;var r=O(n,e.concavity);return r.length>3?function(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return function(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}({type:"Polygon",coordinates:t},e,n)}([r]):null}function R(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=C(t),i=A(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,s))return!1;"Polygon"===o&&(a=[a]);for(var h=!1,u=0;u<a.length&&!h;u++)if(L(r,a[u][0],n.ignoreBoundary)){for(var l=!1,c=1;c<a[u].length&&!l;)L(r,a[u][c],!n.ignoreBoundary)&&(l=!0),c++;l||(h=!0)}return h}function L(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],h=e[o][0],u=e[o][1];if(t[1]*(s-h)+a*(h-t[0])+u*(t[0]-s)==0&&(s-t[0])*(h-t[0])<=0&&(a-t[1])*(u-t[1])<=0)return!n;a>t[1]!=u>t[1]&&t[0]<(h-s)*(t[1]-a)/(u-a)+s&&(r=!r)}return r}Object.prototype.hasOwnProperty;var T=new ArrayBuffer(16);function N(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===N(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function D(t){var e=[1/0,1/0,-1/0,-1/0];return N(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function F(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===F(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function j(t){var e=[1/0,1/0,-1/0,-1/0];return F(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}new Float64Array(T),new Uint32Array(T),D.default=D,i(67),function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}(),j.default=j;const B=j;const G=function(t){return function(t,e){void 0===e&&(e={});var n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,r];return function(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return function(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}({type:"Polygon",coordinates:t},e,n)}([[s,[i,r],[i,o],[n,o],s]],e.properties,{bbox:t,id:e.id})}(B(t))};function q(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===q(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function U(t){var e=[1/0,1/0,-1/0,-1/0];return q(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function z(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Z(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return z({type:"Polygon",coordinates:t},e,n)}function V(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===V(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function X(t){var e=[1/0,1/0,-1/0,-1/0];return V(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function W(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Y(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function H(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function $(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function K(t,e){!function(t,e){var n,r,i,o,s,a,h,u,l,c,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,g=d?t.features.length:1;for(n=0;n<g;n++){for(a=d?t.features[n].geometry:p?t.geometry:t,u=d?t.features[n].properties:p?t.properties:{},l=d?t.features[n].bbox:p?t.bbox:void 0,c=d?t.features[n].id:p?t.id:void 0,s=(h=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=h?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,u,l,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,u,l,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,l,c))return!1;f++}}(t,(function(t,n,r,i,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e($(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var h=0;h<t.coordinates.length;h++){var u=t.coordinates[h];if(!1===e($({type:s,coordinates:u},r),n,h))return!1}}))}U.default=U,X.default=X,i(9187);const J=function(t){if(!t)throw new Error("geojson is required");var e=[];return K(t,(function(t){!function(t,e){var n=[],r=t.geometry;if(null!==r){switch(r.type){case"Polygon":n=I(r);break;case"LineString":n=[I(r)]}n.forEach((function(n){var r=function(t,e){var n=[];return t.reduce((function(t,r){var i,o,s,a,h,u,l=function(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return $({type:"LineString",coordinates:t},e,n)}([t,r],e);return l.bbox=(o=r,s=(i=t)[0],a=i[1],h=o[0],u=o[1],[s<h?s:h,a<u?a:u,s>h?s:h,a>u?a:u]),n.push(l),r})),n}(n,t.properties);r.forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),function(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}(e)};function Q(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}var tt=i(51787);function et(t,e){var n=I(t),r=I(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],s=n[1][0],a=n[1][1],h=r[0][0],u=r[0][1],l=r[1][0],c=r[1][1],f=(c-u)*(s-i)-(l-h)*(a-o);if(0===f)return null;var d=((l-h)*(o-u)-(c-u)*(i-h))/f,p=((s-i)*(o-u)-(a-o)*(i-h))/f;return d>=0&&d<=1&&p>=0&&p<=1?function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!H(t[0])||!H(t[1]))throw new Error("coordinates must contain numbers");return W({type:"Point",coordinates:t},e,n)}([i+d*(s-i),o+d*(a-o)]):null}const nt=function(t,e){var n={},r=[];if("LineString"===t.type&&(t=W(t)),"LineString"===e.type&&(e=W(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var i=et(t,e);return i&&r.push(i),Y(r)}var o=tt();return o.load(J(e)),Q(J(t),(function(t){Q(o.search(t),(function(e){var i=et(t,e);if(i){var o=I(i).join(",");n[o]||(n[o]=!0,r.push(i))}}))})),Y(r)};function rt(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===rt(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function it(t){var e=[1/0,1/0,-1/0,-1/0];return rt(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}it.default=it,i(64860);var ot=Math.PI/180,st=180/Math.PI,at=function(t,e){this.lon=t,this.lat=e,this.x=ot*t,this.y=ot*e};at.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},at.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new at(e,t)};var ht=function(){this.coords=[],this.length=0};ht.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ut=function(t){this.properties=t||{},this.geometries=[]};ut.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ut.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var lt=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new at(t.x,t.y),this.end=new at(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};function ct(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===ct(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ft(t){var e=[1/0,1/0,-1/0,-1/0];return ct(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function dt(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===dt(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function pt(t){var e=[1/0,1/0,-1/0,-1/0];return dt(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function gt(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===gt(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function mt(t){var e=[1/0,1/0,-1/0,-1/0];return gt(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function yt(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===yt(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function vt(t){var e=[1/0,1/0,-1/0,-1/0];return yt(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}lt.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=st*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[st*Math.atan2(i,r),s]},lt.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,h=0,u=e&&e.offset?e.offset:10,l=180-u,c=-180+u,f=360-u,d=1;d<n.length;++d){var p=n[d-1][0],g=n[d][0],m=Math.abs(g-p);m>f&&(g>l&&p<c||p>l&&g<c)?a=!0:m>h&&(h=m)}var y=[];if(a&&h<u){var v=[];y.push(v);for(var _=0;_<n.length;++_){var b=parseFloat(n[_][0]);if(_>0&&Math.abs(b-n[_-1][0])>f){var w=parseFloat(n[_-1][0]),x=parseFloat(n[_-1][1]),M=parseFloat(n[_][0]),E=parseFloat(n[_][1]);if(w>-180&&w<c&&180===M&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<c){v.push([-180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(w>l&&w<180&&-180===M&&_+1<n.length&&n[_-1][0]>l&&n[_-1][0]<180){v.push([180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(w<c&&M>l){var S=w;w=M,M=S;var C=x;x=E,E=C}if(w>l&&M<c&&(M+=360),w<=180&&M>=180&&w<M){var I=(180-w)/(M-w),A=I*E+(1-I)*x;v.push([n[_-1][0]>l?180:-180,A]),(v=[]).push([n[_-1][0]>l?-180:180,A]),y.push(v)}else v=[],y.push(v);v.push([b,n[_][1]])}else v.push([n[_][0],n[_][1]])}}else{var P=[];y.push(P);for(var O=0;O<n.length;++O)P.push([n[O][0],n[O][1]])}for(var k=new ut(this.properties),R=0;R<y.length;++R){var L=new ht;k.geometries.push(L);for(var T=y[R],N=0;N<T.length;++N)L.move_to(T[N])}return k},ft.default=ft,pt.default=pt,i(10251),mt.default=mt,vt.default=vt;var _t=[],bt=[],wt=[],xt=[],Mt=[],Et=[],St=[],Ct=[],It=[],At=[],Pt=[],Ot=[],kt=[],Rt=[],Lt=[],Tt=[],Nt=[],Dt=[],Ft=[],jt=[],Bt=[],Gt=[],qt=[],Ut=[];St[85]=At[85]=-1,Ct[85]=Pt[85]=0,It[85]=Ot[85]=1,Ft[85]=Gt[85]=1,jt[85]=qt[85]=0,Bt[85]=Ut[85]=1,_t[85]=xt[85]=0,bt[85]=Mt[85]=-1,wt[85]=Lt[85]=0,Tt[85]=kt[85]=0,Nt[85]=Rt[85]=1,Et[85]=Dt[85]=1,Gt[1]=Gt[169]=0,qt[1]=qt[169]=-1,Ut[1]=Ut[169]=0,kt[1]=kt[169]=-1,Rt[1]=Rt[169]=0,Lt[1]=Lt[169]=0,At[4]=At[166]=0,Pt[4]=Pt[166]=-1,Ot[4]=Ot[166]=1,Tt[4]=Tt[166]=1,Nt[4]=Nt[166]=0,Dt[4]=Dt[166]=0,St[16]=St[154]=0,Ct[16]=Ct[154]=1,It[16]=It[154]=1,xt[16]=xt[154]=1,Mt[16]=Mt[154]=0,Et[16]=Et[154]=1,Ft[64]=Ft[106]=0,jt[64]=jt[106]=1,Bt[64]=Bt[106]=0,_t[64]=_t[106]=-1,bt[64]=bt[106]=0,wt[64]=wt[106]=1,Ft[2]=Ft[168]=0,jt[2]=jt[168]=-1,Bt[2]=Bt[168]=1,Gt[2]=Gt[168]=0,qt[2]=qt[168]=-1,Ut[2]=Ut[168]=0,kt[2]=kt[168]=-1,Rt[2]=Rt[168]=0,Lt[2]=Lt[168]=0,Tt[2]=Tt[168]=-1,Nt[2]=Nt[168]=0,Dt[2]=Dt[168]=1,St[8]=St[162]=0,Ct[8]=Ct[162]=-1,It[8]=It[162]=0,At[8]=At[162]=0,Pt[8]=Pt[162]=-1,Ot[8]=Ot[162]=1,kt[8]=kt[162]=1,Rt[8]=Rt[162]=0,Lt[8]=Lt[162]=1,Tt[8]=Tt[162]=1,Nt[8]=Nt[162]=0,Dt[8]=Dt[162]=0,St[32]=St[138]=0,Ct[32]=Ct[138]=1,It[32]=It[138]=1,At[32]=At[138]=0,Pt[32]=Pt[138]=1,Ot[32]=Ot[138]=0,_t[32]=_t[138]=1,bt[32]=bt[138]=0,wt[32]=wt[138]=0,xt[32]=xt[138]=1,Mt[32]=Mt[138]=0,Et[32]=Et[138]=1,Gt[128]=Gt[42]=0,qt[128]=qt[42]=1,Ut[128]=Ut[42]=1,Ft[128]=Ft[42]=0,jt[128]=jt[42]=1,Bt[128]=Bt[42]=0,_t[128]=_t[42]=-1,bt[128]=bt[42]=0,wt[128]=wt[42]=1,xt[128]=xt[42]=-1,Mt[128]=Mt[42]=0,Et[128]=Et[42]=0,At[5]=At[165]=-1,Pt[5]=Pt[165]=0,Ot[5]=Ot[165]=0,Gt[5]=Gt[165]=1,qt[5]=qt[165]=0,Ut[5]=Ut[165]=0,Tt[20]=Tt[150]=0,Nt[20]=Nt[150]=1,Dt[20]=Dt[150]=1,xt[20]=xt[150]=0,Mt[20]=Mt[150]=-1,Et[20]=Et[150]=1,St[80]=St[90]=-1,Ct[80]=Ct[90]=0,It[80]=It[90]=1,Ft[80]=Ft[90]=1,jt[80]=jt[90]=0,Bt[80]=Bt[90]=1,kt[65]=kt[105]=0,Rt[65]=Rt[105]=1,Lt[65]=Lt[105]=0,_t[65]=_t[105]=0,bt[65]=bt[105]=-1,wt[65]=wt[105]=0,St[160]=St[10]=-1,Ct[160]=Ct[10]=0,It[160]=It[10]=1,At[160]=At[10]=-1,Pt[160]=Pt[10]=0,Ot[160]=Ot[10]=0,Gt[160]=Gt[10]=1,qt[160]=qt[10]=0,Ut[160]=Ut[10]=0,Ft[160]=Ft[10]=1,jt[160]=jt[10]=0,Bt[160]=Bt[10]=1,Tt[130]=Tt[40]=0,Nt[130]=Nt[40]=1,Dt[130]=Dt[40]=1,kt[130]=kt[40]=0,Rt[130]=Rt[40]=1,Lt[130]=Lt[40]=0,_t[130]=_t[40]=0,bt[130]=bt[40]=-1,wt[130]=wt[40]=0,xt[130]=xt[40]=0,Mt[130]=Mt[40]=-1,Et[130]=Et[40]=1,At[37]=At[133]=0,Pt[37]=Pt[133]=1,Ot[37]=Ot[133]=1,Gt[37]=Gt[133]=0,qt[37]=qt[133]=1,Ut[37]=Ut[133]=0,_t[37]=_t[133]=-1,bt[37]=bt[133]=0,wt[37]=wt[133]=0,xt[37]=xt[133]=1,Mt[37]=Mt[133]=0,Et[37]=Et[133]=0,Tt[148]=Tt[22]=-1,Nt[148]=Nt[22]=0,Dt[148]=Dt[22]=0,Gt[148]=Gt[22]=0,qt[148]=qt[22]=-1,Ut[148]=Ut[22]=1,Ft[148]=Ft[22]=0,jt[148]=jt[22]=1,Bt[148]=Bt[22]=1,xt[148]=xt[22]=-1,Mt[148]=Mt[22]=0,Et[148]=Et[22]=1,St[82]=St[88]=0,Ct[82]=Ct[88]=-1,It[82]=It[88]=1,Tt[82]=Tt[88]=1,Nt[82]=Nt[88]=0,Dt[82]=Dt[88]=1,kt[82]=kt[88]=-1,Rt[82]=Rt[88]=0,Lt[82]=Lt[88]=1,Ft[82]=Ft[88]=0,jt[82]=jt[88]=-1,Bt[82]=Bt[88]=0,St[73]=St[97]=0,Ct[73]=Ct[97]=1,It[73]=It[97]=0,At[73]=At[97]=0,Pt[73]=Pt[97]=-1,Ot[73]=Ot[97]=0,kt[73]=kt[97]=1,Rt[73]=Rt[97]=0,Lt[73]=Lt[97]=0,_t[73]=_t[97]=1,bt[73]=bt[97]=0,wt[73]=wt[97]=1,St[145]=St[25]=0,Ct[145]=Ct[25]=-1,It[145]=It[25]=0,kt[145]=kt[25]=1,Rt[145]=Rt[25]=0,Lt[145]=Lt[25]=1,Gt[145]=Gt[25]=0,qt[145]=qt[25]=1,Ut[145]=Ut[25]=1,xt[145]=xt[25]=-1,Mt[145]=Mt[25]=0,Et[145]=Et[25]=0,At[70]=At[100]=0,Pt[70]=Pt[100]=1,Ot[70]=Ot[100]=0,Tt[70]=Tt[100]=-1,Nt[70]=Nt[100]=0,Dt[70]=Dt[100]=1,Ft[70]=Ft[100]=0,jt[70]=jt[100]=-1,Bt[70]=Bt[100]=1,_t[70]=_t[100]=1,bt[70]=bt[100]=0,wt[70]=wt[100]=0,At[101]=At[69]=0,Pt[101]=Pt[69]=1,Ot[101]=Ot[69]=0,_t[101]=_t[69]=1,bt[101]=bt[69]=0,wt[101]=wt[69]=0,Gt[149]=Gt[21]=0,qt[149]=qt[21]=1,Ut[149]=Ut[21]=1,xt[149]=xt[21]=-1,Mt[149]=Mt[21]=0,Et[149]=Et[21]=0,Tt[86]=Tt[84]=-1,Nt[86]=Nt[84]=0,Dt[86]=Dt[84]=1,Ft[86]=Ft[84]=0,jt[86]=jt[84]=-1,Bt[86]=Bt[84]=1,St[89]=St[81]=0,Ct[89]=Ct[81]=-1,It[89]=It[81]=0,kt[89]=kt[81]=1,Rt[89]=Rt[81]=0,Lt[89]=Lt[81]=1,St[96]=St[74]=0,Ct[96]=Ct[74]=1,It[96]=It[74]=0,At[96]=At[74]=-1,Pt[96]=Pt[74]=0,Ot[96]=Ot[74]=1,Ft[96]=Ft[74]=1,jt[96]=jt[74]=0,Bt[96]=Bt[74]=0,_t[96]=_t[74]=1,bt[96]=bt[74]=0,wt[96]=wt[74]=1,St[24]=St[146]=0,Ct[24]=Ct[146]=-1,It[24]=It[146]=1,Tt[24]=Tt[146]=1,Nt[24]=Nt[146]=0,Dt[24]=Dt[146]=1,kt[24]=kt[146]=0,Rt[24]=Rt[146]=1,Lt[24]=Lt[146]=1,xt[24]=xt[146]=0,Mt[24]=Mt[146]=-1,Et[24]=Et[146]=0,At[6]=At[164]=-1,Pt[6]=Pt[164]=0,Ot[6]=Ot[164]=1,Tt[6]=Tt[164]=-1,Nt[6]=Nt[164]=0,Dt[6]=Dt[164]=0,Gt[6]=Gt[164]=0,qt[6]=qt[164]=-1,Ut[6]=Ut[164]=1,Ft[6]=Ft[164]=1,jt[6]=jt[164]=0,Bt[6]=Bt[164]=0,kt[129]=kt[41]=0,Rt[129]=Rt[41]=1,Lt[129]=Lt[41]=1,Gt[129]=Gt[41]=0,qt[129]=qt[41]=1,Ut[129]=Ut[41]=0,_t[129]=_t[41]=-1,bt[129]=bt[41]=0,wt[129]=wt[41]=0,xt[129]=xt[41]=0,Mt[129]=Mt[41]=-1,Et[129]=Et[41]=0,Tt[66]=Tt[104]=0,Nt[66]=Nt[104]=1,Dt[66]=Dt[104]=0,kt[66]=kt[104]=-1,Rt[66]=Rt[104]=0,Lt[66]=Lt[104]=1,Ft[66]=Ft[104]=0,jt[66]=jt[104]=-1,Bt[66]=Bt[104]=0,_t[66]=_t[104]=0,bt[66]=bt[104]=-1,wt[66]=wt[104]=1,St[144]=St[26]=-1,Ct[144]=Ct[26]=0,It[144]=It[26]=0,Gt[144]=Gt[26]=1,qt[144]=qt[26]=0,Ut[144]=Ut[26]=1,Ft[144]=Ft[26]=0,jt[144]=jt[26]=1,Bt[144]=Bt[26]=1,xt[144]=xt[26]=-1,Mt[144]=Mt[26]=0,Et[144]=Et[26]=1,At[36]=At[134]=0,Pt[36]=Pt[134]=1,Ot[36]=Ot[134]=1,Tt[36]=Tt[134]=0,Nt[36]=Nt[134]=1,Dt[36]=Dt[134]=0,_t[36]=_t[134]=0,bt[36]=bt[134]=-1,wt[36]=wt[134]=1,xt[36]=xt[134]=1,Mt[36]=Mt[134]=0,Et[36]=Et[134]=0,St[9]=St[161]=-1,Ct[9]=Ct[161]=0,It[9]=It[161]=0,At[9]=At[161]=0,Pt[9]=Pt[161]=-1,Ot[9]=Ot[161]=0,kt[9]=kt[161]=1,Rt[9]=Rt[161]=0,Lt[9]=Lt[161]=0,Gt[9]=Gt[161]=1,qt[9]=qt[161]=0,Ut[9]=Ut[161]=1,St[136]=0,Ct[136]=1,It[136]=1,At[136]=0,Pt[136]=1,Ot[136]=0,Tt[136]=-1,Nt[136]=0,Dt[136]=1,kt[136]=-1,Rt[136]=0,Lt[136]=0,Gt[136]=0,qt[136]=-1,Ut[136]=0,Ft[136]=0,jt[136]=-1,Bt[136]=1,_t[136]=1,bt[136]=0,wt[136]=0,xt[136]=1,Mt[136]=0,Et[136]=1,St[34]=0,Ct[34]=-1,It[34]=0,At[34]=0,Pt[34]=-1,Ot[34]=1,Tt[34]=1,Nt[34]=0,Dt[34]=0,kt[34]=1,Rt[34]=0,Lt[34]=1,Gt[34]=0,qt[34]=1,Ut[34]=1,Ft[34]=0,jt[34]=1,Bt[34]=0,_t[34]=-1,bt[34]=0,wt[34]=1,xt[34]=-1,Mt[34]=0,Et[34]=0,St[35]=0,Ct[35]=1,It[35]=1,At[35]=0,Pt[35]=-1,Ot[35]=1,Tt[35]=1,Nt[35]=0,Dt[35]=0,kt[35]=-1,Rt[35]=0,Lt[35]=0,Gt[35]=0,qt[35]=-1,Ut[35]=0,Ft[35]=0,jt[35]=1,Bt[35]=0,_t[35]=-1,bt[35]=0,wt[35]=1,xt[35]=1,Mt[35]=0,Et[35]=1,St[153]=0,Ct[153]=1,It[153]=1,kt[153]=-1,Rt[153]=0,Lt[153]=0,Gt[153]=0,qt[153]=-1,Ut[153]=0,xt[153]=1,Mt[153]=0,Et[153]=1,At[102]=0,Pt[102]=-1,Ot[102]=1,Tt[102]=1,Nt[102]=0,Dt[102]=0,Ft[102]=0,jt[102]=1,Bt[102]=0,_t[102]=-1,bt[102]=0,wt[102]=1,St[155]=0,Ct[155]=-1,It[155]=0,kt[155]=1,Rt[155]=0,Lt[155]=1,Gt[155]=0,qt[155]=1,Ut[155]=1,xt[155]=-1,Mt[155]=0,Et[155]=0,At[103]=0,Pt[103]=1,Ot[103]=0,Tt[103]=-1,Nt[103]=0,Dt[103]=1,Ft[103]=0,jt[103]=-1,Bt[103]=1,_t[103]=1,bt[103]=0,wt[103]=0,St[152]=0,Ct[152]=1,It[152]=1,Tt[152]=-1,Nt[152]=0,Dt[152]=1,kt[152]=-1,Rt[152]=0,Lt[152]=0,Gt[152]=0,qt[152]=-1,Ut[152]=0,Ft[152]=0,jt[152]=-1,Bt[152]=1,xt[152]=1,Mt[152]=0,Et[152]=1,St[156]=0,Ct[156]=-1,It[156]=1,Tt[156]=1,Nt[156]=0,Dt[156]=1,kt[156]=-1,Rt[156]=0,Lt[156]=0,Gt[156]=0,qt[156]=-1,Ut[156]=0,Ft[156]=0,jt[156]=1,Bt[156]=1,xt[156]=-1,Mt[156]=0,Et[156]=1,St[137]=0,Ct[137]=1,It[137]=1,At[137]=0,Pt[137]=1,Ot[137]=0,kt[137]=-1,Rt[137]=0,Lt[137]=0,Gt[137]=0,qt[137]=-1,Ut[137]=0,_t[137]=1,bt[137]=0,wt[137]=0,xt[137]=1,Mt[137]=0,Et[137]=1,St[139]=0,Ct[139]=1,It[139]=1,At[139]=0,Pt[139]=-1,Ot[139]=0,kt[139]=1,Rt[139]=0,Lt[139]=0,Gt[139]=0,qt[139]=1,Ut[139]=0,_t[139]=-1,bt[139]=0,wt[139]=0,xt[139]=1,Mt[139]=0,Et[139]=1,St[98]=0,Ct[98]=-1,It[98]=0,At[98]=0,Pt[98]=-1,Ot[98]=1,Tt[98]=1,Nt[98]=0,Dt[98]=0,kt[98]=1,Rt[98]=0,Lt[98]=1,Ft[98]=0,jt[98]=1,Bt[98]=0,_t[98]=-1,bt[98]=0,wt[98]=1,St[99]=0,Ct[99]=1,It[99]=0,At[99]=0,Pt[99]=-1,Ot[99]=1,Tt[99]=1,Nt[99]=0,Dt[99]=0,kt[99]=-1,Rt[99]=0,Lt[99]=1,Ft[99]=0,jt[99]=-1,Bt[99]=0,_t[99]=1,bt[99]=0,wt[99]=1,At[38]=0,Pt[38]=-1,Ot[38]=1,Tt[38]=1,Nt[38]=0,Dt[38]=0,Gt[38]=0,qt[38]=1,Ut[38]=1,Ft[38]=0,jt[38]=1,Bt[38]=0,_t[38]=-1,bt[38]=0,wt[38]=1,xt[38]=-1,Mt[38]=0,Et[38]=0,At[39]=0,Pt[39]=1,Ot[39]=1,Tt[39]=-1,Nt[39]=0,Dt[39]=0,Gt[39]=0,qt[39]=-1,Ut[39]=1,Ft[39]=0,jt[39]=1,Bt[39]=0,_t[39]=-1,bt[39]=0,wt[39]=1,xt[39]=1,Mt[39]=0,Et[39]=0;var zt=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Zt=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Vt=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},Xt=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Wt=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Yt=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},Ht=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},$t=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Kt=[],Jt=[],Qt=[],te=[],ee=[],ne=[],re=[],ie=[];te[1]=ee[1]=18,te[169]=ee[169]=18,Qt[4]=Jt[4]=12,Qt[166]=Jt[166]=12,Kt[16]=ie[16]=4,Kt[154]=ie[154]=4,ne[64]=re[64]=22,ne[106]=re[106]=22,Qt[2]=ne[2]=17,te[2]=ee[2]=18,Qt[168]=ne[168]=17,te[168]=ee[168]=18,Kt[8]=te[8]=9,Jt[8]=Qt[8]=12,Kt[162]=te[162]=9,Jt[162]=Qt[162]=12,Kt[32]=ie[32]=4,Jt[32]=re[32]=1,Kt[138]=ie[138]=4,Jt[138]=re[138]=1,ee[128]=ie[128]=21,ne[128]=re[128]=22,ee[42]=ie[42]=21,ne[42]=re[42]=22,Jt[5]=ee[5]=14,Jt[165]=ee[165]=14,Qt[20]=ie[20]=6,Qt[150]=ie[150]=6,Kt[80]=ne[80]=11,Kt[90]=ne[90]=11,te[65]=re[65]=3,te[105]=re[105]=3,Kt[160]=ne[160]=11,Jt[160]=ee[160]=14,Kt[10]=ne[10]=11,Jt[10]=ee[10]=14,Qt[130]=ie[130]=6,te[130]=re[130]=3,Qt[40]=ie[40]=6,te[40]=re[40]=3,Jt[101]=re[101]=1,Jt[69]=re[69]=1,ee[149]=ie[149]=21,ee[21]=ie[21]=21,Qt[86]=ne[86]=17,Qt[84]=ne[84]=17,Kt[89]=te[89]=9,Kt[81]=te[81]=9,Kt[96]=re[96]=0,Jt[96]=ne[96]=15,Kt[74]=re[74]=0,Jt[74]=ne[74]=15,Kt[24]=Qt[24]=8,te[24]=ie[24]=7,Kt[146]=Qt[146]=8,te[146]=ie[146]=7,Jt[6]=ne[6]=15,Qt[6]=ee[6]=16,Jt[164]=ne[164]=15,Qt[164]=ee[164]=16,te[129]=ie[129]=7,ee[129]=re[129]=20,te[41]=ie[41]=7,ee[41]=re[41]=20,Qt[66]=re[66]=2,te[66]=ne[66]=19,Qt[104]=re[104]=2,te[104]=ne[104]=19,Kt[144]=ee[144]=10,ne[144]=ie[144]=23,Kt[26]=ee[26]=10,ne[26]=ie[26]=23,Jt[36]=ie[36]=5,Qt[36]=re[36]=2,Jt[134]=ie[134]=5,Qt[134]=re[134]=2,Kt[9]=ee[9]=10,Jt[9]=te[9]=13,Kt[161]=ee[161]=10,Jt[161]=te[161]=13,Jt[37]=ie[37]=5,ee[37]=re[37]=20,Jt[133]=ie[133]=5,ee[133]=re[133]=20,Qt[148]=ee[148]=16,ne[148]=ie[148]=23,Qt[22]=ee[22]=16,ne[22]=ie[22]=23,Kt[82]=Qt[82]=8,te[82]=ne[82]=19,Kt[88]=Qt[88]=8,te[88]=ne[88]=19,Kt[73]=re[73]=0,Jt[73]=te[73]=13,Kt[97]=re[97]=0,Jt[97]=te[97]=13,Kt[145]=te[145]=9,ee[145]=ie[145]=21,Kt[25]=te[25]=9,ee[25]=ie[25]=21,Jt[70]=re[70]=1,Qt[70]=ne[70]=17,Jt[100]=re[100]=1,Qt[100]=ne[100]=17,Kt[34]=te[34]=9,Jt[34]=Qt[34]=12,ee[34]=ie[34]=21,ne[34]=re[34]=22,Kt[136]=ie[136]=4,Jt[136]=re[136]=1,Qt[136]=ne[136]=17,te[136]=ee[136]=18,Kt[35]=ie[35]=4,Jt[35]=Qt[35]=12,te[35]=ee[35]=18,ne[35]=re[35]=22,Kt[153]=ie[153]=4,te[153]=ee[153]=18,Jt[102]=Qt[102]=12,ne[102]=re[102]=22,Kt[155]=te[155]=9,ee[155]=ie[155]=23,Jt[103]=re[103]=1,Qt[103]=ne[103]=17,Kt[152]=ie[152]=4,Qt[152]=ne[152]=17,te[152]=ee[152]=18,Kt[156]=Qt[156]=8,te[156]=ee[156]=18,ne[156]=ie[156]=23,Kt[137]=ie[137]=4,Jt[137]=re[137]=1,te[137]=ee[137]=18,Kt[139]=ie[139]=4,Jt[139]=te[139]=13,ee[139]=re[139]=20,Kt[98]=te[98]=9,Jt[98]=Qt[98]=12,ne[98]=re[98]=22,Kt[99]=re[99]=0,Jt[99]=Qt[99]=12,te[99]=ne[99]=19,Jt[38]=Qt[38]=12,ee[38]=ie[38]=21,ne[38]=re[38]=22,Jt[39]=ie[39]=5,Qt[39]=ee[39]=16,ne[39]=re[39]=22;var oe=[];function se(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===se(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ae(t){var e=[1/0,1/0,-1/0,-1/0];return se(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function he(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function ue(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!le(t[0])||!le(t[1]))throw new Error("coordinates must contain numbers");return he({type:"Point",coordinates:t},e,n)}function le(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function ce(t,e,n){var r,i=e[0]-t[0],o=e[1]-t[1],s=n[0]-e[0];return((r=i*(n[1]-e[1])-s*o)>0)-(r<0)||+r}function fe(t,e){return e.geometry.coordinates[0].every((function(e){return R(ue(e),t)}))}oe[1]=oe[169]=zt,oe[4]=oe[166]=Zt,oe[16]=oe[154]=Vt,oe[64]=oe[106]=Xt,oe[168]=oe[2]=Wt,oe[162]=oe[8]=Yt,oe[138]=oe[32]=Ht,oe[42]=oe[128]=$t,oe[5]=oe[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},oe[20]=oe[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},oe[80]=oe[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},oe[65]=oe[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},oe[160]=oe[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},oe[130]=oe[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},oe[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},oe[101]=oe[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},oe[149]=oe[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},oe[86]=oe[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},oe[89]=oe[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},oe[96]=oe[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},oe[24]=oe[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},oe[6]=oe[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},oe[129]=oe[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},oe[66]=oe[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},oe[144]=oe[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},oe[36]=oe[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},oe[9]=oe[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},oe[37]=oe[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},oe[148]=oe[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},oe[82]=oe[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},oe[73]=oe[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},oe[145]=oe[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},oe[70]=oe[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},oe[34]=function(t){return[$t(t),Yt(t)]},oe[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},oe[136]=function(t){return[Ht(t),Wt(t)]},oe[153]=function(t){return[Vt(t),zt(t)]},oe[102]=function(t){return[Zt(t),Xt(t)]},oe[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},oe[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},oe[152]=function(t){return[Vt(t),Wt(t)]},oe[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},oe[137]=function(t){return[Ht(t),zt(t)]},oe[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},oe[98]=function(t){return[Yt(t),Xt(t)]},oe[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},oe[38]=function(t){return[Zt(t),$t(t)]},oe[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ae.default=ae;var de=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=ce(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}();const pe=de,ge=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return function(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return he({type:"LineString",coordinates:t},e,n)}([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return ce(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}();var me=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=ce(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return t=this.edges.map((function(t){return t.from.coordinates})),void 0===n&&(n={}),he({type:"MultiPoint",coordinates:t},e,n);var t,e,n},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=function(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return he({type:"Polygon",coordinates:t},e,n)}([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=G(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,r,i=t.getEnvelope();return e.forEach((function(e){var o,s,a,h,u,l,c=e.getEnvelope();if(r&&(n=r.getEnvelope()),s=i,a=(o=c).geometry.coordinates[0].map((function(t){return t[0]})),h=o.geometry.coordinates[0].map((function(t){return t[1]})),u=s.geometry.coordinates[0].map((function(t){return t[0]})),l=s.geometry.coordinates[0].map((function(t){return t[1]})),(Math.max.apply(null,a)!==Math.max.apply(null,u)||Math.max.apply(null,h)!==Math.max.apply(null,l)||Math.min.apply(null,a)!==Math.min.apply(null,u)||Math.min.apply(null,h)!==Math.min.apply(null,l))&&fe(c,i)){for(var f=t.map((function(t){return t.from.coordinates})),d=void 0,p=function(t){e.some((function(e){return n=t,r=e.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))||(d=t)},g=0,m=f;g<m.length;g++)p(m[g]);d&&e.inside(ue(d))&&(r&&!fe(n,c)||(r=e))}})),r},t.prototype.inside=function(t){return R(t,this.toPolygon())},t}();const ye=me;function ve(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===ve(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function _e(t,e){!function(t,e){var n,r,i,o,s,a,h,u,l,c,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,g=d?t.features.length:1;for(n=0;n<g;n++){for(a=d?t.features[n].geometry:p?t.geometry:t,u=d?t.features[n].properties:p?t.properties:{},l=d?t.features[n].bbox:p?t.bbox:void 0,c=d?t.features[n].id:p?t.id:void 0,s=(h=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=h?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,u,l,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,u,l,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,l,c))return!1;f++}}(t,(function(t,n,r,i,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(he(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var h=0;h<t.coordinates.length;h++){var u=t.coordinates[h];if(!1===e(he({type:s,coordinates:u},r),n,h))return!1}}))}function be(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===be(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function we(t){var e=[1/0,1/0,-1/0,-1/0];return be(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function xe(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===xe(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Me(t){var e=[1/0,1/0,-1/0,-1/0];return xe(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function Ee(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return _e(e,(function(t){var e,r,i;!function(t,e,n){if(!t)throw new Error("No feature passed");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}(t,"LineString","Graph::fromGeoJson"),e=function(t,e){if(t){var r=n.getNode(t),i=n.getNode(e);n.addEdge(r,i)}return e},i=r,ve(t,(function(t,n,r,o,s){i=0===n?t:e(i,t)}),undefined)})),n},t.prototype.getNode=function(t){var e=pe.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new pe(t)),n},t.prototype.addEdge=function(t,e){var n=new ge(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,h=void 0,u=void 0;s.label===e&&(h=s),a.label===e&&(u=a),h&&u&&(u&&(r=u),h&&(r&&(r.next=h,r=void 0),n||(n=h)))}r&&(r.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new ye;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}}(),we.default=we,i(29657),i(52606),i(21160),Me.default=Me;var Se={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Se.heuristics.manhattan,o=r.closest||!1,s=new Ae((function(t){return t.f})),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var h=s.pop();if(h===n)return Ee(h);h.closed=!0;for(var u=t.neighbors(h),l=0,c=u.length;l<c;++l){var f=u[l];if(!f.closed&&!f.isWall()){var d=h.g+f.getCost(h),p=f.visited;(!p||d<f.g)&&(f.visited=!0,f.parent=h,f.h=f.h||i(f,n),f.g=d,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),p?s.rescoreElement(f):s.push(f))}}}return o?Ee(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function Ce(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Ie(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Ie(t,e,n){this.x=t,this.y=e,this.weight=n}function Ae(t){this.content=[],this.scoreFunction=t}function Pe(){this._=null}function Oe(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ke(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Re(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Le(t){for(;t.L;)t=t.L;return t}Ce.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Se.cleanNode(this.nodes[t])},Ce.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Se.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Ce.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Ce.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Ce.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Ie.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Ie.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Ie.prototype.isWall=function(){return 0===this.weight},Ae.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var h=this.content[s];(i=this.scoreFunction(h))<r&&(a=s)}if(o<e){var u=this.content[o];this.scoreFunction(u)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}},Pe.prototype={constructor:Pe,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Le(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ke(this,n),n=(t=n).U),n.C=!1,r.C=!0,Re(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Re(this,n),n=(t=n).U),n.C=!1,r.C=!0,ke(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Le(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ke(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Re(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ke(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Re(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ke(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Re(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const Te=Pe;function Ne(t,e,n,r){var i=[null,null],o=sn.push(i)-1;return i.left=t,i.right=e,n&&Fe(i,t,e,n),r&&Fe(i,e,t,r),rn[t.index].halfedges.push(o),rn[e.index].halfedges.push(o),i}function De(t,e,n){var r=[e,n];return r.left=t,r}function Fe(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function je(t,e,n,r,i){var o,s=t[0],a=t[1],h=s[0],u=s[1],l=0,c=1,f=a[0]-h,d=a[1]-u;if(o=e-h,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=r-h,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<c&&(c=o)}return!(l>0||c<1)||(l>0&&(t[0]=[h+l*f,u+l*d]),c<1&&(t[1]=[h+c*f,u+c*d]),!0)}}}}}function Be(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,h=t[0],u=t.left,l=t.right,c=u[0],f=u[1],d=l[0],p=l[1],g=(c+d)/2,m=(f+p)/2;if(p===f){if(g<e||g>=r)return;if(c>d){if(h){if(h[1]>=i)return}else h=[g,n];o=[g,i]}else{if(h){if(h[1]<n)return}else h=[g,i];o=[g,n]}}else if(a=m-(s=(c-d)/(p-f))*g,s<-1||s>1)if(c>d){if(h){if(h[1]>=i)return}else h=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(h){if(h[1]<n)return}else h=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<p){if(h){if(h[0]>=r)return}else h=[e,s*e+a];o=[r,s*r+a]}else{if(h){if(h[0]<e)return}else h=[r,s*r+a];o=[e,s*e+a]}return t[0]=h,t[1]=o,!0}function Ge(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function qe(t,e){return e[+(e.left!==t.site)]}function Ue(t,e){return e[+(e.left===t.site)]}var ze,Ze=[];function Ve(){Oe(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xe(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],h=r[0]-s,u=r[1]-a,l=o[0]-s,c=o[1]-a,f=2*(h*c-u*l);if(!(f>=-hn)){var d=h*h+u*u,p=l*l+c*c,g=(c*d-u*p)/f,m=(h*p-l*d)/f,y=Ze.pop()||new Ve;y.arc=t,y.site=i,y.x=g+s,y.y=(y.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,_=on._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}on.insert(v,y),v||(ze=y)}}}}function We(t){var e=t.circle;e&&(e.P||(ze=e.N),on.remove(e),Ze.push(e),Oe(e),t.circle=null)}var Ye=[];function He(){Oe(this),this.edge=this.site=this.circle=null}function $e(t){var e=Ye.pop()||new He;return e.site=t,e}function Ke(t){We(t),nn.remove(t),Ye.push(t),Oe(t)}function Je(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];Ke(t);for(var h=o;h.circle&&Math.abs(n-h.circle.x)<an&&Math.abs(r-h.circle.cy)<an;)o=h.P,a.unshift(h),Ke(h),h=o;a.unshift(h),We(h);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<an&&Math.abs(r-u.circle.cy)<an;)s=u.N,a.push(u),Ke(u),u=s;a.push(u),We(u);var l,c=a.length;for(l=1;l<c;++l)u=a[l],h=a[l-1],Fe(u.edge,h.site,u.site,i);h=a[0],(u=a[c-1]).edge=Ne(h.site,u.site,null,i),Xe(h),Xe(u)}function Qe(t){for(var e,n,r,i,o=t[0],s=t[1],a=nn._;a;)if((r=tn(a,s)-o)>an)a=a.L;else{if(!((i=o-en(a,s))>an)){r>-an?(e=a.P,n=a):i>-an?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){rn[t.index]={site:t,halfedges:[]}}(t);var h=$e(t);if(nn.insert(e,h),e||n){if(e===n)return We(e),n=$e(e.site),nn.insert(h,n),h.edge=n.edge=Ne(e.site,h.site),Xe(e),void Xe(n);if(n){We(e),We(n);var u=e.site,l=u[0],c=u[1],f=t[0]-l,d=t[1]-c,p=n.site,g=p[0]-l,m=p[1]-c,y=2*(f*m-d*g),v=f*f+d*d,_=g*g+m*m,b=[(m*v-d*_)/y+l,(f*_-g*v)/y+c];Fe(n.edge,u,p,b),h.edge=Ne(u,t,null,b),n.edge=Ne(t,p,null,b),Xe(e),Xe(n)}else h.edge=Ne(e.site,h.site)}}function tn(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],h=n[1],u=h-e;if(!u)return a;var l=a-r,c=1/o-1/u,f=l/u;return c?(-f+Math.sqrt(f*f-2*c*(l*l/(-2*u)-h+u/2+i-o/2)))/c+r:(r+a)/2}function en(t,e){var n=t.N;if(n)return tn(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var nn,rn,on,sn,an=1e-6,hn=1e-12;function un(t,e){return e[1]-t[1]||e[0]-t[0]}function ln(t,e){var n,r,i,o=t.sort(un).pop();for(sn=[],rn=new Array(t.length),nn=new Te,on=new Te;;)if(i=ze,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Qe(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Je(i.arc)}if(function(){for(var t,e,n,r,i=0,o=rn.length;i<o;++i)if((t=rn[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Ge(t,sn[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],h=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,o=sn.length;o--;)Be(i=sn[o],t,e,n,r)&&je(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>an||Math.abs(i[0][1]-i[1][1])>an)||delete sn[o]}(s,a,h,u),function(t,e,n,r){var i,o,s,a,h,u,l,c,f,d,p,g,m=rn.length,y=!0;for(i=0;i<m;++i)if(o=rn[i]){for(s=o.site,a=(h=o.halfedges).length;a--;)sn[h[a]]||h.splice(a,1);for(a=0,u=h.length;a<u;)p=(d=Ue(o,sn[h[a]]))[0],g=d[1],c=(l=qe(o,sn[h[++a%u]]))[0],f=l[1],(Math.abs(p-c)>an||Math.abs(g-f)>an)&&(h.splice(a,0,sn.push(De(s,d,Math.abs(p-t)<an&&r-g>an?[t,Math.abs(c-t)<an?f:r]:Math.abs(g-r)<an&&n-p>an?[Math.abs(f-r)<an?c:n,r]:Math.abs(p-n)<an&&g-e>an?[n,Math.abs(c-n)<an?f:e]:Math.abs(g-e)<an&&p-t>an?[Math.abs(f-e)<an?c:t,e]:null))-1),++u);u&&(y=!1)}if(y){var v,_,b,w=1/0;for(i=0,y=null;i<m;++i)(o=rn[i])&&(b=(v=(s=o.site)[0]-t)*v+(_=s[1]-e)*_)<w&&(w=b,y=o);if(y){var x=[t,e],M=[t,r],E=[n,r],S=[n,e];y.halfedges.push(sn.push(De(s=y.site,x,M))-1,sn.push(De(s,M,E))-1,sn.push(De(s,E,S))-1,sn.push(De(s,S,x))-1)}}for(i=0;i<m;++i)(o=rn[i])&&(o.halfedges.length||delete rn[i])}(s,a,h,u)}this.edges=sn,this.cells=rn,nn=on=sn=rn=null}ln.prototype={constructor:ln,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return qe(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a,h,u,l=n.site,c=-1,f=e[i[o-1]],d=f.left===l?f.right:f.left;++c<o;)s=d,d=(f=e[i[c]]).left===l?f.right:f.left,s&&d&&r<s.index&&r<d.index&&(h=s,u=d,((a=l)[0]-u[0])*(h[1]-a[1])-(a[0]-h[0])*(u[1]-a[1])<0)&&t.push([l.data,s.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var h=t-i.site[0],u=e-i.site[1],l=h*h+u*u;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var h=t-a[0],u=e-a[1],c=h*h+u*u;c<l&&(l=c,s=a.index)}}))}while(null!==s);return o._found=r,null==n||l<=n*n?i.site:null}};var cn=i(32676);function fn(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}const dn=function(t,e){var n=A(t),r=A(e),i=t.properties||{},o=cn.difference(n.coordinates,r.coordinates);return 0===o.length?null:1===o.length?function(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return fn({type:"Polygon",coordinates:t},e,n)}(o[0],i):function(t,e,n){return void 0===n&&(n={}),fn({type:"MultiPolygon",coordinates:t},e,n)}(o,i)};function pn(){return new gn}function gn(){this.reset()}i(20675),gn.prototype={constructor:gn,reset:function(){this.s=this.t=0},add:function(t){yn(mn,t,this.t),yn(this,mn.s,this.s),this.s?this.t+=mn.t:this.s=mn.t},valueOf:function(){return this.s}};var mn=new gn;function yn(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var vn,_n,bn=Math.PI,wn=bn/2,xn=2*bn,Mn=bn/180,En=(Math.abs,Math.atan),Sn=Math.atan2,Cn=Math.cos,In=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),An=(Math.sign,Math.sqrt);Math.tan;function Pn(t){return t>1?wn:t<-1?-wn:Math.asin(t)}function On(t,e){return[t>bn?t-xn:t<-bn?t+xn:t,e]}function kn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}pn(),pn(),pn(),On.invert=On,1===(vn=kn).length&&(_n=vn,vn=function(t,e){return kn(_n(t),e)});var Rn=Array.prototype;Rn.slice,Rn.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);pn();function Ln(){}function Tn(t){return function(e,n){var r=Cn(e),i=Cn(n),o=t(r*i);return[o*i*In(e),o*In(n)]}}function Nn(t){return function(e,n){var r=An(e*e+n*n),i=t(r),o=In(i),s=Cn(i);return[Sn(e*o,r*s),Pn(r&&n*o/r)]}}function Dn(t,e){return[t,e]}function Fn(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}pn(),pn(),pn(),pn(),Ln.prototype={constructor:Ln,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Cn(30*Mn),Tn((function(t){return An(2/(1+t))})).invert=Nn((function(t){return 2*Pn(t/2)})),Tn((function(t){return(t=(e=t)>1?0:e<-1?bn:Math.acos(e))&&t/In(t);var e})).invert=Nn((function(t){return t})),Dn.invert=Dn,Nn(En),Nn(Pn),Nn((function(t){return 2*En(t)}));const jn=function(t,e,n){void 0===n&&(n={});var r=A(t),i=A(e),o=cn.union(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?function(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return Fn({type:"Polygon",coordinates:t},e,n)}(o[0],n.properties):function(t,e,n){return void 0===n&&(n={}),Fn({type:"MultiPolygon",coordinates:t},e,n)}(o,n.properties)};function Bn(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Gn(t,e,n){if(null!==t)for(var r,i,o,s,a,h,u,l,c=0,f=0,d=t.type,p="FeatureCollection"===d,g="Feature"===d,m=p?t.features.length:1,y=0;y<m;y++){a=(l=!!(u=p?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=l?u.geometries[v]:u)){h=s.coordinates;var w=s.type;switch(c=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(h,f,y,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===e(h[r],f,y,_,b))return!1;f++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-c;i++){if(!1===e(h[r][i],f,y,_,b))return!1;f++}"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(b=0,i=0;i<h[r].length;i++){for(o=0;o<h[r][i].length-c;o++){if(!1===e(h[r][i][o],f,y,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===Gn(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function qn(t){var e=[1/0,1/0,-1/0,-1/0];return Gn(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function zn(){zn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function d(){}function p(){}var g={};h(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==e&&n.call(y,o)&&(g=y);var v=p.prototype=f.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var h=l(t[r],t,o);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==Un(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=h(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,h(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),h(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(v),h(v,a,"Generator"),h(v,o,(function(){return this})),h(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function Zn(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function Vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){Zn(o,r,i,s,a,"next",t)}function a(t){Zn(o,r,i,s,a,"throw",t)}s(void 0)}))}}function Xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(t,e,n){return e&&Wn(t.prototype,e),n&&Wn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qn(t);if(e){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(t,e){if(e&&("object"===Un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qn(t){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(t)}function tr(t){var i=function(t){Hn(d,t);var i,o,s,h,u,l,c,f=Kn(d);function d(){var t;return Xn(this,d),(t=f.apply(this,arguments)).officialTitle="",t.title="",t.mapID="",t.label="",t.homeMarginPixels=0,t.mercatorXShift=0,t.mercatorYShift=0,t}return Yn(d,[{key:"initialize",value:function(t){var r,i=this;if(t=or(t),this.mapID=t.mapID,this.homePosition=t.homePosition,this.mercZoom=t.mercZoom,this.label=t.label,this.maxZoom=t.maxZoom,this.minZoom=t.minZoom,this.poiTemplate=t.poiTemplate,this.poiStyle=t.poiStyle,this.iconTemplate=t.iconTemplate,this.icon=t.icon,this.selectedIcon=t.selectedIcon,this.mercatorXShift=t.mercatorXShift,this.mercatorYShift=t.mercatorYShift,this.weiwudi=t.weiwudi,t.envelopeLngLats){var o=t.envelopeLngLats.map((function(t){return(0,e.transform)(t,"EPSG:4326","EPSG:3857")}));o.push(o[0]),this.envelope=(0,b.polygon)([o]),this.centroid=null===(r=M(this.envelope).geometry)||void 0===r?void 0:r.coordinates}for(var s=0;s<nr.length;s++){var h=nr[s],u=rr[s];this.set(h,t[u]||t[h])}var l=t.thumbnail?new Promise((function(e){i.thumbnail=t.thumbnail,e(void 0)})):new Promise((function(e){i.thumbnail="./tmbs/".concat(t.mapID,".jpg"),fetch(i.thumbnail).then((function(n){n.ok||(i.thumbnail="./tmbs/".concat(t.mapID,"_menu.jpg")),e(void 0)})).catch((function(n){i.thumbnail="./tmbs/".concat(t.mapID,"_menu.jpg"),e(void 0)}))})).catch((function(e){i.thumbnail="./tmbs/".concat(t.mapID||t.sourceID,"_menu.jpg")})),c=this.resolvePois(t.pois);this.initialWait=Promise.all([c,l]),function(t){var e,r,i=t;t.setTileLoadFunction((e=i.getTileLoadFunction(),r=function(t,e,n,r,i,o,s){return new Promise((function(t,a){!function e(a){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=document.createElement("img");u.crossOrigin="Anonymous",u.onload=u.onerror=function(){if(u.width&&u.height){var a=n.getContext("2d"),l=0===r?256-o:0,c=0===i?256-s:0;o=r+o>u.width?u.width-r:o,s=i+s>u.height?u.height-i:s,a.drawImage(u,r,i,o,s,l,c,o,s),t(void 0)}else h?e(h):t("tileLoadError")},u.src=a}(e)}))},function(t,o){for(var s=t.tileCoord[0],h=t.tileCoord[1],u=t.tileCoord[2],l=Math.round(128*(i.mercatorXShift||0)*Math.pow(2,s)/n),c=Math.round(-128*(i.mercatorYShift||0)*Math.pow(2,s)/n);l<0||l>=256;)l<0?(l+=256,h++):(l-=256,h--);for(;c<0||c>=256;)c<0?(c+=256,u++):(c-=256,u--);var f=document.createElement("div");f.innerHTML=a;var d=f.childNodes[0],p=[[[s,h,u],0,0,256-l,256-c]];0!==l&&p.push([[s,h-1,u],256-l,0,l,256-c]),0!==c&&(p.push([[s,h,u-1],0,256-c,256-l,c]),0!==l&&p.push([[s,h-1,u-1],256-l,256-c,l,c])),Promise.all(p.map((function(t){var e=i.tileUrlFunction(t[0],i.tilePixelRatio_,i.projection_);return r(t[0],e,d,t[1],t[2],t[3],t[4])}))).then((function(n){if(n.reduce((function(t,e){return t&&e}),!0))t.handleImageError_();else{var r=d.toDataURL();t.getImage().crossOrigin=null,e(t,r)}})).catch((function(e){t.handleImageError_()}))}))}(this)}},{key:"isBasemap",value:function(){return this.constructor.isBasemap()}},{key:"isWmts",value:function(){return this.constructor.isWmts()}},{key:"isMapbox",value:function(){return this.constructor.isMapbox()}},{key:"getCacheEnable",value:function(){return!!this.weiwudi}},{key:"getTileCacheStatsAsync",value:(c=Vn(zn().mark((function t(){return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.weiwudi){t.next=2;break}return t.abrupt("return",{});case 2:return t.prev=2,t.next=5,this.weiwudi.stats();case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",{});case 11:case"end":return t.stop()}}),t,this,[[2,8]])}))),function(){return c.apply(this,arguments)})},{key:"getTileCacheSizeAsync",value:(l=Vn(zn().mark((function t(){var e;return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTileCacheStatsAsync();case 2:return e=t.sent,t.abrupt("return",e.size||0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"fetchAllTileCacheAsync",value:(u=Vn(zn().mark((function t(e){var n,r,i=this;return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.weiwudi){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=function(t){e(t.type,t.detail)},r=function t(e){i.weiwudi.removeEventListener("proceed",n),i.weiwudi.removeEventListener("finish",t),i.weiwudi.removeEventListener("stop",t),i.weiwudi.removeEventListener("canceled",t),n(e)},this.weiwudi.addEventListener("proceed",n),this.weiwudi.addEventListener("finish",r),this.weiwudi.addEventListener("stop",r),this.weiwudi.addEventListener("canceled",r),t.next=11,this.weiwudi.fetchAll();case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(2);case 15:case"end":return t.stop()}}),t,this,[[2,13]])}))),function(t){return u.apply(this,arguments)})},{key:"cancelTileCacheAsync",value:(h=Vn(zn().mark((function t(){return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.weiwudi){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.weiwudi.cancel();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(){return h.apply(this,arguments)})},{key:"clearTileCacheAsync",value:(s=Vn(zn().mark((function t(){return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.weiwudi){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.weiwudi.clean();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(){return s.apply(this,arguments)})},{key:"getMap",value:function(){return this._map}},{key:"setMap",value:function(t){this._map=t}},{key:"setViewpointRadian",value:function(t){var n,r,i=this,o=t.mercZoom,s=t.zoom,a=t.direction,h=t.rotation,u=this.getMap(),l=null==u?void 0:u.getView();void 0!==t.latitude&&void 0!==t.longitude&&(n=(0,e.transform)([t.longitude,t.latitude],"EPSG:4326","EPSG:3857")),void 0!==t.x&&null!=t.y&&(r=[t.x,t.y]),this.viewpoint2MercsAsync().then((function(t){return i.mercs2MercViewpoint(t)})).then((function(t){var e=i.mercViewpoint2Mercs([n||t[0],o||t[1]||17,null!==a?a:t[2]]);i.mercs2ViewpointAsync(e).then((function(t){null!=n?null==l||l.setCenter(t[0]):null!=r&&(null==l||l.setCenter(r)),null!=o?null==l||l.setZoom(t[1]):null!=s&&(null==l||l.setZoom(s)),null!=a?null==l||l.setRotation(t[2]):null!=h&&(null==l||l.setRotation(h))}))}))}},{key:"setViewpoint",value:function(t){t.rotation&&(t.rotation=t.rotation*Math.PI/180),t.direction&&(t.direction=t.direction*Math.PI/180),this.setViewpointRadian(t)}},{key:"goHome",value:function(){var t=this.getMap(),e=t.getTarget();"string"==typeof e&&(e=document.getElementById(e));var n=t.homeMarginPixels,r=[1*(e.clientWidth-n-10),1*(e.clientHeight-n-10)],i={longitude:this.homePosition[0],latitude:this.homePosition[1],zoom:this.defZoom(r)};this.getMap().northUp?i.direction=0:i.rotation=0,this.setViewpointRadian(i)}},{key:"resetRotation",value:function(){this.setViewpointRadian({rotation:0})}},{key:"resetDirection",value:function(){this.setViewpointRadian({direction:0})}},{key:"resetCirculation",value:function(){this.getMap().northUp?this.resetDirection():this.resetRotation()}},{key:"setGPSMarkerAsync",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getMap(),i=null==r?void 0:r.getView();if(!t)return new Promise((function(t,e){null==r||r.setGPSPosition(null),t(!0)}));var o=this.mercsFromGPSValue(t.lnglat,t.acc);return this.mercs2SysCoordsAsync_multiLayer([o]).then((function(t){var o=!t[0],s=o?t[1]:t[0],a=o?null:t[1],h={xy:s[0][0]};if(!e.insideCheckSysCoord(s[0][0]))return null==r||r.handleGPS(!1,!0),!1;var u=s[0].slice(1);return h.rad=u.reduce((function(t,e,n){var r=t+Math.sqrt(Math.pow(e[0]-h.xy[0],2)+Math.pow(e[1]-h.xy[1],2));return 3===n?r/4:r}),0),n||null==i||i.setCenter(h.xy),null==r||r.setGPSPosition(h,o?"hide":null),a&&(null==r||r.setGPSPosition({xy:a[0][0]},"sub")),!0})).catch((function(t){throw t}))}},{key:"setGPSMarker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setGPSMarkerAsync(t,e).then((function(){}))}},{key:"mercsFromGPSValue",value:function(t,n){var i=(0,e.transform)(t,"EPSG:4326","EPSG:3857"),o=t[1]*Math.PI/180,s=n/Math.cos(o);return r.map((function(t){return[t[0]*s+i[0],t[1]*s+i[1]]}))}},{key:"rotateMatrix",value:function(t,e){void 0===e&&(e=this.getMap().getView().getRotation());for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i[0]*Math.cos(e)-i[1]*Math.sin(e),s=i[0]*Math.sin(e)+i[1]*Math.cos(e);n.push([o,s])}return n}},{key:"resolvePois",value:(o=Vn(zn().mark((function t(e){return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e||[],{name:this.officialTitle||this.title,namespace:this.mapID});case 2:this.pois=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getPoi",value:function(t){var e=this,n=void 0;return Object.keys(this.pois).map((function(r){e.pois[r].pois.map((function(i,o){i.id===t&&(n=e.pois[r].pois[o])}))})),n}},{key:"addPoi",value:function(t,e){if(e||(e="main"),this.pois[e])return t=v(t),this.pois[e].pois.push(t),_(this.pois,e,{name:this.officialTitle||this.title,namespace:this.mapID}),t.namespaceID}},{key:"removePoi",value:function(t){var e=this;Object.keys(this.pois).map((function(n){e.pois[n].pois.map((function(r,i){r.id===t&&delete e.pois[n].pois[i]}))}))}},{key:"clearPoi",value:function(t){var e=this;t||(t="main"),"all"===t?Object.keys(this.pois).map((function(t){e.pois[t].pois=[]})):this.pois[t]&&(this.pois[t].pois=[])}},{key:"listPoiLayers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(this.pois).sort((function(t,e){return"main"===t?-1:"main"===e?1:t<e?-1:t>e?1:0})).map((function(e){return t.pois[e]})).filter((function(t){return n?e?t.pois.length&&t.hide:t.pois.length:!e||t.hide}))}},{key:"getPoiLayer",value:function(t){return this.pois[t]}},{key:"addPoiLayer",value:function(t,e){"main"!==t&&(this.pois[t]||(this.pois[t]=y(e||[],t,{name:this.officialTitle||this.title,namespace:this.mapID})))}},{key:"removePoiLayer",value:function(t){"main"!==t&&this.pois[t]&&delete this.pois[t]}},{key:"merc2SysCoordAsync_ignoreBackground",value:function(t){var e=this;return this.merc2XyAsync_ignoreBackground(t).then((function(t){return t?e.xy2SysCoord(t):void 0}))}},{key:"merc2SysCoordAsync",value:function(t){var e=this;return this.merc2XyAsync(t).then((function(t){return t?e.xy2SysCoord(t):t}))}},{key:"sysCoord2MercAsync",value:function(t){var e=this.sysCoord2Xy(t);return this.xy2MercAsync(e)}},{key:"zoom2Radius",value:function(t,e){var r=Math.floor(Math.min(t[0],t[1])/4);return void 0===e&&(e=this.getMap().getView().getDecimalZoom()),r*n/128/Math.pow(2,e)}},{key:"viewpoint2SysCoords",value:function(t,e){return this.mercViewpoint2Mercs(t,e)}},{key:"mercViewpoint2Mercs",value:function(t,e){var n=t?t[0]:void 0,i=t?t[1]:void 0,o=t?t[2]:void 0;void 0===n&&(n=this.getMap().getView().getCenter()),void 0===e&&(e=this.getMap().getSize());var s=this.zoom2Radius(e,i);return[this.rotateMatrix(r,o).map((function(t){return[t[0]*s+n[0],t[1]*s+n[1]]})),e]}},{key:"sysCoords2Viewpoint",value:function(t){return this.mercs2MercViewpoint(t)}},{key:"mercs2MercViewpoint",value:function(t){for(var e=t[0][0],r=t[1],i=t[0].slice(1,5).map((function(t){return[t[0]-e[0],t[1]-e[1]]})),o=[[0,1],[1,0],[0,-1],[-1,0]],s=0,a=0,h=0,u=0;u<4;u++){var l=i[u],c=o[u],f=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2));s+=f;var d=l[0]*c[1]-l[1]*c[0],p=Math.acos((l[0]*c[0]+l[1]*c[1])/f),g=d>0?-1*p:p;a+=Math.cos(g),h+=Math.sin(g)}var m=s/4,y=Math.atan2(h,a);r||(r=this.getMap().getSize());var v=Math.floor(Math.min(r[0],r[1])/4),_=Math.log(v*n/128/m)/Math.log(2);return[e,_,y]}},{key:"sysCoords2Xys",value:function(t){var e=this;return[t[0].map((function(t){return e.sysCoord2Xy(t)})),t[1]]}},{key:"xys2SysCoords",value:function(t){var e=this;return[t[0].map((function(t){return e.xy2SysCoord(t)})),t[1]]}},{key:"mercs2XysAsync",value:function(t){var e=this;return Promise.all(t[0].map((function(t){return e.merc2XyAsync(t)}))).then((function(e){return[e,t[1]]}))}},{key:"xys2MercsAsync",value:function(t){var e=this;return Promise.all(t[0].map((function(t){return e.xy2MercAsync(t)}))).then((function(e){return[e,t[1]]}))}}],[{key:"isBasemap",value:function(){return this.isBasemap_}},{key:"isWmts",value:function(){return this.isWmts_}},{key:"isMapbox",value:function(){return this.isMapbox_}},{key:"createAsync",value:(i=Vn(zn().mark((function t(e){return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new this(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})}]),d}(t);return i.isBasemap_=!1,i.isWmts_=!0,i.isMapbox_=!1,i}function er(t){var e=function(t){Hn(n,t);var e=Kn(n);function n(){return Xn(this,n),e.apply(this,arguments)}return Yn(n,[{key:"insideCheckXy",value:function(t){return!this.envelope||R(t,this.envelope)}},{key:"insideCheckSysCoord",value:function(t){return this.insideCheckXy(t)}},{key:"modulateXyInside",value:function(t){if(!this.centroid)return t;var e=function(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return z({type:"LineString",coordinates:t},e,n)}([t,this.centroid]),n=nt(this.envelope,e);return n.features.length>0&&n.features[0].geometry?n.features[0].geometry.coordinates:t}},{key:"modulateSysCoordInside",value:function(t){return this.modulateXyInside(t)}},{key:"merc2XyAsync",value:function(t){return Promise.resolve(t)}},{key:"merc2XyAsync_ignoreBackground",value:function(t){return this.merc2XyAsync(t)}},{key:"xy2MercAsync",value:function(t){return Promise.resolve(t)}},{key:"xy2SysCoord",value:function(t){return t}},{key:"sysCoord2Xy",value:function(t){return t}},{key:"viewpoint2MercsAsync",value:function(t,e){var n=this.viewpoint2SysCoords(t,e),r=this.sysCoords2Xys(n);return this.xys2MercsAsync(r)}},{key:"mercs2ViewpointAsync",value:function(t){var e=this;return this.mercs2XysAsync(t).then((function(t){var n=e.xys2SysCoords(t);return e.sysCoords2Viewpoint(n)}))}},{key:"mercs2SysCoordsAsync_multiLayer",value:function(t){var e=this;return Promise.all(t[0].map((function(t){return e.merc2SysCoordAsync(t)}))).then((function(e){return[[e,t[1]]]}))}},{key:"defZoom",value:function(){return this.mercZoom}}]),n}(tr(t));return e.isBasemap_=!0,e.isWmts_=!0,e}qn.default=qn;var nr=["title","officialTitle","author","createdAt","era","contributor","mapper","license","dataLicense","attr","dataAttr","reference","description"],rr=["title","official_title","author","created_at","era","contributor","mapper","license","data_license","attr","data_attr","reference","description"];function ir(t){return(t=or(t)).imageExtension||(t.imageExtension="jpg"),!t.mapID||t.url||t.urls||(t.url=t.tms?"tiles/".concat(t.mapID,"/{z}/{x}/{-y}.").concat(t.imageExtension):"tiles/".concat(t.mapID,"/{z}/{x}/{y}.").concat(t.imageExtension)),t}function or(t){var e={max_zoom:"maxZoom",min_zoom:"minZoom",envelope_lnglats:"envelopeLngLats",envelopLngLats:"envelopeLngLats",image_extention:"imageExtension",image_extension:"imageExtension",imageExtention:"imageExtension",map_id:"mapID",sourceID:"mapID",source_id:"mapID",merc_max_zoom:"mercMaxZoom",merc_min_zoom:"mercMinZoom",zoom_restriction:"zoomRestriction",enable_cache:"enableCache",default_zoom:"defaultZoom",start_from:"startFrom",home_position:"homePosition",fake_radius:"fakeRadius",fake_center:"fakeCenter",fake_gps:"fakeGps",app_name:"appName",setting_file:"settingFile",merc_zoom:"mercZoom",mapbox_token:"mapboxToken",translate_ui:"translateUI",restore_session:"restoreSession",no_rotate:"noRotate",poi_template:"poiTemplate",poi_style:"poiStyle",icon_template:"iconTemplate",default_center:"defaultCenter",default_rotation:"defaultRotation",selected_icon:"selectedIcon",namespace_id:"namespaceID",mercator_x_shift:"mercatorXShift",mercator_y_shift:"mercatorYShift"};return Object.keys(e).reduce((function(t,n){if(t[n])throw new Error("Invalid Maplat option key: ".concat(n,'. Use "').concat(e[n],'" instead.'));return t}),t)}const sr="https://weiwudi.example.com/api/";let ar,hr;!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}();class ur extends class{constructor(){this.listeners={}}addEventListener(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}removeEventListener(t,e){if(!(t in this.listeners))return;const n=this.listeners[t];for(let t=0,r=n.length;t<r;t++)if(n[t]===e)return void n.splice(t,1)}dispatchEvent(t){if(!(t.type in this.listeners))return!0;const e=this.listeners[t.type].slice();for(let n=0,r=e.length;n<r;n++)e[n].call(this,t);return!t.defaultPrevented}}{static async registerSW(t,e){if(!("serviceWorker"in navigator))throw"Error: Service worker is not supported";try{const n=await navigator.serviceWorker.register(t,e),r=n.installing,i=n.waiting;return r&&("activated"!==r.state||i||window.location.reload(),r.addEventListener("statechange",(t=>{"activated"!==r.state||i||window.location.reload()}))),n.onupdatefound=()=>{n.update()},await ur.swCheck(),n}catch(t){throw`Error: Service worker registration failed with ${t}`}}static async swCheck(){return void 0!==hr?hr:(void 0===ar&&(ar=new Promise((async(t,e)=>{try{hr=await fetch(`${sr}ping`),hr=!!hr}catch(t){hr=!1}t(hr)}))),ar)}static async registerMap(t,e){if(!await ur.swCheck())throw"Weiwudi service worker is not implemented.";let n;try{const r=["type","url","width","height","tileSize","minZoom","maxZoom","maxLng","maxLat","minLng","minLat"].reduce(((t,n)=>(void 0!==e[n]&&(e[n]instanceof Array?e[n].map((e=>{t.append(n,e)})):t.append(n,e[n])),t)),new URLSearchParams);r.append("mapID",t);const i=new URL(`${sr}add`);i.search=r;const o=await fetch(i.href);n=await o.text()}catch(t){throw t}if(n.match(/^Error: /))throw n;return new ur(t,JSON.parse(n))}static async retrieveMap(t){if(!await ur.swCheck())throw"Weiwudi service worker is not implemented.";let e;try{const n=await fetch(`${sr}info?mapID=${t}`);e=await n.text()}catch(t){throw t}if(e.match(/^Error: /))throw e;return console.log(e),new ur(t,JSON.parse(e))}static async removeMap(t){if(!await ur.swCheck())throw"Weiwudi service worker is not implemented.";let e;try{const n=await fetch(`${sr}delete?mapID=${t}`);e=await n.text()}catch(t){throw t}if(e.match(/^Error: /))throw e}constructor(t,e){if(super(),!t)throw"MapID is necessary.";this.mapID=t,e&&Object.assign(this,e),this.url=`${sr}cache/${t}/{z}/{x}/{y}`,this.listener=e=>{e.data.mapID===t&&this.dispatchEvent(new CustomEvent(e.data.type,{detail:e.data}))},navigator.serviceWorker.addEventListener("message",this.listener)}release(){navigator.serviceWorker.removeEventListener("message",this.listener),delete this.mapID}checkAspect(){if(!this.mapID)throw"This instance is already released."}async stats(){let t;this.checkAspect();try{const e=await fetch(`${sr}stats?mapID=${this.mapID}`);t=await e.text()}catch(t){throw t}if("string"==typeof t&&t.match(/^Error: /))throw t;return JSON.parse(t)}async clean(){let t;this.checkAspect();try{const e=await fetch(`${sr}clean?mapID=${this.mapID}`);t=await e.text()}catch(t){throw t}if(t.match(/^Error: /))throw t}async fetchAll(){let t;this.checkAspect();try{const e=await fetch(`${sr}fetchAll?mapID=${this.mapID}`);t=await e.text()}catch(t){throw t}if(t.match(/^Error: /))throw t}async remove(){this.checkAspect(),await ur.removeMap(this.mapID),this.release()}async cancel(){let t;this.checkAspect();try{const e=await fetch(`${sr}cancel?mapID=${this.mapID}`);t=await e.text()}catch(t){throw t}if(t.match(/^Error: /))throw t}}var lr=i(85487),cr=i(208);var fr=i(74187),dr=i(31015);class pr extends cr.Z{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(lr.Z.CHANGE)}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){(0,fr.O3)()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const r=e-n+1e3/60;return r>=this.transition_?1:(0,dr.YQ)(r/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const gr=pr;var mr=i(68326),yr=i(18096);const vr=class extends gr{constructor(t,e,n,r,i,o){super(t,e,o),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=i}getImage(){return this.image_}setImage(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function(){const t=(0,mr.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,yr.Kp)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};var _r=i(28641),br=i(33983);let wr;const xr=[];function Mr(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Er(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Sr(t,n,r,i){const o=(0,e.transform)(r,n,t);let s=(0,e.getPointResolution)(n,i,r);const a=n.getMetersPerUnit();void 0!==a&&(s*=a);const h=t.getMetersPerUnit();void 0!==h&&(s/=h);const u=t.getExtent();if(!u||(0,_r.b8)(u,o)){const n=(0,e.getPointResolution)(t,s,o)/s;isFinite(n)&&n>0&&(s/=n)}return s}var Cr=i(65818);const Ir=class extends gr{constructor(t,n,r,i,o,s,a,h,u,l,c,f){super(o,0,f),this.renderEdges_=void 0!==c&&c,this.pixelRatio_=a,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const m=p?(0,_r.Ed)(d,p):d;if(0===(0,_r.bg)(m))return void(this.state=4);const y=t.getExtent();y&&(g=g?(0,_r.Ed)(g,y):y);const v=i.getResolution(this.wrappedTileCoord_[0]),_=function(t,e,n,r){const i=(0,_r.qg)(n);let o=Sr(t,e,i,r);return(!isFinite(o)||o<=0)&&(0,_r.H6)(n,(function(n){return o=Sr(t,e,n,r),isFinite(o)&&o>0})),o}(t,r,m,v);if(!isFinite(_)||_<=0)return void(this.state=4);const b=void 0!==l?l:.5;if(this.triangulation_=new class{constructor(t,n,r,i,o,s){this.sourceProj_=t,this.targetProj_=n;let a={};const h=(0,e.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return a[e]||(a[e]=h(t)),a[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,_r.dz)(i)>=(0,_r.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,_r.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,_r.dz)(this.targetProj_.getExtent()):null;const u=(0,_r.rL)(r),l=(0,_r.Xv)(r),c=(0,_r.w$)(r),f=(0,_r.hC)(r),d=this.transformInv_(u),p=this.transformInv_(l),g=this.transformInv_(c),m=this.transformInv_(f),y=10+(s?Math.max(0,Math.ceil(Math.log2((0,_r.bg)(r)/(s*s*256*256)))):0);if(this.addQuad_(u,l,c,f,d,p,g,m,y),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,r){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const r=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-r<this.sourceWorldWidth_/2&&(e.source=n)}}))}a={}}addTriangle_(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})}addQuad_(t,e,n,r,i,o,s,a,h){const u=(0,_r.hI)([i,o,s,a]),l=this.sourceWorldWidth_?(0,_r.dz)(u)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&l>.5&&l<1;let d=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const i=(0,_r.hI)([t,e,n,r]);d=(0,_r.dz)(i)/this.targetWorldWidth_>.25||d}!f&&this.sourceProj_.isGlobal()&&l&&(d=l>.25||d)}if(!d&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!(0,_r.kK)(u,this.maxSourceExtent_))return;let p=0;if(!(d||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(h>0)d=!0;else if(p=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(h>0){if(!d){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],r=this.transformInv_(e);let o;o=f?((0,br.$W)(i[0],c)+(0,br.$W)(s[0],c))/2-(0,br.$W)(r[0],c):(i[0]+s[0])/2-r[0];const a=(i[1]+s[1])/2-r[1];d=o*o+a*a>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const u=[(e[0]+n[0])/2,(e[1]+n[1])/2],l=this.transformInv_(u),c=[(r[0]+t[0])/2,(r[1]+t[1])/2],f=this.transformInv_(c);this.addQuad_(t,e,u,c,i,o,l,f,h-1),this.addQuad_(c,u,n,r,f,l,s,a,h-1)}else{const u=[(t[0]+e[0])/2,(t[1]+e[1])/2],l=this.transformInv_(u),c=[(n[0]+r[0])/2,(n[1]+r[1])/2],f=this.transformInv_(c);this.addQuad_(t,u,c,r,i,l,f,a,h-1),this.addQuad_(u,e,n,c,l,o,s,f,h-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,n,r,i,s,a),0==(14&p)&&this.addTriangle_(t,n,e,i,s,o),p&&(0==(13&p)&&this.addTriangle_(e,r,t,o,a,i),0==(7&p)&&this.addTriangle_(e,r,n,o,a,s))}calculateSourceExtent(){const t=(0,_r.lJ)();return this.triangles_.forEach((function(e,n,r){const i=e.source;(0,_r.Wj)(t,i[0]),(0,_r.Wj)(t,i[1]),(0,_r.Wj)(t,i[2])})),t}getTriangles(){return this.triangles_}}(t,r,m,g,_*b,v),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=n.getZForResolution(_);let w=this.triangulation_.calculateSourceExtent();if(g&&(t.canWrapX()?(w[1]=(0,br.uZ)(w[1],g[1],g[3]),w[3]=(0,br.uZ)(w[3],g[1],g[3])):w=(0,_r.Ed)(w,g)),(0,_r.bg)(w)){const t=n.getTileRangeForExtentAndZ(w,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let n=t.minY;n<=t.maxY;n++){const t=u(this.sourceZ_,e,n,a);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=3;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,r,i,o,s,a,h,u,l,c,f,d){const p=(0,mr.E4)(Math.round(n*t),Math.round(n*e),xr);if(c||(p.imageSmoothingEnabled=!1),0===h.length)return p.canvas;function g(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";const m=(0,_r.lJ)();let y;h.forEach((function(t,e,n){(0,_r.l7)(m,t.extent)}));const v=n/r,_=(c?1:1+Math.pow(2,-24))/v;if(!f||1!==h.length||0!==u){if(y=(0,mr.E4)(Math.round((0,_r.dz)(m)*v),Math.round((0,_r.Cr)(m)*v),xr),c||(y.imageSmoothingEnabled=!1),i&&d){const t=(i[0]-m[0])*v,e=-(i[3]-m[3])*v,n=(0,_r.dz)(i)*v,r=(0,_r.Cr)(i)*v;y.rect(t,e,n,r),y.clip()}h.forEach((function(t,e,n){const r=(t.extent[0]-m[0])*v,i=-(t.extent[3]-m[3])*v,o=(0,_r.dz)(t.extent)*v,s=(0,_r.Cr)(t.extent)*v;t.image.width>0&&t.image.height>0&&y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,c?r:Math.round(r),c?i:Math.round(i),c?o:Math.round(r+o)-Math.round(r),c?s:Math.round(i+s)-Math.round(i))}))}const b=(0,_r.rL)(s);return a.getTriangles().forEach((function(t,e,n){const r=t.source,i=t.target;let s=r[0][0],a=r[0][1],u=r[1][0],l=r[1][1],f=r[2][0],d=r[2][1];const v=g((i[0][0]-b[0])/o),w=g(-(i[0][1]-b[1])/o),x=g((i[1][0]-b[0])/o),M=g(-(i[1][1]-b[1])/o),E=g((i[2][0]-b[0])/o),S=g(-(i[2][1]-b[1])/o),C=s,I=a;s=0,a=0,u-=C,l-=I,f-=C,d-=I;const A=[[u,l,0,0,x-v],[f,d,0,0,E-v],[0,0,u,l,M-w],[0,0,f,d,S-w]],P=(0,br.SV)(A);if(!P)return;if(p.save(),p.beginPath(),function(){if(void 0===wr){const t=(0,mr.E4)(6,6,xr);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Mr(t,4,5,4,0),Mr(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;wr=Er(e,0)||Er(e,4)||Er(e,8),(0,mr.jy)(t),xr.push(t.canvas)}return wr}()||!c){p.moveTo(x,M);const t=4,e=v-x,n=w-M;for(let r=0;r<t;r++)p.lineTo(x+g((r+1)*e/t),M+g(r*n/(t-1))),r!=t-1&&p.lineTo(x+g((r+1)*e/t),M+g((r+1)*n/(t-1)));p.lineTo(E,S)}else p.moveTo(x,M),p.lineTo(v,w),p.lineTo(E,S);let O;if(p.clip(),p.transform(P[0],P[2],P[1],P[3],v,w),p.translate(m[0]-C,m[3]-I),y)O=y.canvas,p.scale(_,-_);else{const t=h[0],e=t.extent;O=t.image,p.scale((0,_r.dz)(e)/O.width,-(0,_r.Cr)(e)/O.height)}p.drawImage(O,0,0),p.restore()})),y&&((0,mr.jy)(y),xr.push(y.canvas)),l&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(t,e,n){const r=t.target,i=(r[0][0]-b[0])/o,s=-(r[0][1]-b[1])/o,a=(r[1][0]-b[0])/o,h=-(r[1][1]-b[1])/o,u=(r[2][0]-b[0])/o,l=-(r[2][1]-b[1])/o;p.beginPath(),p.moveTo(a,h),p.lineTo(i,s),p.lineTo(u,l),p.closePath(),p.stroke()})),p.restore()),p.canvas}(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{const n=e.getState();if(0==n||1==n){t++;const n=(0,Cr.oL)(e,lr.Z.CHANGE,(function(r){const i=e.getState();2!=i&&3!=i&&4!=i||((0,Cr.bN)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){0==t.getState()&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Cr.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,mr.jy)(this.canvas_.getContext("2d")),xr.push(this.canvas_),this.canvas_=null),super.release()}};var Ar=i(99515);function Pr(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Or(t,e,n){return t+"/"+e+"/"+n}function kr(t){return Or(t[0],t[1],t[2])}const Rr=class extends class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return(0,Ar.h)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return(0,Ar.h)(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,Ar.h)(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey().split("/").map(Number)[0];this.forEach((e=>{e.tileCoord[0]!==t&&(this.remove(kr(e.tileCoord)),e.release())}))}};var Lr=i(291),Tr=i(58458);class Nr{constructor(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Dr(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Nr(t,e,n,r)}const Fr=Nr;var jr=i(94768),Br=i(63746),Gr=i(65537),qr=i(4307);const Ur=[0,0,0],zr=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,Ar.h)((0,Gr.pT)(this.resolutions_,((t,e)=>e-t),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let t=0,n=this.resolutions_.length-1;t<n;++t)if(e){if(this.resolutions_[t]/this.resolutions_[t+1]!==e){e=void 0;break}}else e=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,Ar.h)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=(0,_r.rL)(n)),(0,Ar.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,Ar.h)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:jr.S,(0,Ar.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const r=new Fr(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);r.minX=Math.max(t.minX,r.minX),r.maxX=Math.min(t.maxX,r.maxX),r.minY=Math.max(t.minY,r.minY),r.maxY=Math.min(t.maxY,r.maxY)}return r})):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const r=this.getTileRangeForExtentAndZ(t,e);for(let t=r.minX,i=r.maxX;t<=i;++t)for(let i=r.minY,o=r.maxY;i<=o;++i)n([e,t,i])}forEachTileCoordParentTileRange(t,e,n,r){let i,o,s,a=null,h=t[0]-1;for(2===this.zoomFactor_?(o=t[1],s=t[2]):a=this.getTileCoordExtent(t,r);h>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),i=Dr(o,o,s,s,n)):i=this.getTileRangeForExtentAndZ(a,h,n),e(h,i))return!0;--h}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],r=2*t[2];return Dr(n,n+1,r,r+1,e)}const r=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const r=t[0],i=t[1],o=t[2];if(e===r)return Dr(i,o,i,o,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-r),s=Math.floor(i*t),a=Math.floor(o*t);return e<r?Dr(s,s,a,a,n):Dr(s,Math.floor(t*(i+1))-1,a,Math.floor(t*(o+1))-1,n)}const s=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,Ur);const r=Ur[1],i=Ur[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,Ur),Dr(r,Ur[1],i,Ur[2],n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,qr.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=(0,qr.Pq)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,s=n[1]-(t[2]+1)*i[1]*r,a=o+i[0]*r,h=s+i[1]*r;return(0,_r.T9)(o,s,a,h,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,r,i){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),h=(0,qr.Pq)(this.getTileSize(o),this.tmpSize_);let u=s*(t-a[0])/n/h[0],l=s*(a[1]-e)/n/h[1];return r?(u=(0,br.mD)(u,5)-1,l=(0,br.mD)(l,5)-1):(u=(0,br.GW)(u,5),l=(0,br.GW)(l,5)),Pr(o,u,l,i)}getTileCoordForXYAndZ_(t,e,n,r,i){const o=this.getOrigin(n),s=this.getResolution(n),a=(0,qr.Pq)(this.getTileSize(n),this.tmpSize_);let h=(t-o[0])/s/a[0],u=(o[1]-e)/s/a[1];return r?(h=(0,br.mD)(h,5)-1,u=(0,br.mD)(u,5)-1):(h=(0,br.GW)(h,5),u=(0,br.GW)(u,5)),Pr(n,h,u,i)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=(0,Gr.h7)(this.resolutions_,t,e||0);return(0,br.uZ)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,Br.mV)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n}};function Zr(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){r=void 0!==r?r:"top-left";const i=Xr(t,undefined,n);return new zr({extent:t,origin:(0,_r.g0)(t,r),resolutions:i,tileSize:n})}(Wr(t),0,void 0,void 0)}(t),t.setDefaultTileGrid(e)),e}function Vr(t){const n=t||{},r=n.extent||(0,e.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:n.minZoom,tileSize:n.tileSize,resolutions:Xr(r,n.maxZoom,n.tileSize,n.maxResolution)};return new zr(i)}function Xr(t,e,n,r){e=void 0!==e?e:jr.e,n=(0,qr.Pq)(void 0!==n?n:jr.S);const i=(0,_r.Cr)(t),o=(0,_r.dz)(t);r=r>0?r:Math.max(o/n[0],i/n[1]);const s=e+1,a=new Array(s);for(let t=0;t<s;++t)a[t]=r/Math.pow(2,t);return a}function Wr(t){let n=(t=(0,e.get)(t)).getExtent();if(!n){const r=180*e.METERS_PER_UNIT.degrees/t.getMetersPerUnit();n=(0,_r.T9)(-r,-r,r,r)}return n}class Yr extends Tr.Z{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;this.tileGrid&&(0,qr.Pq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new Rr(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,r){const i=this.getTileCacheForProjection(t);if(!i)return!1;let o,s,a,h=!0;for(let t=n.minX;t<=n.maxX;++t)for(let u=n.minY;u<=n.maxY;++u)s=Or(e,t,u),a=!1,i.containsKey(s)&&(o=i.get(s),a=2===o.getState(),a&&(a=!1!==r(o))),a||(h=!1);return h}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,r,i){return(0,fr.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Zr(t)}getTileCacheForProjection(t){const n=this.getProjection();return(0,Ar.h)(null===n||(0,e.equivalent)(n,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=(0,qr.Pq)(r.getTileSize(t),this.tmpSize);return 1==i?o:(0,qr.bA)(o,i,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),o=Wr(n);if(!(0,_r.b8)(o,i)){const e=(0,_r.dz)(o),n=Math.ceil((o[0]-i[0])/e);return i[0]+=e*n,t.getTileCoordForCoordAndZ(i,r)}return e}(n,t,e)),function(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(t,n)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,r){}}class Hr extends Lr.ZP{constructor(t,e){super(t),this.tile=e}}const $r=Yr;function Kr(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,h){if(s)return t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,(function(){const t=s[0],n=e.getFullTileRange(t);if(!n)throw new Error("The {-y} placeholder requires a tile grid with extent");return(n.getHeight()-s[2]-1).toString()}))}}function Jr(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Kr(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(!e)return;const i=function(t){return(t[1]<<t[0])+t[2]}(e),o=(0,br.$W)(i,t.length);return t[o](e,n,r)}}(r)}function Qr(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let o;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class ti extends $r{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ti.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=(0,fr.sq)(e),r=e.getState();let i;1==r?(this.tileLoadingKeys_[n]=!0,i="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],i=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=i&&this.dispatchEvent(new Hr(i,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=Qr(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Jr(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const r=Or(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const ei=ti;function ni(t,e){t.getImage().src=e}const ri=class extends ei{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:ni,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:vr,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const t in this.tileCacheForProjection){const r=this.tileCacheForProjection[t];r.expireCache(r==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!(0,e.equivalent)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!(0,e.equivalent)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||(0,e.equivalent)(n,t)))return this.tileGrid;const r=(0,fr.sq)(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Zr(t)),this.tileGridForProjection[r]}getTileCacheForProjection(t){const n=this.getProjection();if(!n||(0,e.equivalent)(n,t))return this.tileCache;const r=(0,fr.sq)(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Rr(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(t,e,n,r,i,o){const s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,i),h=a?this.tileUrlFunction(a,r,i):void 0,u=new this.tileClass(s,void 0!==h?0:4,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(lr.Z.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,n,r,i,o){const s=this.getProjection();if(!s||!o||(0,e.equivalent)(s,o))return this.getTileInternal(t,n,r,i,s||o);const a=this.getTileCacheForProjection(o),h=[t,n,r];let u;const l=kr(h);a.containsKey(l)&&(u=a.get(l));const c=this.getKey();if(u&&u.key==c)return u;const f=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(h,o),g=new Ir(s,f,o,d,h,p,this.getTilePixelRatio(i),this.getGutter(),((t,e,n,r)=>this.getTileInternal(t,e,n,r,s)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=c,u?(g.interimTile=u,g.refreshInterimChain(),a.replace(l,g)):a.set(l,g),g}getTileInternal(t,e,n,r,i){let o=null;const s=Or(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if(o=this.tileCache.get(s),o.key!=a){const h=o;o=this.createTile_(t,e,n,r,i,a),0==h.getState()?o.interimTile=h.interimTile:o.interimTile=h,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,r,i,a),this.tileCache.set(s,o);return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,n){const r=(0,e.get)(t);if(r){const t=(0,fr.sq)(r);t in this.tileGridForProjection||(this.tileGridForProjection[t]=n)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}},ii=class extends ri{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:Vr({extent:Wr(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}};function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ai(t,e)}function hi(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(t)}var li=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ai(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ui(n);if(r){var i=ui(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return hi(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return si(this,o),t=i.call(this,ir(e)),e.mapID&&(t.mapID=e.mapID),t.initialize(e),t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(er(ii));function ci(t){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(t)}function fi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function di(t,e){return di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},di(t,e)}function pi(t,e){if(e&&("object"===ci(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(t)}var mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&di(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gi(n);if(r){var i=gi(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return pi(this,t)});function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fi(this,o),i.call(this,Object.assign(t,{opaque:!1}))}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(li);function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _i(t,e){return _i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_i(t,e)}function bi(t,e){if(e&&("object"===yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wi(t){return wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wi(t)}mi.isBasemap_=!1;var xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_i(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wi(n);if(r){var i=wi(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return bi(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vi(this,o),(t=i.call(this,e)).style="",t.accessToken="",t.style=e.style,t.mapboxMap=e.mapboxMap,t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(li);xi.isMapbox_=!0,i(24603),i(39714);function Mi(t){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(t)}function Ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Si(t,e){return Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Si(t,e)}function Ci(t,e){if(e&&("object"===Mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ii(t){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ii(t)}var Ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Si(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ii(n);if(r){var i=Ii(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Ci(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ei(this,o);var n=Object.assign({},e);return n.mapType=e.maptype.match(/^google_(.+)$/)?RegExp.$1:"roadmap",n.layerTypes=(e.layers||[]).map((function(t){return"layer".concat(t.charAt(0).toUpperCase()).concat(t.slice(1).toLowerCase())})),t=i.call(this,n),e.mapID&&(t.mapID=e.mapID),t.initialize(e),t}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(er(class extends ri{constructor(t){const e=!!t.highDpi,n=!(!0===t.overlay);super({attributions:t.attributions||['Google Maps<a class="ol-attribution-google-tos" href="https://cloud.google.com/maps-platform/terms/" target="_blank">Terms of Use</a> and <a class="ol-attribution-google-tos" href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a>'],cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:t.interpolate,opaque:n,projection:"EPSG:3857",reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.apiKey_=t.key,this.error_=null;const r={mapType:t.mapType||"roadmap",language:t.language||"en-US",region:t.region||"US"};t.imageFormat&&(r.imageFormat=t.imageFormat),t.scale&&(r.scale=t.scale),e&&(r.highDpi=!0),t.layerTypes&&(r.layerTypes=t.layerTypes),t.styles&&(r.styles=t.styles),!0===t.overlay&&(r.overlay=!0),this.sessionTokenRequest_=r,this.sessionRefreshId_,this.createSession_()}getError(){return this.error_}fetchSessionToken(t,e){return fetch(t,e)}async createSession_(){const t="https://tile.googleapis.com/v1/createSession?key="+this.apiKey_,e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.sessionTokenRequest_)},n=await this.fetchSessionToken(t,e);if(!n.ok){try{const t=await n.json();this.error_=new Error(t.error.message)}catch{this.error_=new Error("Error fetching session token")}return void this.setState("error")}const r=await n.json(),i=this.getTilePixelRatio(1),o=[r.tileWidth/i,r.tileHeight/i];this.tileGrid=Vr({extent:Wr(this.getProjection()),maxZoom:22,tileSize:o});const s=r.session,a=this.apiKey_;this.tileUrlFunction=function(t,e,n){return`https://tile.googleapis.com/v1/2dtiles/${t[0]}/${t[1]}/${t[2]}?session=${s}&key=${a}`};const h=1e3*parseInt(r.expiry,10),u=Math.max(h-Date.now()-6e4,1);this.sessionRefreshId_=setTimeout((()=>this.createSession_()),u),this.setState("ready")}disposeInternal(){clearTimeout(this.sessionRefreshId_),super.disposeInternal()}}));function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function Oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t,e){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ki(t,e)}function Ri(t,e){if(e&&("object"===Pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Li(t){return Li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Li(t)}for(var Ti=0;Ti<9;Ti++)!function(t,r){var i=new e.Projection({code:t,extent:[0,0,r,r],units:"m"});(0,e.addProjection)(i),(0,e.addCoordinateTransforms)("EPSG:3857",i,(function(t){return[(t[0]+n)*r/(2*n),(-t[1]+n)*r/(2*n)]}),(function(t){return[t[0]*(2*n)/r-n,-1*(t[1]*(2*n)/r-n)]}))}("ZOOM:".concat(Ti),256*Math.pow(2,Ti));var Ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ki(t,e)}(a,t);var e,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Li(n);if(r){var i=Li(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Ri(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Oi(this,a),(e=ir(e)).wrapX=!1;var n=Math.log2(e.width/s),r=Math.log2(e.height/s);return e.maxZoom=Math.ceil(Math.max(n,r)),e.tileUrlFunction=e.tileUrlFunction||function(t){var e=t[0],n=t[1],r=t[2];return n*s*Math.pow(2,this.maxZoom-e)>=this.width||r*s*Math.pow(2,this.maxZoom-e)>=this.height||n<0||r<0?o:this._tileUrlFunction(t)},t=i.call(this,e),e.mapID&&(t.mapID=e.mapID),e.urls?t._tileUrlFunction=Jr(e.urls):e.url&&(t._tileUrlFunction=Jr(Qr(e.url))),t.width=e.width,t.height=e.height,t.maxZoom=e.maxZoom,t._maxxy=Math.pow(2,t.maxZoom)*s,t.initialize(e),t}return e=a,Object.defineProperty(e,"prototype",{writable:!1}),e}(function(t){var e=function(t){Hn(r,t);var e=Kn(r);function r(){var t;return Xn(this,r),(t=e.apply(this,arguments)).width=0,t.height=0,t._maxxy=0,t}return Yn(r,[{key:"insideCheckXy",value:function(t){return!(t[0]<0||t[0]>this.width||t[1]<0||t[1]>this.height)}},{key:"insideCheckSysCoord",value:function(t){return this.insideCheckXy(this.sysCoord2Xy(t))}},{key:"modulateXyInside",value:function(t){var e=t[0]/(this.width/2)-1,n=t[1]/(this.height/2)-1,r=Math.max(Math.abs(e),Math.abs(n));return[(e/r+1)*this.width/2,(n/r+1)*this.height/2]}},{key:"modulateSysCoordInside",value:function(t){var e=this.sysCoord2Xy(t),n=this.modulateXyInside(e);return this.xy2SysCoord(n)}},{key:"xy2SysCoord",value:function(t){return[t[0]*(2*n)/this._maxxy-n,-1*(t[1]*(2*n)/this._maxxy-n)]}},{key:"sysCoord2Xy",value:function(t){return[(t[0]+n)*this._maxxy/(2*n),(-t[1]+n)*this._maxxy/(2*n)]}},{key:"defZoom",value:function(t){var e=t[0],n=t[1],r=Math.log2((e-10)/this.width),i=Math.log2((n-10)/this.height);return this.maxZoom+(i>r?i:r)}}]),r}(tr(t));return e.isBasemap_=!1,e.isWmts_=!1,e}(ii)),Di=i(29619);function Fi(t,n,r){var i="string"==typeof t?t:t.getCode(),o="string"==typeof n?n:n.getCode(),s=(0,e.getTransform)(t,n);if(s==e.identityTransform&&i!=o){var a=(0,e.getTransform)(t,"EPSG:3857"),h=(0,e.getTransform)("EPSG:3857",n);if(a==e.identityTransform&&"EPSG:3857"!=i)throw"Transform of Source projection is not defined.";if(h==e.identityTransform&&"EPSG:3857"!=o)throw"Transform of Distination projection is not defined.";s=function(r){return(0,e.transform)((0,e.transform)(r,t,"EPSG:3857"),"EPSG:3857",n)},(0,e.addCoordinateTransforms)(t,n,s,(function(r){return(0,e.transform)((0,e.transform)(r,n,"EPSG:3857"),"EPSG:3857",t)}))}if(r)return s(r)}function ji(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=C(t),i=A(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!Bi(r,s))return!1;"Polygon"===o&&(a=[a]);for(var h=!1,u=0;u<a.length&&!h;u++){var l=Gi(r,a[u]);(0===l&&!n.ignoreBoundary||l)&&(h=!0)}return h}function Bi(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function Gi(t,e){for(var n=0,r=0,i=0,o=0,s=0,a=0,h=0,u=0,l=null,c=null,f=t[0],d=t[1],p=e.length;n<p;n++){r=0;var g=e[n].length-1,m=e[n];for(s=(l=m[0])[0]-f,a=l[1]-d;r<g;r++)if(u=(c=m[r+1])[1]-d,a<0&&u<0||a>0&&u>0)a=u,s=(l=c)[0]-f;else{if(h=c[0]-t[0],u>0&&a<=0){if((o=s*u-h*a)>0)i+=1;else if(0===o)return 0}else if(a>0&&u<=0){if((o=s*u-h*a)<0)i+=1;else if(0===o)return 0}else if(0===u&&a<0){if(0==(o=s*u-h*a))return 0}else if(0===a&&u<0){if(0==(o=s*u-h*a))return 0}else if(0===a&&0===u){if(h<=0&&s>=0)return 0;if(s<=0&&h>=0)return 0}l=c,a=u,s=h}}return i%2!=0}function qi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zi(t,e,n){return e&&Ui(t.prototype,e),n&&Ui(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}i(91058),i(69600),i(39575),i(76495),i(92990),i(18927),i(33105),i(35035),i(74345),i(7174),i(32846),i(44731),i(77209),i(96319),i(58867),i(37789),i(33739),i(29368),i(14483),i(12056),i(3462),i(30678),i(27462),i(33824),i(55021),i(12974),i(15016),i(29135),i(18264),i(83710);var Zi=function(){function t(e){qi(this,t),this._zlimit=0,this.initArcs(e)}return zi(t,[{key:"initArcs",value:function(t){var e=[],n=[],r=t.map((function(t){for(var r=t?t.length:0,i=0;i<r;i++)e.push(t[i][0]),n.push(t[i][1]);return r}));this.initXYData(r,e,n)}},{key:"initXYData",value:function(t,e,n){var r=t.length;this._xx=new Float64Array(e),this._yy=new Float64Array(n),this._nn=new Uint32Array(t),this._zz=null,this._zlimit=0,this._filteredArcIter=null,this._ii=new Uint32Array(r);for(var i=0,o=0;o<r;o++)this._ii[o]=i,i+=t[o];i==this._xx.length&&this._xx.length==this._yy.length||Vi("ArcCollection#initXYData() Counting error"),this.initBounds(),this._arcIter=new ho(this._xx,this._yy)}},{key:"initBounds",value:function(){var t=this.calcArcBounds_(this._xx,this._yy,this._nn);this._bb=t.bb,this._allBounds=t.bounds}},{key:"calcArcBounds_",value:function(t,e,n){for(var r,i,o,s=n.length,a=new Float64Array(4*s),h=new lo,u=0,l=0;l<s;l++)(r=n[l])>0&&(i=4*l,o=uo(t,e,u,r),a[i++]=o[0],a[i++]=o[1],a[i++]=o[2],a[i]=o[3],u+=r,h.mergeBounds(o));return{bb:a,bounds:h}}},{key:"getBounds",value:function(){return this._allBounds.clone()}},{key:"forEachSegment",value:function(t){for(var e=0,n=0,r=this.size();n<r;n++)e+=this.forEachArcSegment(n,t);return e}},{key:"size",value:function(){return this._ii&&this._ii.length||0}},{key:"forEachArcSegment",value:function(t,e){for(var n=t>=0,r=n?t:~t,i=this.getRetainedInterval(),o=this._nn[r],s=n?1:-1,a=n?this._ii[r]:this._ii[r]+o-1,h=a,u=0,l=1;l<o;l++)h+=s,(0===i||this._zz[h]>=i)&&(e(a,h,this._xx,this._yy),a=h,u++);return u}},{key:"getRetainedInterval",value:function(){return this._zlimit}},{key:"getVertexData",value:function(){return{xx:this._xx,yy:this._yy,zz:this._zz,bb:this._bb,nn:this._nn,ii:this._ii}}},{key:"getUint32Array",value:function(t){var e=4*t;return(!this.buf||this.buf.byteLength<e)&&(this.buf=new ArrayBuffer(e)),new Uint32Array(this.buf,0,t)}},{key:"getAvgSegment2",value:function(){var t=0,e=0,n=this.forEachSegment((function(n,r,i,o){t+=Math.abs(i[n]-i[r]),e+=Math.abs(o[n]-o[r])}));return[t/n||0,e/n||0]}},{key:"calcSegmentIntersectionStripeCount",value:function(){var t=this.getBounds().height(),e=this.getAvgSegment2()[1],n=1;return e>0&&t>0&&(n=Math.ceil(t/e/20)),n||1}},{key:"findSegmentIntersections",value:function(){var t,e,n=this.getBounds(),r=n.ymin,i=n.ymax-r,o=this.calcSegmentIntersectionStripeCount(),s=new Uint32Array(o),a=o>1?function(t){return Math.floor((o-1)*(t-r)/i)}:function(){return 0};this.forEachSegment((function(t,e,n,r){for(var i=a(r[t]),o=a(r[e]);s[i]=s[i]+2,i!=o;)i+=o>i?1:-1}));var h=this.getUint32Array(function(t,e){Xi(t)||Vi("utils.sum() expects an array, received:",t);for(var n,r=0,i=0,o=t.length;i<o;i++)(n=t[i])?r+=n:isNaN(n)&&0;return r}(s)),u=0,l=[];!function(t,e,n){if(!Xi(t))throw new Error("#forEach() takes an array-like argument. ".concat(t));for(var r=0,i=t.length;r<i;r++)e.call(undefined,t[r],r)}(s,(function(t){var e=u;u+=t,l.push(h.subarray(e,u))})),function(t,e){for(var n=0,r=t.length;n<r;n++)t[n]=0}(s),this.forEachSegment((function(t,e,n,r){for(var i,o,h=a(r[t]),u=a(r[e]);i=s[h],s[h]=i+2,(o=l[h])[i]=t,o[i+1]=e,h!=u;)h+=u>h?1:-1}));var c,f=this.getVertexData(),d=[];for(t=0;t<o;t++)for(c=Wi(l[t],f.xx,f.yy),e=0;e<c.length;e++)d.push(c[e]);return ao(d)}}]),t}();function Vi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join(" ");throw new Error(r)}function Xi(t){return!!t&&(!!function(t){return Array.isArray(t)}(t)||!function(t){return null!=t&&t.toString===String.prototype.toString}(t)&&(0===t.length||t.length>0))}function Wi(t,e,n){var r,i,o,s,a,h,u,l,c,f,d,p,g,m,y,v,_,b=t.length-2,w=[];for(function(t,e){(function(t,e){for(var n=0,r=e.length;n<r;n+=2)t[e[n]]>t[e[n+1]]&&no(e,n,n+1)})(t,e),ro(t,e,0,e.length-2)}(e,t),v=0;v<b;){for(r=t[v],i=t[v+1],a=e[r],h=e[i],c=n[r],f=n[i],_=v;_<b&&!(h<(u=e[o=t[_+=2]]));){if(d=n[o],l=e[s=t[_+1]],p=n[s],c>=d){if(c>p&&f>d&&f>p)continue}else if(c<p&&f<d&&f<p)continue;r!=o&&r!=s&&i!=o&&i!=s&&(g=Yi(a,c,h,f,u,d,l,p))&&(m=[r,i],y=[o,s],w.push(oo(g,m,y,e,n)),4==g.length&&w.push(oo(g.slice(2),m,y,e,n)))}v+=2}return w}function Yi(t,e,n,r,i,o,s,a){var h=function(t,e,n,r,i,o,s,a){return Hi(t,e,n,r,i,o)*Hi(t,e,n,r,s,a)<=0&&Hi(i,o,s,a,t,e)*Hi(i,o,s,a,n,r)<=0}(t,e,n,r,i,o,s,a),u=null;return h&&(u=function(t,e,n,r,i,o,s,a){var h,u=Ki(t,e,n,r,i,o,s,a);return u&&(h=function(t,e){for(var n,r=-1,i=1/0,o=0,s=0,a=arguments.length<=2?0:arguments.length-2;s<a;o++,s+=2)(n=Qi(t,e,s+2<2||arguments.length<=s+2?void 0:arguments[s+2],s+1+2<2||arguments.length<=s+1+2?void 0:arguments[s+1+2]))<i&&(i=n,r=o);return r}(u[0],u[1],t,e,n,r,i,o,s,a),1==h?u=Ki(n,r,t,e,i,o,s,a):2==h?u=Ki(i,o,s,a,t,e,n,r):3==h&&(u=Ki(s,a,i,o,t,e,n,r))),u&&function(t,e,n,r,i,o,s,a,h){var u=t[0],l=t[1];u=to(u,e,r),u=to(u,o,a),l=to(l,n,i),l=to(l,s,h),t[0]=u,t[1]=l}(u,t,e,n,r,i,o,s,a),u}(t,e,n,r,i,o,s,a),u?function(t,e,n,r,i,o,s,a){return t==i&&e==o||t==s&&e==a||n==i&&r==o||n==s&&r==a}(t,e,n,r,i,o,s,a)&&(u=null):u=function(t,e,n,r,i,o,s,a){var h=Math.min(t,n,i,s),u=Math.max(t,n,i,s),l=Math.min(e,r,o,a),c=Math.max(e,r,o,a),f=c-l>u-h,d=[];return(f?eo(e,l,c):eo(t,h,u))&&d.push(t,e),(f?eo(r,l,c):eo(n,h,u))&&d.push(n,r),(f?eo(o,l,c):eo(i,h,u))&&d.push(i,o),(f?eo(a,l,c):eo(s,h,u))&&d.push(s,a),(2!=d.length&&4!=d.length||4==d.length&&d[0]==d[2]&&d[1]==d[3])&&(d=null),d}(t,e,n,r,i,o,s,a)),u}function Hi(t,e,n,r,i,o){return $i(t-i,e-o,n-i,r-o)}function $i(t,e,n,r){return t*r-e*n}function Ki(t,e,n,r,i,o,s,a){var h,u=$i(n-t,r-e,s-i,a-o);if(0===u)return null;var l=Hi(i,o,s,a,t,e)/u;return h=u<=1e-18&&u>=-1e-18?function(t,e,n,r,i,o,s,a){var h=null;return Ji(t,i,s)||Ji(e,o,a)?Ji(n,i,s)||Ji(r,o,a)?Ji(i,t,n)||Ji(o,e,r)?Ji(s,t,n)||Ji(a,e,r)||(h=[s,a]):h=[i,o]:h=[n,r]:h=[t,e],h}(t,e,n,r,i,o,s,a):[t+l*(n-t),e+l*(r-e)],h}function Ji(t,e,n){return e<n?t<e||t>n:e>n?t>e||t<n:t!=e}function Qi(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function to(t,e,n){var r;return Ji(t,e,n)&&(r=Math.abs(t-e)<Math.abs(t-n)?e:n,Math.abs(t-r),t=r),t}function eo(t,e,n){return t>e&&t<n}function no(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ro(t,e,n,r){for(var i,o,s=n,a=r;s<r;){for(i=t[e[n+r>>2<<1]];s<=a;){for(;t[e[s]]<i;)s+=2;for(;t[e[a]]>i;)a-=2;s<=a&&(o=e[s],e[s]=e[a],e[a]=o,o=e[s+1],e[s+1]=e[a+1],e[a+1]=o,s+=2,a-=2)}if(a-n<40?io(t,e,n,a):ro(t,e,n,a),r-s<40)return void io(t,e,s,r);n=s,a=r}}function io(t,e,n,r){for(var i,o,s=n+2;s<=r;s+=2){i=e[s],o=e[s+1];var a=void 0;for(a=s-2;a>=n&&t[i]<t[e[a]];a-=2)e[a+2]=e[a],e[a+3]=e[a+1];e[a+2]=i,e[a+3]=o}}function oo(t,e,n,r,i){var o=t[0],s=t[1];e=so(o,s,e[0],e[1],r,i),n=so(o,s,n[0],n[1],r,i);var a=e[0]<n[0]?e:n;return{x:o,y:s,a,b:a==e?n:e}}function so(t,e,n,r,i,o){var s=n<r?n:r,a=s===n?r:n;return i[s]==t&&o[s]==e?a=s:i[a]==t&&o[a]==e&&(s=a),[s,a]}function ao(t){var e={};return t.filter((function(t){var n=function(t){return"".concat(t.a.join(","),";").concat(t.b.join(","))}(t);return!(n in e)&&(e[n]=!0,!0)}))}var ho=zi((function t(e,n){qi(this,t),this._i=0,this._n=0,this._inc=1,this.i=0,this.x=0,this.y=0,this._xx=e,this._yy=n}));function uo(t,e,n,r){var i,o,s,a,h,u,l=0|n,c=isNaN(r)?t.length-l:r+l;if(!(c>0))return[void 0,void 0,void 0,void 0];for(s=h=t[l],a=u=e[l],l++;l<c;l++)(i=t[l])<s&&(s=i),i>h&&(h=i),(o=e[l])<a&&(a=o),o>u&&(u=o);return[s,a,h,u]}var lo=function(){function t(){qi(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.length>0&&this.setBounds(n)}return zi(t,[{key:"cloneBounds",value:function(){return this.clone()}},{key:"clone",value:function(){return new t(this.xmin,this.ymin,this.xmax,this.ymax)}},{key:"width",value:function(){return this.xmax-this.xmin||0}},{key:"height",value:function(){return this.ymax-this.ymin||0}},{key:"setBounds",value:function(t,e,n,r){return 1==arguments.length&&(Xi(t)?(e=t[1],n=t[2],r=t[3],t=t[0]):(e=t.ymin,n=t.xmax,r=t.ymax,t=t.xmin)),this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=r,(t>n||e>r)&&this.update(),this}},{key:"update",value:function(){var t;this.xmin>this.xmax&&(t=this.xmin,this.xmin=this.xmax,this.xmax=t),this.ymin>this.ymax&&(t=this.ymin,this.ymin=this.ymax,this.ymax=t)}},{key:"mergeBounds",value:function(e){var n,r,i,o;return e instanceof t?(n=e.xmin,r=e.ymin,i=e.xmax,o=e.ymax):3==(arguments.length<=1?0:arguments.length-1)?(n=e,r=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2],o=arguments.length<=3?void 0:arguments[3]):4==e.length?(n=e[0],r=e[1],i=e[2],o=e[3]):Vi("Bounds#mergeBounds() invalid argument:",e),void 0===this.xmin?this.setBounds(n,r,i,o):(n<this.xmin&&(this.xmin=n),r<this.ymin&&(this.ymin=r),i>this.xmax&&(this.xmax=i),o>this.ymax&&(this.ymax=o)),this}}]),t}();const co=134217729;function fo(t,e,n,r,i){let o,s,a,h,u=e[0],l=r[0],c=0,f=0;l>u==l>-u?(o=u,u=e[++c]):(o=l,l=r[++f]);let d=0;if(c<t&&f<n)for(l>u==l>-u?(s=u+o,a=o-(s-u),u=e[++c]):(s=l+o,a=o-(s-l),l=r[++f]),o=s,0!==a&&(i[d++]=a);c<t&&f<n;)l>u==l>-u?(s=o+u,h=s-o,a=o-(s-h)+(u-h),u=e[++c]):(s=o+l,h=s-o,a=o-(s-h)+(l-h),l=r[++f]),o=s,0!==a&&(i[d++]=a);for(;c<t;)s=o+u,h=s-o,a=o-(s-h)+(u-h),u=e[++c],o=s,0!==a&&(i[d++]=a);for(;f<n;)s=o+l,h=s-o,a=o-(s-h)+(l-h),l=r[++f],o=s,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function po(t){return new Float64Array(t)}const go=po(4),mo=po(8),yo=po(12),vo=po(16),_o=po(4);function bo(t,e,n,r,i,o){const s=(e-o)*(n-i),a=(t-i)*(r-o),h=s-a;if(0===s||0===a||s>0!=a>0)return h;const u=Math.abs(s+a);return Math.abs(h)>=33306690738754716e-32*u?h:-function(t,e,n,r,i,o,s){let a,h,u,l,c,f,d,p,g,m,y,v,_,b,w,x,M,E;const S=t-i,C=n-i,I=e-o,A=r-o;b=S*A,f=co*S,d=f-(f-S),p=S-d,f=co*A,g=f-(f-A),m=A-g,w=p*m-(b-d*g-p*g-d*m),x=I*C,f=co*I,d=f-(f-I),p=I-d,f=co*C,g=f-(f-C),m=C-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,go[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,go[1]=_-(y+c)+(c-x),E=v+y,c=E-v,go[2]=v-(E-c)+(y-c),go[3]=E;let P=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,go),O=22204460492503146e-32*s;if(P>=O||-P>=O)return P;if(c=t-S,a=t-(S+c)+(c-i),c=n-C,u=n-(C+c)+(c-i),c=e-I,h=e-(I+c)+(c-o),c=r-A,l=r-(A+c)+(c-o),0===a&&0===h&&0===u&&0===l)return P;if(O=11093356479670487e-47*s+33306690738754706e-32*Math.abs(P),P+=S*l+A*a-(I*u+C*h),P>=O||-P>=O)return P;b=a*A,f=co*a,d=f-(f-a),p=a-d,f=co*A,g=f-(f-A),m=A-g,w=p*m-(b-d*g-p*g-d*m),x=h*C,f=co*h,d=f-(f-h),p=h-d,f=co*C,g=f-(f-C),m=C-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,_o[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,_o[1]=_-(y+c)+(c-x),E=v+y,c=E-v,_o[2]=v-(E-c)+(y-c),_o[3]=E;const k=fo(4,go,4,_o,mo);b=S*l,f=co*S,d=f-(f-S),p=S-d,f=co*l,g=f-(f-l),m=l-g,w=p*m-(b-d*g-p*g-d*m),x=I*u,f=co*I,d=f-(f-I),p=I-d,f=co*u,g=f-(f-u),m=u-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,_o[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,_o[1]=_-(y+c)+(c-x),E=v+y,c=E-v,_o[2]=v-(E-c)+(y-c),_o[3]=E;const R=fo(k,mo,4,_o,yo);b=a*l,f=co*a,d=f-(f-a),p=a-d,f=co*l,g=f-(f-l),m=l-g,w=p*m-(b-d*g-p*g-d*m),x=h*u,f=co*h,d=f-(f-h),p=h-d,f=co*u,g=f-(f-u),m=u-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,_o[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,_o[1]=_-(y+c)+(c-x),E=v+y,c=E-v,_o[2]=v-(E-c)+(y-c),_o[3]=E;const L=fo(R,yo,4,_o,vo);return vo[L-1]}(t,e,n,r,i,o,u)}po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(8),po(8),po(8),po(4),po(8),po(8),po(8),po(12),po(192),po(192),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(8),po(8),po(8),po(8),po(8),po(8),po(8),po(8),po(8),po(4),po(4),po(4),po(8),po(16),po(16),po(16),po(32),po(32),po(48),po(64),po(1152),po(1152),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(4),po(24),po(24),po(24),po(24),po(24),po(24),po(24),po(24),po(24),po(24),po(1152),po(1152),po(1152),po(1152),po(1152),po(2304),po(2304),po(3456),po(5760),po(8),po(8),po(8),po(16),po(24),po(48),po(48),po(96),po(192),po(384),po(384),po(384),po(768),po(96),po(96),po(96),po(1152);const wo=Math.pow(2,-52),xo=new Uint32Array(512);class Mo{static from(t,e=Po,n=Oo){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Mo(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let s=1/0,a=1/0,h=-1/0,u=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<s&&(s=n),r<a&&(a=r),n>h&&(h=n),r>u&&(u=r),this._ids[e]=e}const l=(s+h)/2,c=(a+u)/2;let f,d,p,g=1/0;for(let e=0;e<o;e++){const n=Eo(l,c,t[2*e],t[2*e+1]);n<g&&(f=e,g=n)}const m=t[2*f],y=t[2*f+1];g=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=Eo(m,y,t[2*e],t[2*e+1]);n<g&&n>0&&(d=e,g=n)}let v=t[2*d],_=t[2*d+1],b=1/0;for(let e=0;e<o;e++){if(e===f||e===d)continue;const n=Co(m,y,v,_,t[2*e],t[2*e+1]);n<b&&(p=e,b=n)}let w=t[2*p],x=t[2*p+1];if(b===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Io(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(bo(m,y,v,_,w,x)<0){const t=d,e=v,n=_;d=p,v=w,_=x,p=t,w=e,x=n}const M=function(t,e,n,r,i,o){const s=n-t,a=r-e,h=i-t,u=o-e,l=s*s+a*a,c=h*h+u*u,f=.5/(s*u-a*h);return{x:t+(u*l-a*c)*f,y:e+(s*c-h*l)*f}}(m,y,v,_,w,x);this._cx=M.x,this._cy=M.y;for(let e=0;e<o;e++)this._dists[e]=Eo(t[2*e],t[2*e+1],M.x,M.y);Io(this._ids,this._dists,0,o-1),this._hullStart=f;let E=3;n[f]=e[p]=d,n[d]=e[f]=p,n[p]=e[d]=f,r[f]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,y)]=f,i[this._hashKey(v,_)]=d,i[this._hashKey(w,x)]=p,this.trianglesLen=0,this._addTriangle(f,d,p,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const h=this._ids[a],u=t[2*h],l=t[2*h+1];if(a>0&&Math.abs(u-o)<=wo&&Math.abs(l-s)<=wo)continue;if(o=u,s=l,h===f||h===d||h===p)continue;let c=0;for(let t=0,e=this._hashKey(u,l);t<this._hashSize&&(c=i[(e+t)%this._hashSize],-1===c||c===n[c]);t++);c=e[c];let g,m=c;for(;g=n[m],bo(u,l,t[2*m],t[2*m+1],t[2*g],t[2*g+1])>=0;)if(m=g,m===c){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,h,n[m],-1,-1,r[m]);r[h]=this._legalize(y+2),r[m]=y,E++;let v=n[m];for(;g=n[v],bo(u,l,t[2*v],t[2*v+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(v,h,g,r[h],-1,r[v]),r[h]=this._legalize(y+2),n[v]=v,E--,v=g;if(m===c)for(;g=e[m],bo(u,l,t[2*g],t[2*g+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(g,h,m,-1,r[m],r[g]),this._legalize(y+2),r[g]=y,n[m]=m,E--,m=g;this._hullStart=e[h]=m,n[m]=e[v]=h,n[h]=v,i[this._hashKey(u,l)]=h,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(E);for(let t=0,e=this._hullStart;t<E;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===i)break;t=xo[--i];continue}const h=s-s%3,u=a+(t+1)%3,l=h+(s+2)%3,c=e[o],f=e[t],d=e[u],p=e[l];if(So(r[2*c],r[2*c+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[s]=c;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(s,n[o]),this._link(o,l);const a=h+(s+1)%3;i<xo.length&&(xo[i++]=a)}else{if(0===i)break;t=xo[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function Eo(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function So(t,e,n,r,i,o,s,a){const h=t-s,u=e-a,l=n-s,c=r-a,f=i-s,d=o-a,p=l*l+c*c,g=f*f+d*d;return h*(c*g-p*d)-u*(l*g-p*f)+(h*h+u*u)*(l*d-c*f)<0}function Co(t,e,n,r,i,o){const s=n-t,a=r-e,h=i-t,u=o-e,l=s*s+a*a,c=h*h+u*u,f=.5/(s*u-a*h),d=(u*l-a*c)*f,p=(s*c-h*l)*f;return d*d+p*p}function Io(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=r}else{let i=n+1,o=r;Ao(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Ao(t,n,r),e[t[i]]>e[t[r]]&&Ao(t,i,r),e[t[n]]>e[t[i]]&&Ao(t,n,i);const s=t[i],a=e[s];for(;;){do{i++}while(e[t[i]]<a);do{o--}while(e[t[o]]>a);if(o<i)break;Ao(t,i,o)}t[n+1]=t[o],t[o]=s,r-i+1>=o-n?(Io(t,e,i,r),Io(t,e,n,o-1)):(Io(t,e,n,o-1),Io(t,e,i,r))}}function Ao(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Po(t){return t[0]}function Oo(t){return t[1]}const ko=134217729,Ro=33306690738754706e-32;function Lo(t,e,n,r,i){let o,s,a,h,u=e[0],l=r[0],c=0,f=0;l>u==l>-u?(o=u,u=e[++c]):(o=l,l=r[++f]);let d=0;if(c<t&&f<n)for(l>u==l>-u?(s=u+o,a=o-(s-u),u=e[++c]):(s=l+o,a=o-(s-l),l=r[++f]),o=s,0!==a&&(i[d++]=a);c<t&&f<n;)l>u==l>-u?(s=o+u,h=s-o,a=o-(s-h)+(u-h),u=e[++c]):(s=o+l,h=s-o,a=o-(s-h)+(l-h),l=r[++f]),o=s,0!==a&&(i[d++]=a);for(;c<t;)s=o+u,h=s-o,a=o-(s-h)+(u-h),u=e[++c],o=s,0!==a&&(i[d++]=a);for(;f<n;)s=o+l,h=s-o,a=o-(s-h)+(l-h),l=r[++f],o=s,0!==a&&(i[d++]=a);return 0===o&&0!==d||(i[d++]=o),d}function To(t,e,n,r,i,o,s,a){return Lo(Lo(t,e,n,r,s),s,i,o,a)}function No(t,e,n,r){let i,o,s,a,h,u,l,c,f,d,p;l=ko*n,d=l-(l-n),p=n-d;let g=e[0];i=g*n,l=ko*g,c=l-(l-g),f=g-c,s=f*p-(i-c*d-f*d-c*p);let m=0;0!==s&&(r[m++]=s);for(let y=1;y<t;y++)g=e[y],a=g*n,l=ko*g,c=l-(l-g),f=g-c,h=f*p-(a-c*d-f*d-c*p),o=i+h,u=o-i,s=i-(o-u)+(h-u),0!==s&&(r[m++]=s),i=a+o,s=o-(i-a),0!==s&&(r[m++]=s);return 0===i&&0!==m||(r[m++]=i),m}function Do(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Fo(t){return new Float64Array(t)}const jo=Fo(4),Bo=Fo(8),Go=Fo(12),qo=Fo(16),Uo=Fo(4);function zo(t,e,n,r,i,o){const s=(e-o)*(n-i),a=(t-i)*(r-o),h=s-a;if(0===s||0===a||s>0!=a>0)return h;const u=Math.abs(s+a);return Math.abs(h)>=33306690738754716e-32*u?h:-function(t,e,n,r,i,o,s){let a,h,u,l,c,f,d,p,g,m,y,v,_,b,w,x,M,E;const S=t-i,C=n-i,I=e-o,A=r-o;b=S*A,f=ko*S,d=f-(f-S),p=S-d,f=ko*A,g=f-(f-A),m=A-g,w=p*m-(b-d*g-p*g-d*m),x=I*C,f=ko*I,d=f-(f-I),p=I-d,f=ko*C,g=f-(f-C),m=C-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,jo[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,jo[1]=_-(y+c)+(c-x),E=v+y,c=E-v,jo[2]=v-(E-c)+(y-c),jo[3]=E;let P=Do(4,jo),O=22204460492503146e-32*s;if(P>=O||-P>=O)return P;if(c=t-S,a=t-(S+c)+(c-i),c=n-C,u=n-(C+c)+(c-i),c=e-I,h=e-(I+c)+(c-o),c=r-A,l=r-(A+c)+(c-o),0===a&&0===h&&0===u&&0===l)return P;if(O=11093356479670487e-47*s+Ro*Math.abs(P),P+=S*l+A*a-(I*u+C*h),P>=O||-P>=O)return P;b=a*A,f=ko*a,d=f-(f-a),p=a-d,f=ko*A,g=f-(f-A),m=A-g,w=p*m-(b-d*g-p*g-d*m),x=h*C,f=ko*h,d=f-(f-h),p=h-d,f=ko*C,g=f-(f-C),m=C-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,Uo[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,Uo[1]=_-(y+c)+(c-x),E=v+y,c=E-v,Uo[2]=v-(E-c)+(y-c),Uo[3]=E;const k=Lo(4,jo,4,Uo,Bo);b=S*l,f=ko*S,d=f-(f-S),p=S-d,f=ko*l,g=f-(f-l),m=l-g,w=p*m-(b-d*g-p*g-d*m),x=I*u,f=ko*I,d=f-(f-I),p=I-d,f=ko*u,g=f-(f-u),m=u-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,Uo[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,Uo[1]=_-(y+c)+(c-x),E=v+y,c=E-v,Uo[2]=v-(E-c)+(y-c),Uo[3]=E;const R=Lo(k,Bo,4,Uo,Go);b=a*l,f=ko*a,d=f-(f-a),p=a-d,f=ko*l,g=f-(f-l),m=l-g,w=p*m-(b-d*g-p*g-d*m),x=h*u,f=ko*h,d=f-(f-h),p=h-d,f=ko*u,g=f-(f-u),m=u-g,M=p*m-(x-d*g-p*g-d*m),y=w-M,c=w-y,Uo[0]=w-(y+c)+(c-M),v=b+y,c=v-b,_=b-(v-c)+(y-c),y=_-x,c=_-y,Uo[1]=_-(y+c)+(c-x),E=v+y,c=E-v,Uo[2]=v-(E-c)+(y-c),Uo[3]=E;const L=Lo(R,Go,4,Uo,qo);return qo[L-1]}(t,e,n,r,i,o,u)}Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(8),Fo(8),Fo(8),Fo(4),Fo(8),Fo(8),Fo(8),Fo(12),Fo(192),Fo(192);const Zo=Fo(4),Vo=Fo(4),Xo=Fo(4),Wo=Fo(4),Yo=Fo(4),Ho=Fo(4),$o=Fo(4),Ko=Fo(4),Jo=Fo(8),Qo=Fo(8),ts=Fo(8),es=Fo(8),ns=Fo(8),rs=Fo(8),is=Fo(8),os=Fo(8),ss=Fo(8),as=Fo(4),hs=Fo(4),us=Fo(4),ls=Fo(8),cs=Fo(16),fs=Fo(16),ds=Fo(16),ps=Fo(32),gs=Fo(32),ms=Fo(48),ys=Fo(64);let vs=Fo(1152),_s=Fo(1152);function bs(t,e,n){t=Lo(t,vs,e,n,_s);const r=vs;return vs=_s,_s=r,t}Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(4),Fo(24),Fo(24),Fo(24),Fo(24),Fo(24),Fo(24),Fo(24),Fo(24),Fo(24),Fo(24),Fo(1152),Fo(1152),Fo(1152),Fo(1152),Fo(1152),Fo(2304),Fo(2304),Fo(3456),Fo(5760),Fo(8),Fo(8),Fo(8),Fo(16),Fo(24),Fo(48),Fo(48),Fo(96),Fo(192),Fo(384),Fo(384),Fo(384),Fo(768),Fo(96),Fo(96),Fo(96),Fo(1152);class ws extends class{constructor(t,e){this.W=t,this.bs=e}add(t){const e=this.W,n=t/e|0,r=t%e;return this.bs[n]|=1<<r,this}delete(t){const e=this.W,n=t/e|0,r=t%e;return this.bs[n]&=~(1<<r),this}set(t,e){const n=this.W,r=t/n|0,i=1<<t%n;return this.bs[r]^=(-e^this.bs[r])&i,e}has(t){const e=this.W,n=t/e|0,r=t%e;return!!(this.bs[n]&1<<r)}forEach(t){const e=this.W,n=this.bs,r=n.length;for(let i=0;i<r;i++){let r=0;for(;n[i]&&r<e;)n[i]&1<<r&&t(i*e+r),r++}return this}}{constructor(t){super(8,new Uint8Array(Math.ceil(t/8)).fill(0))}}function xs(t){return t%3==2?t-2:t+1}function Ms(t){return t%3==0?t+2:t-1}class Es{constructor(t,e){if(!(t&&"object"==typeof t&&t.triangles&&t.halfedges&&t.coords))throw new Error("Expected an object with Delaunator output");if(t.triangles.length%3||t.halfedges.length!==t.triangles.length||t.coords.length%2)throw new Error("Delaunator output appears inconsistent");if(t.triangles.length<3)throw new Error("No edges in triangulation");this.del=t;const n=2**32-1,r=t.coords.length>>1,i=t.triangles.length;this.vertMap=new Uint32Array(r).fill(n),this.flips=new ws(i),this.consd=new ws(i);for(let e=0;e<i;e++){const r=t.triangles[e];this.vertMap[r]===n&&this.updateVert(e)}e&&this.constrainAll(e)}constrainOne(t,e){const{triangles:n,halfedges:r}=this.del,i=this.vertMap,o=this.consd,s=i[t];let a=s;do{const i=n[a],o=xs(a);if(i===e)return this.protect(a);const s=Ms(a),h=n[s];if(h===e)return this.protect(o),o;if(this.intersectSegments(t,e,h,i)){a=s;break}a=r[o]}while(-1!==a&&a!==s);let h=a,u=-1;for(;-1!==a;){const i=r[a],s=Ms(a),l=Ms(i),c=xs(i);if(-1===i)throw new Error("Constraining edge exited the hull");if(o.has(a))throw new Error("Edge intersects already constrained edge");if(this.isCollinear(t,e,n[a])||this.isCollinear(t,e,n[i]))throw new Error("Constraining edge intersects point");if(this.intersectSegments(n[a],n[i],n[s],n[l])){if(this.flipDiagonal(a),this.intersectSegments(t,e,n[s],n[l])&&(-1===u&&(u=s),u===s))throw new Error("Infinite loop: flipped diagonal still intersects");n[l]===e?(h=l,a=u,u=-1):this.intersectSegments(t,e,n[c],n[l])&&(a=c)}else{if(-1===u&&(u=a),n[l]===e){if(a===u)throw new Error("Infinite loop: non-convex quadrilateral");a=u,u=-1;continue}if(this.intersectSegments(t,e,n[l],n[i]))a=l;else if(this.intersectSegments(t,e,n[c],n[l]))a=c;else if(u===a)throw new Error("Infinite loop: no further intersect after non-convex")}}const l=this.flips;this.protect(h);do{var c=0;l.forEach((t=>{l.delete(t);const e=r[t];-1!==e&&(l.delete(e),this.isDelaunay(t)||(this.flipDiagonal(t),c++))}))}while(c>0);return this.findEdge(t,e)}delaunify(t=!1){const e=this.del.halfedges,n=this.flips,r=this.consd,i=e.length;do{var o=0;for(let t=0;t<i;t++){if(r.has(t))continue;n.delete(t);const i=e[t];-1!==i&&(n.delete(i),this.isDelaunay(t)||(this.flipDiagonal(t),o++))}}while(t&&o>0);return this}constrainAll(t){const e=t.length;for(let n=0;n<e;n++){const e=t[n];this.constrainOne(e[0],e[1])}return this}isConstrained(t){return this.consd.has(t)}findEdge(t,e){const n=this.vertMap[e],{triangles:r,halfedges:i}=this.del;let o=n,s=-1;do{if(r[o]===t)return o;s=xs(o),o=i[s]}while(-1!==o&&o!==n);return r[xs(s)]===t?-s:1/0}protect(t){const e=this.del.halfedges[t],n=this.flips,r=this.consd;return n.delete(t),r.add(t),-1!==e?(n.delete(e),r.add(e),e):-t}markFlip(t){const e=this.del.halfedges,n=this.flips;if(this.consd.has(t))return!1;const r=e[t];return-1!==r&&(n.add(t),n.add(r)),!0}flipDiagonal(t){const{triangles:e,halfedges:n}=this.del,r=this.flips,i=this.consd,o=n[t],s=Ms(t),a=xs(t),h=Ms(o),u=xs(o),l=n[s],c=n[h];if(i.has(t))throw new Error("Trying to flip a constrained edge");return e[t]=e[h],n[t]=c,r.set(t,r.has(h))||i.set(t,i.has(h)),-1!==c&&(n[c]=t),n[s]=h,e[o]=e[s],n[o]=l,r.set(o,r.has(s))||i.set(o,i.has(s)),-1!==l&&(n[l]=o),n[h]=s,this.markFlip(t),this.markFlip(a),this.markFlip(o),this.markFlip(u),r.add(s),i.delete(s),r.add(h),i.delete(h),this.updateVert(t),this.updateVert(a),this.updateVert(o),this.updateVert(u),s}isDelaunay(t){const{triangles:e,halfedges:n}=this.del,r=n[t];if(-1===r)return!0;const i=e[Ms(t)],o=e[t],s=e[xs(t)],a=e[Ms(r)];return!this.inCircle(i,o,s,a)}updateVert(t){const{triangles:e,halfedges:n}=this.del,r=this.vertMap,i=e[t];let o=Ms(t),s=n[o];for(;-1!==s&&s!==t;)o=Ms(s),s=n[o];return r[i]=o,o}intersectSegments(t,e,n,r){const i=this.del.coords;return t!==n&&t!==r&&e!==n&&e!==r&&Ss(i[2*t],i[2*t+1],i[2*e],i[2*e+1],i[2*n],i[2*n+1],i[2*r],i[2*r+1])}inCircle(t,e,n,r){const i=this.del.coords;return function(t,e,n,r,i,o,s,a){const h=t-s,u=n-s,l=i-s,c=e-a,f=r-a,d=o-a,p=u*d,g=l*f,m=h*h+c*c,y=l*c,v=h*d,_=u*u+f*f,b=h*f,w=u*c,x=l*l+d*d,M=m*(p-g)+_*(y-v)+x*(b-w),E=(Math.abs(p)+Math.abs(g))*m+(Math.abs(y)+Math.abs(v))*_+(Math.abs(b)+Math.abs(w))*x,S=11102230246251577e-31*E;return M>S||-M>S?M:function(t,e,n,r,i,o,s,a,h){let u,l,c,f,d,p,g,m,y,v,_,b,w,x,M,E,S,C,I,A,P,O,k,R,L,T,N,D,F,j,B,G,q,U,z;const Z=t-s,V=n-s,X=i-s,W=e-a,Y=r-a,H=o-a;B=V*H,k=ko*V,R=k-(k-V),L=V-R,k=ko*H,T=k-(k-H),N=H-T,G=L*N-(B-R*T-L*T-R*N),q=X*Y,k=ko*X,R=k-(k-X),L=X-R,k=ko*Y,T=k-(k-Y),N=Y-T,U=L*N-(q-R*T-L*T-R*N),D=G-U,O=G-D,Zo[0]=G-(D+O)+(O-U),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j-q,O=j-D,Zo[1]=j-(D+O)+(O-q),z=F+D,O=z-F,Zo[2]=F-(z-O)+(D-O),Zo[3]=z,B=X*W,k=ko*X,R=k-(k-X),L=X-R,k=ko*W,T=k-(k-W),N=W-T,G=L*N-(B-R*T-L*T-R*N),q=Z*H,k=ko*Z,R=k-(k-Z),L=Z-R,k=ko*H,T=k-(k-H),N=H-T,U=L*N-(q-R*T-L*T-R*N),D=G-U,O=G-D,Vo[0]=G-(D+O)+(O-U),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j-q,O=j-D,Vo[1]=j-(D+O)+(O-q),z=F+D,O=z-F,Vo[2]=F-(z-O)+(D-O),Vo[3]=z,B=Z*Y,k=ko*Z,R=k-(k-Z),L=Z-R,k=ko*Y,T=k-(k-Y),N=Y-T,G=L*N-(B-R*T-L*T-R*N),q=V*W,k=ko*V,R=k-(k-V),L=V-R,k=ko*W,T=k-(k-W),N=W-T,U=L*N-(q-R*T-L*T-R*N),D=G-U,O=G-D,Xo[0]=G-(D+O)+(O-U),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j-q,O=j-D,Xo[1]=j-(D+O)+(O-q),z=F+D,O=z-F,Xo[2]=F-(z-O)+(D-O),Xo[3]=z,u=Lo(Lo(Lo(No(No(4,Zo,Z,ls),ls,Z,cs),cs,No(No(4,Zo,W,ls),ls,W,fs),fs,ps),ps,Lo(No(No(4,Vo,V,ls),ls,V,cs),cs,No(No(4,Vo,Y,ls),ls,Y,fs),fs,gs),gs,ys),ys,Lo(No(No(4,Xo,X,ls),ls,X,cs),cs,No(No(4,Xo,H,ls),ls,H,fs),fs,ps),ps,vs);let $=Do(u,vs),K=4440892098500632e-31*h;if($>=K||-$>=K)return $;if(O=t-Z,l=t-(Z+O)+(O-s),O=e-W,d=e-(W+O)+(O-a),O=n-V,c=n-(V+O)+(O-s),O=r-Y,p=r-(Y+O)+(O-a),O=i-X,f=i-(X+O)+(O-s),O=o-H,g=o-(H+O)+(O-a),0===l&&0===c&&0===f&&0===d&&0===p&&0===g)return $;if(K=5423418723394464e-46*h+Ro*Math.abs($),$+=(Z*Z+W*W)*(V*g+H*c-(Y*f+X*p))+2*(Z*l+W*d)*(V*H-Y*X)+((V*V+Y*Y)*(X*d+W*f-(H*l+Z*g))+2*(V*c+Y*p)*(X*W-H*Z))+((X*X+H*H)*(Z*p+Y*l-(W*c+V*d))+2*(X*f+H*g)*(Z*Y-W*V)),$>=K||-$>=K)return $;if(0===c&&0===p&&0===f&&0===g||(B=Z*Z,k=ko*Z,R=k-(k-Z),L=Z-R,G=L*L-(B-R*R-(R+R)*L),q=W*W,k=ko*W,R=k-(k-W),L=W-R,U=L*L-(q-R*R-(R+R)*L),D=G+U,O=D-G,Wo[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,Wo[1]=j-(D-O)+(q-O),z=F+D,O=z-F,Wo[2]=F-(z-O)+(D-O),Wo[3]=z),0===f&&0===g&&0===l&&0===d||(B=V*V,k=ko*V,R=k-(k-V),L=V-R,G=L*L-(B-R*R-(R+R)*L),q=Y*Y,k=ko*Y,R=k-(k-Y),L=Y-R,U=L*L-(q-R*R-(R+R)*L),D=G+U,O=D-G,Yo[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,Yo[1]=j-(D-O)+(q-O),z=F+D,O=z-F,Yo[2]=F-(z-O)+(D-O),Yo[3]=z),0===l&&0===d&&0===c&&0===p||(B=X*X,k=ko*X,R=k-(k-X),L=X-R,G=L*L-(B-R*R-(R+R)*L),q=H*H,k=ko*H,R=k-(k-H),L=H-R,U=L*L-(q-R*R-(R+R)*L),D=G+U,O=D-G,Ho[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,Ho[1]=j-(D-O)+(q-O),z=F+D,O=z-F,Ho[2]=F-(z-O)+(D-O),Ho[3]=z),0!==l&&(m=No(4,Zo,l,Jo),u=bs(u,To(No(m,Jo,2*Z,cs),cs,No(No(4,Ho,l,ls),ls,Y,fs),fs,No(No(4,Yo,l,ls),ls,-H,ds),ds,ps,ms),ms)),0!==d&&(y=No(4,Zo,d,Qo),u=bs(u,To(No(y,Qo,2*W,cs),cs,No(No(4,Yo,d,ls),ls,X,fs),fs,No(No(4,Ho,d,ls),ls,-V,ds),ds,ps,ms),ms)),0!==c&&(v=No(4,Vo,c,ts),u=bs(u,To(No(v,ts,2*V,cs),cs,No(No(4,Wo,c,ls),ls,H,fs),fs,No(No(4,Ho,c,ls),ls,-W,ds),ds,ps,ms),ms)),0!==p&&(_=No(4,Vo,p,es),u=bs(u,To(No(_,es,2*Y,cs),cs,No(No(4,Ho,p,ls),ls,Z,fs),fs,No(No(4,Wo,p,ls),ls,-X,ds),ds,ps,ms),ms)),0!==f&&(b=No(4,Xo,f,ns),u=bs(u,To(No(b,ns,2*X,cs),cs,No(No(4,Yo,f,ls),ls,W,fs),fs,No(No(4,Wo,f,ls),ls,-Y,ds),ds,ps,ms),ms)),0!==g&&(w=No(4,Xo,g,rs),u=bs(u,To(No(w,rs,2*H,cs),cs,No(No(4,Wo,g,ls),ls,V,fs),fs,No(No(4,Yo,g,ls),ls,-Z,ds),ds,ps,ms),ms)),0!==l||0!==d){if(0!==c||0!==p||0!==f||0!==g?(B=c*H,k=ko*c,R=k-(k-c),L=c-R,k=ko*H,T=k-(k-H),N=H-T,G=L*N-(B-R*T-L*T-R*N),q=V*g,k=ko*V,R=k-(k-V),L=V-R,k=ko*g,T=k-(k-g),N=g-T,U=L*N-(q-R*T-L*T-R*N),D=G+U,O=D-G,$o[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,$o[1]=j-(D-O)+(q-O),z=F+D,O=z-F,$o[2]=F-(z-O)+(D-O),$o[3]=z,B=f*-Y,k=ko*f,R=k-(k-f),L=f-R,k=ko*-Y,T=k-(k- -Y),N=-Y-T,G=L*N-(B-R*T-L*T-R*N),q=X*-p,k=ko*X,R=k-(k-X),L=X-R,k=ko*-p,T=k-(k- -p),N=-p-T,U=L*N-(q-R*T-L*T-R*N),D=G+U,O=D-G,Ko[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,Ko[1]=j-(D-O)+(q-O),z=F+D,O=z-F,Ko[2]=F-(z-O)+(D-O),Ko[3]=z,M=Lo(4,$o,4,Ko,os),B=c*g,k=ko*c,R=k-(k-c),L=c-R,k=ko*g,T=k-(k-g),N=g-T,G=L*N-(B-R*T-L*T-R*N),q=f*p,k=ko*f,R=k-(k-f),L=f-R,k=ko*p,T=k-(k-p),N=p-T,U=L*N-(q-R*T-L*T-R*N),D=G-U,O=G-D,hs[0]=G-(D+O)+(O-U),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j-q,O=j-D,hs[1]=j-(D+O)+(O-q),z=F+D,O=z-F,hs[2]=F-(z-O)+(D-O),hs[3]=z,C=4):(os[0]=0,M=1,hs[0]=0,C=1),0!==l){const t=No(M,os,l,ds);u=bs(u,Lo(No(m,Jo,l,cs),cs,No(t,ds,2*Z,ps),ps,ms),ms);const e=No(C,hs,l,ls);u=bs(u,To(No(e,ls,2*Z,cs),cs,No(e,ls,l,fs),fs,No(t,ds,l,ps),ps,gs,ys),ys),0!==p&&(u=bs(u,No(No(4,Ho,l,ls),ls,p,cs),cs)),0!==g&&(u=bs(u,No(No(4,Yo,-l,ls),ls,g,cs),cs))}if(0!==d){const t=No(M,os,d,ds);u=bs(u,Lo(No(y,Qo,d,cs),cs,No(t,ds,2*W,ps),ps,ms),ms);const e=No(C,hs,d,ls);u=bs(u,To(No(e,ls,2*W,cs),cs,No(e,ls,d,fs),fs,No(t,ds,d,ps),ps,gs,ys),ys)}}if(0!==c||0!==p){if(0!==f||0!==g||0!==l||0!==d?(B=f*W,k=ko*f,R=k-(k-f),L=f-R,k=ko*W,T=k-(k-W),N=W-T,G=L*N-(B-R*T-L*T-R*N),q=X*d,k=ko*X,R=k-(k-X),L=X-R,k=ko*d,T=k-(k-d),N=d-T,U=L*N-(q-R*T-L*T-R*N),D=G+U,O=D-G,$o[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,$o[1]=j-(D-O)+(q-O),z=F+D,O=z-F,$o[2]=F-(z-O)+(D-O),$o[3]=z,A=-H,P=-g,B=l*A,k=ko*l,R=k-(k-l),L=l-R,k=ko*A,T=k-(k-A),N=A-T,G=L*N-(B-R*T-L*T-R*N),q=Z*P,k=ko*Z,R=k-(k-Z),L=Z-R,k=ko*P,T=k-(k-P),N=P-T,U=L*N-(q-R*T-L*T-R*N),D=G+U,O=D-G,Ko[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,Ko[1]=j-(D-O)+(q-O),z=F+D,O=z-F,Ko[2]=F-(z-O)+(D-O),Ko[3]=z,E=Lo(4,$o,4,Ko,ss),B=f*d,k=ko*f,R=k-(k-f),L=f-R,k=ko*d,T=k-(k-d),N=d-T,G=L*N-(B-R*T-L*T-R*N),q=l*g,k=ko*l,R=k-(k-l),L=l-R,k=ko*g,T=k-(k-g),N=g-T,U=L*N-(q-R*T-L*T-R*N),D=G-U,O=G-D,us[0]=G-(D+O)+(O-U),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j-q,O=j-D,us[1]=j-(D+O)+(O-q),z=F+D,O=z-F,us[2]=F-(z-O)+(D-O),us[3]=z,I=4):(ss[0]=0,E=1,us[0]=0,I=1),0!==c){const t=No(E,ss,c,ds);u=bs(u,Lo(No(v,ts,c,cs),cs,No(t,ds,2*V,ps),ps,ms),ms);const e=No(I,us,c,ls);u=bs(u,To(No(e,ls,2*V,cs),cs,No(e,ls,c,fs),fs,No(t,ds,c,ps),ps,gs,ys),ys),0!==g&&(u=bs(u,No(No(4,Wo,c,ls),ls,g,cs),cs)),0!==d&&(u=bs(u,No(No(4,Ho,-c,ls),ls,d,cs),cs))}if(0!==p){const t=No(E,ss,p,ds);u=bs(u,Lo(No(_,es,p,cs),cs,No(t,ds,2*Y,ps),ps,ms),ms);const e=No(I,us,p,ls);u=bs(u,To(No(e,ls,2*Y,cs),cs,No(e,ls,p,fs),fs,No(t,ds,p,ps),ps,gs,ys),ys)}}if(0!==f||0!==g){if(0!==l||0!==d||0!==c||0!==p?(B=l*Y,k=ko*l,R=k-(k-l),L=l-R,k=ko*Y,T=k-(k-Y),N=Y-T,G=L*N-(B-R*T-L*T-R*N),q=Z*p,k=ko*Z,R=k-(k-Z),L=Z-R,k=ko*p,T=k-(k-p),N=p-T,U=L*N-(q-R*T-L*T-R*N),D=G+U,O=D-G,$o[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,$o[1]=j-(D-O)+(q-O),z=F+D,O=z-F,$o[2]=F-(z-O)+(D-O),$o[3]=z,A=-W,P=-d,B=c*A,k=ko*c,R=k-(k-c),L=c-R,k=ko*A,T=k-(k-A),N=A-T,G=L*N-(B-R*T-L*T-R*N),q=V*P,k=ko*V,R=k-(k-V),L=V-R,k=ko*P,T=k-(k-P),N=P-T,U=L*N-(q-R*T-L*T-R*N),D=G+U,O=D-G,Ko[0]=G-(D-O)+(U-O),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j+q,O=D-j,Ko[1]=j-(D-O)+(q-O),z=F+D,O=z-F,Ko[2]=F-(z-O)+(D-O),Ko[3]=z,x=Lo(4,$o,4,Ko,is),B=l*p,k=ko*l,R=k-(k-l),L=l-R,k=ko*p,T=k-(k-p),N=p-T,G=L*N-(B-R*T-L*T-R*N),q=c*d,k=ko*c,R=k-(k-c),L=c-R,k=ko*d,T=k-(k-d),N=d-T,U=L*N-(q-R*T-L*T-R*N),D=G-U,O=G-D,as[0]=G-(D+O)+(O-U),F=B+D,O=F-B,j=B-(F-O)+(D-O),D=j-q,O=j-D,as[1]=j-(D+O)+(O-q),z=F+D,O=z-F,as[2]=F-(z-O)+(D-O),as[3]=z,S=4):(is[0]=0,x=1,as[0]=0,S=1),0!==f){const t=No(x,is,f,ds);u=bs(u,Lo(No(b,ns,f,cs),cs,No(t,ds,2*X,ps),ps,ms),ms);const e=No(S,as,f,ls);u=bs(u,To(No(e,ls,2*X,cs),cs,No(e,ls,f,fs),fs,No(t,ds,f,ps),ps,gs,ys),ys),0!==d&&(u=bs(u,No(No(4,Yo,f,ls),ls,d,cs),cs)),0!==p&&(u=bs(u,No(No(4,Wo,-f,ls),ls,p,cs),cs))}if(0!==g){const t=No(x,is,g,ds);u=bs(u,Lo(No(w,rs,g,cs),cs,No(t,ds,2*H,ps),ps,ms),ms);const e=No(S,as,g,ls);u=bs(u,To(No(e,ls,2*H,cs),cs,No(e,ls,g,fs),fs,No(t,ds,g,ps),ps,gs,ys),ys)}}return vs[u-1]}(t,e,n,r,i,o,s,a,E)}(i[2*t],i[2*t+1],i[2*e],i[2*e+1],i[2*n],i[2*n+1],i[2*r],i[2*r+1])<0}isCollinear(t,e,n){const r=this.del.coords;return 0===zo(r[2*t],r[2*t+1],r[2*e],r[2*e+1],r[2*n],r[2*n+1])}}function Ss(t,e,n,r,i,o,s,a){const h=zo(t,e,i,o,s,a),u=zo(n,r,i,o,s,a);if(h>0&&u>0||h<0&&u<0)return!1;const l=zo(i,o,t,e,n,r),c=zo(s,a,t,e,n,r);return!(l>0&&c>0||l<0&&c<0||0===h&&0===u&&0===l&&0===c&&(Math.max(i,s)<Math.min(t,n)||Math.max(t,n)<Math.min(i,s)||Math.max(o,a)<Math.min(e,r)||Math.max(e,r)<Math.min(o,a)))}function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function Is(t,e,n){if(e||(e=[]),"object"!==Cs(t)||"FeatureCollection"!==t.type)throw"Argument points must be FeatureCollection";if(!Array.isArray(e))throw"Argument points must be Array of Array";var r=t.features.map((function(t){return t.geometry.coordinates})),i=Mo.from(r),o=[];0!==i.triangles.length&&0!==e.length&&new Es(i).constrainAll(e);for(var s=0;s<i.triangles.length;s+=3)o.push([i.triangles[s],i.triangles[s+1],i.triangles[s+2]]);var a=["a","b","c"];return(0,b.featureCollection)(o.map((function(e){var r={},i=e.map((function(e,i){var o=t.features[e],s=o.geometry.coordinates,h=[s[0],s[1]];return 3===s.length?h[2]=s[2]:r[a[i]]=o.properties[n],h}));return i[3]=i[0],(0,b.polygon)([i],r)})))}function As(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Es.intersectSegments=Ss;var Os=2.00703,ks=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};As(this,t),this.points=[],e.bounds?this.setBounds(e.bounds):(this.setWh(e.wh),this.vertexMode=e.vertexMode||t.VERTEX_PLAIN),this.strictMode=e.strictMode||t.MODE_AUTO,this.yaxisMode=e.yaxisMode||t.YAXIS_INVERT,this.importance=e.importance||0,this.priority=e.priority||0,this.stateFull=e.stateFull||!1,e.points&&this.setPoints(e.points),e.edges&&this.setEdges(e.edges)}var e,n;return e=t,n=[{key:"getFormatVersion",value:function(){return Os}},{key:"setPoints",value:function(e){this.yaxisMode==t.YAXIS_FOLLOW&&(e=e.map((function(t){return[t[0],[t[1][0],-1*t[1][1]]]}))),this.points=e,this.tins=void 0,this.indexedTins=void 0}},{key:"setEdges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.edges=Vs(t),this.edgeNodes=void 0,this.tins=void 0,this.indexedTins=void 0}},{key:"setBounds",value:function(e){this.bounds=e;for(var n=e[0][0],r=n,i=e[0][1],o=i,s=[e[0]],a=1;a<e.length;a++){var h=e[a];h[0]<n&&(n=h[0]),h[0]>r&&(r=h[0]),h[1]<i&&(i=h[1]),h[1]>o&&(o=h[1]),s.push(h)}s.push(e[0]),this.boundsPolygon=(0,b.polygon)([s]),this.xy=[n,i],this.wh=[r-n,o-i],this.vertexMode=t.VERTEX_PLAIN,this.tins=void 0,this.indexedTins=void 0}},{key:"setCompiled",value:function(e){var n=this;if(e.version||!e.tins&&e.points&&e.tins_points){this.points=e.points,this.pointsWeightBuffer=!e.version||e.version<2.00703?["forw","bakw"].reduce((function(t,n){var r=e.weight_buffer[n];return r&&(t[n]=Object.keys(r).reduce((function(t,e){return t[Zs(e)]=r[e],t}),{})),t}),{}):e.weight_buffer,e.strict_status?this.strict_status=e.strict_status:e.kinks_points?this.strict_status=t.STATUS_ERROR:2==e.tins_points.length?this.strict_status=t.STATUS_LOOSE:this.strict_status=t.STATUS_STRICT,this.vertices_params={forw:[e.vertices_params[0]],bakw:[e.vertices_params[1]]},this.vertices_params.forw[1]=[0,1,2,3].map((function(t){var n=(t+1)%4,r=zs(["c","b".concat(t),"b".concat(n)],e.points,e.edgeNodes||[],e.centroid_point,e.vertices_points,!1,Os);return(0,b.featureCollection)([r])})),this.vertices_params.bakw[1]=[0,1,2,3].map((function(t){var n=(t+1)%4,r=zs(["c","b".concat(t),"b".concat(n)],e.points,e.edgeNodes||[],e.centroid_point,e.vertices_points,!0,Os);return(0,b.featureCollection)([r])})),this.centroid={forw:(0,b.point)(e.centroid_point[0],{target:{geom:e.centroid_point[1],index:"c"}}),bakw:(0,b.point)(e.centroid_point[1],{target:{geom:e.centroid_point[0],index:"c"}})},this.edges=Vs(e.edges||[]),this.edgeNodes=e.edgeNodes||[];var r=1==e.tins_points.length?0:1;this.tins={forw:(0,b.featureCollection)(e.tins_points[0].map((function(t){return zs(t,e.points,e.edgeNodes||[],e.centroid_point,e.vertices_points,!1,e.version)}))),bakw:(0,b.featureCollection)(e.tins_points[r].map((function(t){return zs(t,e.points,e.edgeNodes||[],e.centroid_point,e.vertices_points,!0,e.version)})))},this.addIndexedTin(),e.kinks_points&&(this.kinks={bakw:(0,b.featureCollection)(e.kinks_points.map((function(t){return(0,b.point)(t)})))}),e.yaxisMode?this.yaxisMode=e.yaxisMode:this.yaxisMode=t.YAXIS_INVERT,e.vertexMode&&(this.vertexMode=e.vertexMode),e.strictMode&&(this.strictMode=e.strictMode),e.bounds?(this.bounds=e.bounds,this.boundsPolygon=e.boundsPolygon,this.xy=e.xy,this.wh=e.wh):(this.xy=[0,0],e.wh&&(this.wh=e.wh),this.bounds=void 0,this.boundsPolygon=void 0)}else!function(){e=JSON.parse(JSON.stringify(e).replace('"cent"','"c"').replace(/"bbox(\d+)"/g,'"b$1"')),n.tins=e.tins,n.addIndexedTin(),n.strict_status=e.strict_status,n.pointsWeightBuffer=e.weight_buffer,n.vertices_params=e.vertices_params,n.centroid=e.centroid,n.kinks=e.kinks;for(var t=[],r=function(e){var r=n.tins.forw.features[e];["a","b","c"].map((function(e,n){var i=r.geometry.coordinates[0][n],o=r.properties[e].geom,s=r.properties[e].index;t[s]=[i,o]}))},i=0;i<n.tins.forw.features.length;i++)r(i);n.points=t}();return{tins:this.tins,strict_status:this.strict_status,weight_buffer:this.pointsWeightBuffer,vertices_params:this.vertices_params,centroid:this.centroid,kinks:this.kinks}}},{key:"getCompiled",value:function(){var e={};e.version=Os,e.points=this.points,e.weight_buffer=this.pointsWeightBuffer,e.centroid_point=[this.centroid.forw.geometry.coordinates,this.centroid.forw.properties.target.geom],e.vertices_params=[this.vertices_params.forw[0],this.vertices_params.bakw[0]],e.vertices_points=[];var n=this.vertices_params.forw[1];return[0,1,2,3].map((function(t){var r=n[t].features[0],i=r.geometry.coordinates[0][1],o=r.properties.b.geom;e.vertices_points[t]=[i,o]})),e.strict_status=this.strict_status,e.tins_points=[[]],this.tins.forw.features.map((function(t){e.tins_points[0].push(["a","b","c"].map((function(e){return t.properties[e].index})))})),this.strict_status==t.STATUS_LOOSE?(e.tins_points[1]=[],this.tins.bakw.features.map((function(t){e.tins_points[1].push(["a","b","c"].map((function(e){return t.properties[e].index})))}))):this.strict_status==t.STATUS_ERROR&&(e.kinks_points=this.kinks.bakw.features.map((function(t){return t.geometry.coordinates}))),e.yaxisMode=this.yaxisMode,e.vertexMode=this.vertexMode,e.strictMode=this.strictMode,this.bounds?(e.bounds=this.bounds,e.boundsPolygon=this.boundsPolygon,e.xy=this.xy,e.wh=this.wh):e.wh=this.wh,e.edges=this.edges,e.edgeNodes=this.edgeNodes,e}},{key:"addIndexedTin",value:function(){var t=this.tins,e=t.forw,n=t.bakw,r=Math.ceil(Math.sqrt(e.features.length));if(r<3)this.indexedTins=void 0;else{var i=[],o=[],s=e.features.map((function(t){var e=[];return I(t)[0].map((function(t){0===i.length?i=[Array.from(t),Array.from(t)]:(t[0]<i[0][0]&&(i[0][0]=t[0]),t[0]>i[1][0]&&(i[1][0]=t[0]),t[1]<i[0][1]&&(i[0][1]=t[1]),t[1]>i[1][1]&&(i[1][1]=t[1])),0===e.length?e=[Array.from(t),Array.from(t)]:(t[0]<e[0][0]&&(e[0][0]=t[0]),t[0]>e[1][0]&&(e[1][0]=t[0]),t[1]<e[0][1]&&(e[0][1]=t[1]),t[1]>e[1][1]&&(e[1][1]=t[1]))})),e})),a=(i[1][0]-i[0][0])/r,h=(i[1][1]-i[0][1])/r,u=s.reduce((function(t,e,n){for(var o=Bs(e[0][0],i[0][0],a,r),s=Bs(e[1][0],i[0][0],a,r),u=Bs(e[0][1],i[0][1],h,r),l=Bs(e[1][1],i[0][1],h,r),c=o;c<=s;c++){t[c]||(t[c]=[]);for(var f=u;f<=l;f++)t[c][f]||(t[c][f]=[]),t[c][f].push(n)}return t}),[]),l=n.features.map((function(t){var e=[];return I(t)[0].map((function(t){0===o.length?o=[Array.from(t),Array.from(t)]:(t[0]<o[0][0]&&(o[0][0]=t[0]),t[0]>o[1][0]&&(o[1][0]=t[0]),t[1]<o[0][1]&&(o[0][1]=t[1]),t[1]>o[1][1]&&(o[1][1]=t[1])),0===e.length?e=[Array.from(t),Array.from(t)]:(t[0]<e[0][0]&&(e[0][0]=t[0]),t[0]>e[1][0]&&(e[1][0]=t[0]),t[1]<e[0][1]&&(e[0][1]=t[1]),t[1]>e[1][1]&&(e[1][1]=t[1]))})),e})),c=(o[1][0]-o[0][0])/r,f=(o[1][1]-o[0][1])/r,d=l.reduce((function(t,e,n){for(var i=Bs(e[0][0],o[0][0],c,r),s=Bs(e[1][0],o[0][0],c,r),a=Bs(e[0][1],o[0][1],f,r),h=Bs(e[1][1],o[0][1],f,r),u=i;u<=s;u++){t[u]||(t[u]=[]);for(var l=a;l<=h;l++)t[u][l]||(t[u][l]=[]),t[u][l].push(n)}return t}),[]);this.indexedTins={forw:{gridNum:r,xOrigin:i[0][0],yOrigin:i[0][1],xUnit:a,yUnit:h,gridCache:u},bakw:{gridNum:r,xOrigin:o[0][0],yOrigin:o[0][1],xUnit:c,yUnit:f,gridCache:d}}}}},{key:"setWh",value:function(t){this.wh=t,this.xy=[0,0],this.bounds=void 0,this.boundsPolygon=void 0,this.tins=void 0,this.indexedTins=void 0}},{key:"setVertexMode",value:function(t){this.vertexMode=t,this.tins=void 0,this.indexedTins=void 0}},{key:"setStrictMode",value:function(t){this.strictMode=t,this.tins=void 0,this.indexedTins=void 0}},{key:"calcurateStrictTinAsync",value:function(){var e=this,n=this.pointsSet.edges;return Promise.all(this.tins.forw.features.map((function(t){return Promise.resolve(qs(t))}))).then((function(t){e.tins.bakw=(0,b.featureCollection)(t)})).then((function(){var t={};return Promise.all(e.tins.forw.features.map((function(n,r){var i=e.tins.bakw.features[r];return Promise.resolve(Ws(t,{forw:n,bakw:i}))}))).then((function(){return Promise.all([Xs(t),Promise.resolve(t)])})).catch((function(t){throw t}))})).then((function(r){var i=r[0],o=r[1];return i.bakw&&Object.keys(i.bakw).map((function(t){if("Not include case"!=i.bakw[t]){var r=o[t],s=jn(r[0].forw,r[1].forw),a=k((0,b.featureCollection)([r[0].forw,r[1].forw]));if(!dn(a,s)){var h=t.split("-");if(h[0].match(/^[0-9]+$/)&&h[1].match(/^[0-9]+$/))for(var u=h.map((function(t){return parseInt(t)})).sort((function(t,e){return t<e?-1:1})),l=0;l<n.length-1;l++)if(u[0]==n[l][0]&&u[1]==n[l][1])return;var c=h.map((function(t){return["a","b","c"].map((function(t,e){var n=r[0].bakw.properties[t];return{geom:r[0].bakw.geometry.coordinates[0][e],prop:n}})).filter((function(e){return e.prop.index==t}))[0]})),f=r.map((function(t){return["a","b","c"].map((function(e,n){var r=t.bakw.properties[e];return{geom:t.bakw.geometry.coordinates[0][n],prop:r}})).filter((function(t){return t.prop.index!=c[0].prop.index&&t.prop.index!=c[1].prop.index}))[0]}));Ys(o,r[0],e.tins),Ys(o,r[1],e.tins),c.map((function(t){var n=[t.geom,f[0].geom,f[1].geom,t.geom],r={a:t.prop,b:f[0].prop,c:f[1].prop},i=(0,b.polygon)([n],r),s=qs(i);Ws(o,{forw:s,bakw:i},e.tins)}))}}})),Promise.all(["forw","bakw"].map((function(t){return new Promise((function(n){var r=e.tins[t].features.map((function(t){return t.geometry.coordinates[0]}));n(function(t){return ao(new Zi(t).findSegmentIntersections()).reduce((function(t,e,n,r){return t||(t={}),t["".concat(e.x,":").concat(e.y)]=e,n!=r.length-1?t:Object.keys(t).map((function(e){return(0,b.point)([t[e].x,t[e].y])}))}),[])}(r))})).catch((function(t){throw t}))}))).then((function(n){0==n[0].length&&0==n[1].length?(e.strict_status=t.STATUS_STRICT,delete e.kinks):(e.strict_status=t.STATUS_ERROR,e.kinks={},n[0].length>0&&(e.kinks.forw=(0,b.featureCollection)(n[0])),n[1].length>0&&(e.kinks.bakw=(0,b.featureCollection)(n[1])))})).catch((function(t){throw t}))})).catch((function(t){throw t}))}},{key:"generatePointsSet",value:function(){for(var t=this,e={forw:[],bakw:[]},n=0;n<this.points.length;n++){var r=Ns(this.points[n][0],this.points[n][1],n);e.forw.push(r),e.bakw.push(Ds(r))}var i=[],o=0;this.edgeNodes=[],this.edges||(this.edges=[]);for(var s=function(n){var r=t.edges[n][2],s=Object.assign([],t.edges[n][0]),a=Object.assign([],t.edges[n][1]);if(0===s.length&&0===a.length)return i.push(r),"continue";s.unshift(t.points[r[0]][0]),s.push(t.points[r[1]][0]),a.unshift(t.points[r[0]][1]),a.push(t.points[r[1]][1]);var h=[s,a].map((function(t){var e=t.map((function(t,e,n){if(0===e)return 0;var r=n[e-1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))})),n=e.reduce((function(t,e,n){return 0===n?[0]:(t.push(t[n-1]+e),t)}),[]);return n.map((function(r,i,o){var s=r/o[o.length-1];return[t[i],e[i],n[i],s]}))}));h.map((function(t,e){var n=h[e?0:1];return t.filter((function(e,n){return!(0===n||n===t.length-1||"handled"===e[4])})).map((function(t){var r=t[0],i=t[3],o=n.reduce((function(t,e,n,r){if(t)return t;var o=r[n+1];return e[3]===i?(e[4]="handled",[e]):e[3]<i&&o[3]>i?[e,o]:void 0}),void 0);if(1===o.length)return 0===e?[r,o[0][0],i]:[o[0][0],r,i];var s=o[0],a=o[1],h=(i-s[3])/(a[3]-s[3]),u=[(a[0][0]-s[0][0])*h+s[0][0],(a[0][1]-s[0][1])*h+s[0][1]];return 0===e?[r,u,i]:[u,r,i]}))})).reduce((function(t,e){return t.concat(e)}),[]).sort((function(t,e){return t[2]<e[2]?-1:1})).map((function(n,s,a){t.edgeNodes[o]=[n[0],n[1]];var h=Ns(n[0],n[1],"e".concat(o));o++,e.forw.push(h),e.bakw.push(Ds(h)),0===s?i.push([r[0],e.forw.length-1]):i.push([e.forw.length-2,e.forw.length-1]),s===a.length-1&&i.push([e.forw.length-1,r[1]])}))},a=0;a<this.edges.length;a++)s(a);return{forw:(0,b.featureCollection)(e.forw),bakw:(0,b.featureCollection)(e.bakw),edges:i}}},{key:"updateTinAsync",value:function(){var e=this,n=this.strictMode,r=this.xy[0]-.05*this.wh[0],i=this.xy[0]+1.05*this.wh[0],o=this.xy[1]-.05*this.wh[1],s=this.xy[1]+1.05*this.wh[1],a=this.bounds?function(t){return ji(t,e.boundsPolygon)}:function(t){return t[0]>=e.xy[0]&&t[0]<=e.xy[0]+e.wh[0]&&t[1]>=e.xy[1]&&t[1]<=e.xy[1]+e.wh[1]};return this.points.reduce((function(t,e){return t&&a(e[0])}),!0)?new Promise((function(a){n!=t.MODE_STRICT&&n!=t.MODE_LOOSE&&(n=t.MODE_AUTO);var h=[];e.wh&&(h=[[r,o],[i,o],[r,s],[i,s]]),a([e.generatePointsSet(),h])})).then((function(t){var e=t[0];return Promise.all([new Promise((function(t){t(Is(e.forw,e.edges,"target"))})),new Promise((function(t){t(Is(e.bakw,e.edges,"target"))})),new Promise((function(t){t(M(e.forw))})),Promise.resolve(t)]).catch((function(t){throw t}))})).then((function(t){var n=t[0],r=t[1],i=t[2],o=t[3],s=o[0];if(0==n.features.length||0==r.features.length)throw"TOO LINEAR1";var a={forw:i.geometry.coordinates,bakw:Gs(i,n)},h=Ns(a.forw,a.bakw,"c");e.centroid={forw:h,bakw:Ds(h)};var u={};return Promise.all([new Promise((function(t){var e,r=k(s.forw).geometry.coordinates[0];try{e=r.map((function(t){return{forw:t,bakw:Gs((0,b.point)(t),n)}}))}catch(t){throw"TOO LINEAR2"}e.map((function(t){u["".concat(t.forw[0],":").concat(t.forw[1])]=t})),t(void 0)})),new Promise((function(t){var e,n=k(s.bakw).geometry.coordinates[0];try{e=n.map((function(t){return{bakw:t,forw:Gs((0,b.point)(t),r)}}))}catch(t){throw"TOO LINEAR2"}e.map((function(t){u["".concat(t.forw[0],":").concat(t.forw[1])]=t})),t(void 0)}))]).then((function(){return[a,u,o]})).catch((function(t){throw t}))})).then((function(n){var a=n[0],h=n[1],u=n[2],l=Object.keys(h).reduce((function(t,e,n,u){var l=h[e].forw,c=h[e].bakw,f={forw:[l[0]-a.forw[0],l[1]-a.forw[1]]};f.bakw=[c[0]-a.bakw[0],c[1]-a.bakw[1]];var d=0==f.forw[0]?1/0:((f.forw[0]<0?r:i)-a.forw[0])/f.forw[0],p=0==f.forw[1]?1/0:((f.forw[1]<0?o:s)-a.forw[1])/f.forw[1];if(Math.abs(d)/Math.abs(p)<1.1){var g={forw:[f.forw[0]*d+a.forw[0],f.forw[1]*d+a.forw[1]],bakw:[f.bakw[0]*d+a.bakw[0],f.bakw[1]*d+a.bakw[1]]};f.forw[0]<0?t[3].push(g):t[1].push(g)}if(Math.abs(p)/Math.abs(d)<1.1){var m={forw:[f.forw[0]*p+a.forw[0],f.forw[1]*p+a.forw[1]],bakw:[f.bakw[0]*p+a.bakw[0],f.bakw[1]*p+a.bakw[1]]};f.forw[1]<0?t[0].push(m):t[2].push(m)}return t}),[[],[],[],[]]),c=Object.keys(h).reduce((function(n,r,i,o){var s=h[r].forw,u=h[r].bakw,l={forw:[s[0]-a.forw[0],s[1]-a.forw[1]]};if(l.bakw=[u[0]-a.bakw[0],a.bakw[1]-u[1]],0==l.forw[0]||0==l.forw[1])return n;var c=0;return l.forw[0]>0&&(c+=1),l.forw[1]>0&&(c+=2),n[c].push([l.forw,l.bakw]),i==o.length-1?n.length==n.filter((function(t){return t.length>0})).length&&e.vertexMode==t.VERTEX_BIRDEYE?n:n.reduce((function(t,e){return[t[0].concat(e)]}),[[]]):n}),[[],[],[],[]]).map((function(t){return t.reduce((function(t,e,n,r){t||(t=[1/0,0,0]);var i=Math.sqrt(Math.pow(e[0][0],2)+Math.pow(e[0][1],2))/Math.sqrt(Math.pow(e[1][0],2)+Math.pow(e[1][1],2));i=i<t[0]?i:t[0];var o=Math.atan2(e[0][0],e[0][1])-Math.atan2(e[1][0],e[1][1]),s=t[1]+Math.cos(o),a=t[2]+Math.sin(o);return n==r.length-1?[i,Math.atan2(a,s)]:[i,s,a]}),null)}));return 1==c.length&&(c=[c[0],c[0],c[0],c[0]]),[c,a,l,u]})).then((function(t){var e=t[0],n=t[1],r=t[2],i=t[3][0],o=t[3][1],s=e.map((function(t,e){var r=o[e],i=[r[0]-n.forw[0],r[1]-n.forw[1]],s=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2))/t[0],a=Math.atan2(i[0],i[1])-t[1];return{forw:r,bakw:[n.bakw[0]+s*Math.sin(a),n.bakw[1]-s*Math.cos(a)]}})),a=s[2];s[2]=s[3],s[3]=a;for(var h=[1,1,1,1],u=function(t){var e=(t+1)%4,i=(0,b.lineString)([s[t].bakw,s[e].bakw]);r[t].map((function(r){var o=(0,b.lineString)([n.bakw,r.bakw]),s=nt(i,o);if(s.features.length>0&&s.features[0].geometry){var a=s.features[0],u=Math.sqrt(Math.pow(r.bakw[0]-n.bakw[0],2)+Math.pow(r.bakw[1]-n.bakw[1],2))/Math.sqrt(Math.pow(a.geometry.coordinates[0]-n.bakw[0],2)+Math.pow(a.geometry.coordinates[1]-n.bakw[1],2));u>h[t]&&(h[t]=u),u>h[e]&&(h[e]=u)}}))},l=0;l<4;l++)u(l);return s=s.map((function(t,e){var r=h[e],i=[(t.bakw[0]-n.bakw[0])*r+n.bakw[0],(t.bakw[1]-n.bakw[1])*r+n.bakw[1]];return{forw:t.forw,bakw:i}})),[s,i]})).then((function(r){for(var i=r[0],o=r[1],s={forw:[],bakw:[]},a=0;a<i.length;a++){var h=Ns(i[a].forw,i[a].bakw,"b".concat(a)),u=Ds(h);o.forw.features.push(h),o.bakw.features.push(u),s.forw.push(h),s.bakw.push(u)}return e.pointsSet=o,e.tins={forw:Rs(Is(o.forw,o.edges,"target"))},(n==t.MODE_STRICT||n==t.MODE_AUTO?e.calcurateStrictTinAsync():Promise.resolve()).then((function(){return(n==t.MODE_LOOSE||n==t.MODE_AUTO&&e.strict_status==t.STATUS_ERROR)&&(e.tins.bakw=Rs(Is(o.bakw,o.edges,"target")),delete e.kinks,e.strict_status=t.STATUS_LOOSE),e.vertices_params={forw:Ls(s.forw,e.centroid.forw),bakw:Ls(s.bakw,e.centroid.bakw)},e.addIndexedTin(),e.calculatePointsWeightAsync()})).catch((function(t){throw t}))})).catch((function(t){throw t})):new Promise((function(t,e){e("SOME POINTS OUTSIDE")}))}},{key:"transform",value:function(e,n,r){var i=this;if(n&&this.strict_status==t.STATUS_ERROR)throw'Backward transform is not allowed if strict_status == "strict_error"';this.yaxisMode==t.YAXIS_FOLLOW&&n&&(e=[e[0],-1*e[1]]);var o=(0,b.point)(e);if(this.bounds&&!n&&!r&&!ji(o,this.boundsPolygon))return!1;var s=n?this.tins.bakw:this.tins.forw,a=n?this.indexedTins.bakw:this.indexedTins.forw,h=n?this.vertices_params.bakw:this.vertices_params.forw,u=n?this.centroid.bakw:this.centroid.forw,l=n?this.pointsWeightBuffer.bakw:this.pointsWeightBuffer.forw,c=void 0,f=void 0;this.stateFull&&(this.stateBackward==n?c=this.stateTriangle:(this.stateBackward=n,this.stateTriangle=void 0),f=function(t){i.stateTriangle=t});var d=Gs(o,s,a,h,u,l,c,f);if(this.bounds&&n&&!r){if(!ji((0,b.point)(d),this.boundsPolygon))return!1}else this.yaxisMode!=t.YAXIS_FOLLOW||n||(d=[d[0],-1*d[1]]);return d}},{key:"calculatePointsWeightAsync",value:function(){var e=this,n=["forw"];this.strict_status==t.STATUS_LOOSE&&n.push("bakw");var r={};return Promise.all(n.map((function(t){r[t]={};var n={},i=e.tins[t];return Promise.all(i.features.map((function(e){var i=["a","b","c"];return new Promise((function(o){for(var s=0;s<3;s++){var a=(s+1)%3,h=i[s],u=i[a],l=e.properties[h].index,c=e.properties[u].index,f=[l,c].sort().join("-");if(!n[f]){var d=e.geometry.coordinates[0][s],p=e.geometry.coordinates[0][a],g=e.properties[h].geom,m=e.properties[u].geom;n[f]=1;var y=Math.sqrt(Math.pow(g[0]-m[0],2)+Math.pow(g[1]-m[1],2))/Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2));r[t][l]||(r[t][l]={}),r[t][c]||(r[t][c]={}),r[t][l][f]=y,r[t][c][f]=y}}o(void 0)}))}))).catch((function(t){throw t}))}))).then((function(){var i={};n.map((function(n){i[n]={},e.strict_status==t.STATUS_STRICT&&(i.bakw={}),Object.keys(r[n]).map((function(o){i[n][o]=Object.keys(r[n][o]).reduce((function(t,e,i,s){return t+=r[n][o][e],i==s.length-1?t/s.length:t}),0),e.strict_status==t.STATUS_STRICT&&(i.bakw[o]=1/i[n][o])})),i[n].c=[0,1,2,3].reduce((function(t,e){var r="b".concat(e);return t+=i[n][r],3==e?t/4:t}),0),e.strict_status==t.STATUS_STRICT&&(i.bakw.c=1/i[n].c)})),e.pointsWeightBuffer=i})).catch((function(t){throw t}))}}],n&&Ps(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Rs(t){for(var e=t.features,n=0;n<e.length;n++){var r=e[n];"b"==="".concat(r.properties.a.index).substring(0,1)&&"b"==="".concat(r.properties.b.index).substring(0,1)?e[n]={geometry:{type:"Polygon",coordinates:[[r.geometry.coordinates[0][2],r.geometry.coordinates[0][0],r.geometry.coordinates[0][1],r.geometry.coordinates[0][2]]]},properties:{a:{geom:r.properties.c.geom,index:r.properties.c.index},b:{geom:r.properties.a.geom,index:r.properties.a.index},c:{geom:r.properties.b.geom,index:r.properties.b.index}},type:"Feature"}:"b"==="".concat(r.properties.c.index).substring(0,1)&&"b"==="".concat(r.properties.a.index).substring(0,1)&&(e[n]={geometry:{type:"Polygon",coordinates:[[r.geometry.coordinates[0][1],r.geometry.coordinates[0][2],r.geometry.coordinates[0][0],r.geometry.coordinates[0][1]]]},properties:{a:{geom:r.properties.b.geom,index:r.properties.b.index},b:{geom:r.properties.c.geom,index:r.properties.c.index},c:{geom:r.properties.a.geom,index:r.properties.a.index}},type:"Feature"})}return t}function Ls(t,e){var n=e.geometry.coordinates;return[0,1,2,3].map((function(r){var i=(r+1)%4,o=t[r],s=t[i],a=o.geometry.coordinates,h=Math.atan2(a[0]-n[0],a[1]-n[1]),u=[e,o,s,e].map((function(t){return t.geometry.coordinates})),l={a:{geom:e.properties.target.geom,index:e.properties.target.index},b:{geom:o.properties.target.geom,index:o.properties.target.index},c:{geom:s.properties.target.geom,index:s.properties.target.index}};return[h,(0,b.featureCollection)([(0,b.polygon)([u],l)])]})).reduce((function(t,e){return t[0].push(e[0]),t[1].push(e[1]),t}),[[],[]])}function Ts(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?function(t){return!(t>=0&&t<2*Math.PI)}:function(t){return!(t>-1*Math.PI&&t<=Math.PI)};n(t);)t+=2*Math.PI*(t>0?-1:1);return t}function Ns(t,e,n){return(0,b.point)(t,{target:{geom:e,index:n}})}function Ds(t){return(0,b.point)(t.properties.target.geom,{target:{geom:t.geometry.coordinates,index:t.properties.target.index}})}function Fs(t,e,n){var r=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],o=e.geometry.coordinates[0][2],s=t.geometry.coordinates,a=e.properties.a.geom,h=e.properties.b.geom,u=e.properties.c.geom,l=[i[0]-r[0],i[1]-r[1]],c=[o[0]-r[0],o[1]-r[1]],f=[s[0]-r[0],s[1]-r[1]],d=[h[0]-a[0],h[1]-a[1]],p=[u[0]-a[0],u[1]-a[1]],g=(c[1]*f[0]-c[0]*f[1])/(l[0]*c[1]-l[1]*c[0]),m=(l[0]*f[1]-l[1]*f[0])/(l[0]*c[1]-l[1]*c[0]);if(n){var y,v=n[e.properties.a.index],_=n[e.properties.b.index],b=n[e.properties.c.index];if(g<0||m<0||1-g-m<0){var w=g/(g+m),x=m/(g+m);y=g/_/(w/_+x/b),m=m/b/(w/_+x/b)}else y=g/_/(g/_+m/b+(1-g-m)/v),m=m/b/(g/_+m/b+(1-g-m)/v);g=y}return[g*d[0]+m*p[0]+a[0],g*d[1]+m*p[1]+a[1]]}function js(t,e){for(var n=0;n<e.features.length;n++)if(ji(t,e.features[n]))return e.features[n]}function Bs(t,e,n,r){var i=Math.floor((t-e)/n);return i>=r&&(i=r-1),i}function Gs(t,e,n,r,i,o,s,a){var h;if(s&&(h=js(t,(0,b.featureCollection)([s]))),!h){if(n){var u=t.geometry.coordinates,l=n.gridNum,c=n.xOrigin,f=n.yOrigin,d=n.xUnit,p=n.yUnit,g=n.gridCache,m=Bs(u[0],c,d,l),y=Bs(u[1],f,p,l),v=g[m]&&g[m][y]?g[m][y]:[];e=(0,b.featureCollection)(v.map((function(t){return e.features[t]})))}h=js(t,e)}return a&&a(h),h?Fs(t,h,o):function(t,e,n,r){var i=t.geometry.coordinates,o=n.geometry.coordinates,s=function(t,e){for(var n,r=Ts(t-e[0]),i=2*Math.PI,o=0;o<e.length;o++){var s=Ts(t-e[(o+1)%e.length]),a=Math.min(Math.abs(r),Math.abs(s));r*s<=0&&a<i&&(i=a,n=o),r=s}return n}(Math.atan2(i[0]-o[0],i[1]-o[1]),e[0]);return Fs(t,e[1][s].features[0],r)}(t,r,i,o)}function qs(t){var e=["a","b","c","a"].map((function(e){return t.properties[e].geom})),n=t.geometry.coordinates[0],r=t.properties,i={a:{geom:n[0],index:r.a.index},b:{geom:n[1],index:r.b.index},c:{geom:n[2],index:r.c.index}};return(0,b.polygon)([e],i)}function Us(t){var e=[0,1,2,0].map((function(e){return t[e][0][0]})),n={a:{geom:t[0][0][1],index:t[0][1]},b:{geom:t[1][0][1],index:t[1][1]},c:{geom:t[2][0][1],index:t[2][1]}};return(0,b.polygon)([e],n)}function zs(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,a=t.map((function(t){(!s||s<2.00703)&&(t=Zs(t));var a=isFinite(t)?e[t]:"c"===t?r:"b0"===t?i[0]:"b1"===t?i[1]:"b2"===t?i[2]:"b3"===t?i[3]:function(){var e=t.match(/e(\d+)/);if(e){var r=parseInt(e[1]);return n[r]}throw"Bad index value for indexesToTri"}();return o?[[a[1],a[0]],t]:[[a[0],a[1]],t]}));return Us(a)}function Zs(t){return"number"==typeof t?t:t.replace(/^(c|e|b)(?:ent|dgeNode|box)(\d+)?$/,"$1$2")}function Vs(t,e){return e&&e>=2.00703||Array.isArray(t[0])?t:t.map((function(t){return[t.illstNodes,t.mercNodes,t.startEnd]}))}function Xs(t){var e={forw:{},bakw:{}};return Promise.all(Object.keys(t).map((function(e){return new Promise((function(n){var r=t[e];if(r.length<2)return n(void 0);["forw","bakw"].map((function(t){var e=function(t,e,n){void 0===n&&(n={});var r=A(t),i=A(e),o=cn.intersection(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?function(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return Bn({type:"Polygon",coordinates:t},e,n)}(o[0],n.properties):function(t,e,n){return void 0===n&&(n={}),Bn({type:"MultiPolygon",coordinates:t},e,n)}(o,n.properties)}(r[0][t],r[1][t]);if(!e||"Point"==e.geometry.type||"LineString"==e.geometry.type)return n(void 0);n(void 0)}))}))}))).then((function(){return 0==Object.keys(e.forw).length&&delete e.forw,0==Object.keys(e.bakw).length&&delete e.bakw,e})).catch((function(t){throw t}))}function Ws(t,e,n){var r=Hs(e.forw),i=Hs(e.bakw);if(JSON.stringify(r)!=JSON.stringify(i))throw"".concat(JSON.stringify(e,null,2),"\n").concat(JSON.stringify(r),"\n").concat(JSON.stringify(i));for(var o=0;o<r.length;o++){var s=r[o];t[s]||(t[s]=[]),t[s].push(e)}n&&(n.forw.features.push(e.forw),n.bakw.features.push(e.bakw))}function Ys(t,e,n){var r=Hs(e.forw),i=Hs(e.bakw);if(JSON.stringify(r)!=JSON.stringify(i))throw"".concat(JSON.stringify(e,null,2),"\n").concat(JSON.stringify(r),"\n").concat(JSON.stringify(i));for(var o=0;o<r.length;o++){var s=r[o],a=t[s].filter((function(t){return t.forw!=e.forw}));0==a.length?delete t[s]:t[s]=a}if(n){var h=n.forw.features.filter((function(t){return t!=e.forw}));n.forw.features=h,h=n.bakw.features.filter((function(t){return t!=e.bakw})),n.bakw.features=h}}function Hs(t){var e=["a","b","c"].map((function(e){return t.properties[e].index}));return[[0,1],[0,2],[1,2],[0,1,2]].map((function(t){return t.map((function(t){return e[t]})).sort().join("-")})).sort()}function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function Ks(){Ks=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function d(){}function p(){}var g={};h(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==e&&n.call(y,o)&&(g=y);var v=p.prototype=f.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var h=l(t[r],t,o);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==$s(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=h(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,h(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),h(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(v),h(v,a,"Generator"),h(v,o,(function(){return this})),h(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function Js(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function Qs(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){Js(o,r,i,s,a,"next",t)}function a(t){Js(o,r,i,s,a,"throw",t)}s(void 0)}))}}ks.VERTEX_PLAIN="plain",ks.VERTEX_BIRDEYE="birdeye",ks.MODE_STRICT="strict",ks.MODE_AUTO="auto",ks.MODE_LOOSE="loose",ks.STATUS_STRICT="strict",ks.STATUS_ERROR="strict_error",ks.STATUS_LOOSE="loose",ks.YAXIS_FOLLOW="follow",ks.YAXIS_INVERT="invert",i.g.Tin=ks;var ta=["title","attr","officialTitle","dataAttr","author","createdAt","era","license","dataLicense","contributor","mapper","reference","description","url","lang","imageExtension","homePosition","mercZoom"];function ea(t){return na.apply(this,arguments)}function na(){return(na=Qs(Ks().mark((function t(e){return Ks().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ra(e,!1,!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ra(t,e,n){return ia.apply(this,arguments)}function ia(){return ia=Qs(Ks().mark((function t(e,n,r){var i,o,s,a,h,u,l,c,f,d,p,g;return Ks().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r?e:{},o=[],ta.forEach((function(t){i[t]=e[t]})),(e.imageExtention||e.imageExtension)&&(i.imageExtension=e.imageExtension||e.imageExtention),!e.compiled){t.next=23;break}s={},e.compiled.wh||(s.wh=[e.width,e.height]),e.compiled.strictMode||(s.strictMode=e.strictMode),e.compiled.vertexMode||(s.vertexMode=e.vertexMode),e.compiled.yaxisMode||(s.yaxisMode=e.yaxisMode),(a=new ks(s)).setCompiled(e.compiled),n&&(a=a.getCompiled()),i.strictMode=a.strictMode,i.vertexMode=a.vertexMode,i.yaxisMode=a.yaxisMode,i.width=a.wh[0],i.height=a.wh[1],i.gcps=a.points,i.edges=a.edges,o.push(a),t.next=35;break;case 23:return i.strictMode=e.strictMode,i.vertexMode=e.vertexMode,i.yaxisMode=e.yaxisMode,i.width=e.width,i.height=e.height,i.gcps=e.gcps,i.edges=e.edges,t.next=32,oa(e.strictMode,e.vertexMode,e.yaxisMode,e.gcps,e.edges,[e.width,e.height]);case 32:h=t.sent,n&&"string"!=typeof h&&(h=h.getCompiled()),o.push(h);case 35:if(!e.sub_maps){t.next=70;break}u=[],l=0;case 38:if(!(l<e.sub_maps.length)){t.next=69;break}if(c=e.sub_maps[l],(f={}).importance=c.importance,f.priority=c.priority,!c.compiled){t.next=57;break}d={},c.compiled.strictMode||(d.strictMode=e.strictMode),c.compiled.vertexMode||(d.vertexMode=e.vertexMode),c.compiled.yaxisMode||(d.yaxisMode=e.yaxisMode),(p=new ks(d)).setCompiled(c.compiled),n&&(p=p.getCompiled()),f.bounds=p.bounds,f.gcps=p.points,f.edges=p.edges,o.push(p),t.next=65;break;case 57:return f.bounds=c.bounds,f.gcps=c.gcps,f.edges=c.edges,t.next=62,oa(e.strictMode,e.vertexMode,e.yaxisMode,c.gcps,c.edges,void 0,c.bounds);case 62:g=t.sent,n&&"string"!=typeof g&&(g=g.getCompiled()),o.push(g);case 65:u.push(f);case 66:l++,t.next=38;break;case 69:i.sub_maps=u;case 70:return t.abrupt("return",[i,o]);case 71:case"end":return t.stop()}}),t)}))),ia.apply(this,arguments)}function oa(t,e,n){return sa.apply(this,arguments)}function sa(){return sa=Qs(Ks().mark((function t(e,n,r){var i,o,s,a,h,u=arguments;return Ks().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>3&&void 0!==u[3]?u[3]:[],o=u.length>4&&void 0!==u[4]?u[4]:[],s=u.length>5?u[5]:void 0,a=u.length>6?u[6]:void 0,!(i.length<3)){t.next=6;break}return t.abrupt("return","tooLessGcps");case 6:if(h=new ks({yaxisMode:r}),!s){t.next=11;break}h.setWh(s),t.next=16;break;case 11:if(!a){t.next=15;break}h.setBounds(a),t.next=16;break;case 15:throw"Both wh and bounds are missing";case 16:return h.setStrictMode(e),h.setVertexMode(n),h.setPoints(i),h.setEdges(o),t.prev=20,t.next=23,h.updateTinAsync();case 23:return t.abrupt("return",h);case 26:if(t.prev=26,t.t0=t.catch(20),console.log(t.t0),"SOME POINTS OUTSIDE"!=t.t0){t.next=33;break}return t.abrupt("return","pointsOutside");case 33:if(0!=t.t0.indexOf("TOO LINEAR")){t.next=37;break}return t.abrupt("return","tooLinear");case 37:if(!(t.t0.indexOf("Vertex indices of edge")>-1||t.t0.indexOf("is degenerate!")>-1||t.t0.indexOf("already exists or intersects with an existing edge!")>-1)){t.next=41;break}return t.abrupt("return","edgeError");case 41:throw t.t0;case 42:case"end":return t.stop()}}),t,null,[[20,26]])}))),sa.apply(this,arguments)}function aa(t){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(t)}function ha(){ha=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function d(){}function p(){}var g={};h(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==e&&n.call(y,o)&&(g=y);var v=p.prototype=f.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var h=l(t[r],t,o);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==aa(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=h(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,h(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),h(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(v),h(v,a,"Generator"),h(v,o,(function(){return this})),h(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function ua(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function la(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ca(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fa(t,e){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fa(t,e)}function da(t,e){if(e&&("object"===aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pa(t){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pa(t)}var ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fa(t,e)}(l,t);var n,r,i,o,s,a,h,u=(a=l,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pa(a);if(h){var n=pa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return da(this,t)});function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return la(this,l),(t=u.call(this,e)).tins=[],t}return n=l,r=[{key:"xy2MercAsync_specifyLayer",value:function(t,e){var n="Illst:".concat(this.mapID).concat(e?"#".concat(e):"");return new Promise((function(e,r){e(Fi(n,"EPSG:3857",t))}))}},{key:"merc2XyAsync_specifyLayer",value:function(t,e){var n="Illst:".concat(this.mapID).concat(e?"#".concat(e):"");return new Promise((function(e,r){e(Fi("EPSG:3857",n,t))}))}},{key:"xy2MercAsync_returnLayer",value:function(t){var e=this;return new Promise((function(n,r){for(var i=e.tins.map((function(t,e){return[e,t]})).sort((function(t,e){return t[1].priority<e[1].priority?1:-1})),o=function(o){var s=i[o][0],a=i[o][1];if(0==s||R(t,a.xyBounds))return e.xy2MercAsync_specifyLayer(t,s).then((function(t){n([s,t])})).catch((function(t){r(t)})),"break"},s=0;s<i.length&&"break"!==o(s);s++);}))}},{key:"merc2XyAsync_returnLayer",value:function(t){var e=this;return Promise.all(this.tins.map((function(n,r){return new Promise((function(i,o){e.merc2XyAsync_specifyLayer(t,r).then((function(t){0===r||R(t,n.xyBounds)?i([n,r,t]):i([n,r])})).catch((function(t){o(t)}))}))}))).then((function(t){return t.sort((function(t,e){return t[0].priority<e[0].priority?1:-1})).reduce((function(t,e,n,r){var i=e[0],o=e[1],s=e[2];if(!s)return t;for(var a=0;a<n;a++){var h=r[a][0];if(0===r[a][1]||R(s,h.xyBounds)){if(t.length){var u=!t[0],l=u?t[1][2]:t[0][2];return!u||i.importance<l.importance?t:[void 0,[o,s,i]]}return[void 0,[o,s,i]]}}return t.length&&t[0]?(t.push([o,s,i]),t.sort((function(t,e){return t[2].importance<e[2].importance?1:-1})).filter((function(t,e){return e<2}))):[[o,s,i]]}),[]).map((function(t){if(t)return[t[0],t[1]]}))}))}},{key:"setupMapParameter",value:function(t){var n=this,r=[this.width/2,this.height/2];this.xy2MercAsync_returnLayer(r).then((function(i){for(var o=i[0],s=i[1],a=[[r[0]-150,r[1]],[r[0]+150,r[1]],[r[0],r[1]-150],[r[0],r[1]+150]],h=[[0,0],[n.width,0],[n.width,n.height],[0,n.height]],u=[],l=0;l<9;l++){var c=l<4?n.xy2MercAsync_specifyLayer(a[l],o):4==l?Promise.resolve(s):n.xy2MercAsync_specifyLayer(h[l-5],0);u.push(c)}Promise.all(u).then((function(r){var i=(Math.sqrt(Math.pow(r[0][0]-r[1][0],2)+Math.pow(r[0][1]-r[1][1],2))+Math.sqrt(Math.pow(r[2][0]-r[3][0],2)+Math.pow(r[2][1]-r[3][1],2)))/2;n.mercZoom||(n.mercZoom=Math.log(46962910.17841229/i)/Math.log(2)-3),n.homePosition||(n.homePosition=(0,e.toLonLat)(r[4])),n.envelope=(0,b.polygon)([[r[5],r[6],r[7],r[8],r[5]]]),t(n)})).catch((function(t){throw t}))})).catch((function(t){throw t}))}},{key:"mercs2SysCoordsAsync_multiLayer",value:function(t){var e=this,n=this.merc2XyAsync_returnLayer(t[0][0]).then((function(n){var r=!1;return Promise.all(n.map((function(n,i){if(n){var o=n[0],s=n[1];return 0===i||r?Promise.all(t[0].map((function(t,n){return 0===n?Promise.resolve(s):e.merc2XyAsync_specifyLayer(t,o)}))):Promise.resolve([s])}r=!0})))}));return n.then((function(n){return n.map((function(n){if(n)return[n.map((function(t){return e.xy2SysCoord(t)})),t[1]]}))}))}},{key:"merc2XyAsync_base",value:function(t,e){return this.merc2XyAsync_returnLayer(t).then((function(t){if(!e||t[0])return t[0]?t[0][1]:t[1][1]}))}},{key:"merc2XyAsync_ignoreBackground",value:function(t){return this.merc2XyAsync_base(t,!0)}},{key:"merc2XyAsync",value:function(t){return this.merc2XyAsync_base(t,!1)}},{key:"xy2MercAsync",value:function(t){return this.xy2MercAsync_returnLayer(t).then((function(t){return t[1]}))}},{key:"viewpoint2MercsAsync",value:function(t,e){var n=this,r=this.viewpoint2SysCoords(t,e),i=this.sysCoords2Xys(r);return this.xy2MercAsync_returnLayer(i[0][0]).then((function(t){var r=t[0],o=t[1],s=i[0].map((function(t,e){return 0===e?Promise.resolve(o):n.xy2MercAsync_specifyLayer(t,r)}));return Promise.all(s).then((function(t){return[t,e]}))}))}},{key:"mercs2ViewpointAsync",value:function(t){var e=this,n=this.merc2XyAsync_returnLayer(t[0][0]).then((function(n){var r=n[0]||n[1],i=r[0],o=r[1];return Promise.all(t[0].map((function(t,n){return 0===n?o:e.merc2XyAsync_specifyLayer(t,i)})))}));return n.then((function(n){var r=e.xys2SysCoords([n,t[1]]);return e.sysCoords2Viewpoint(r)}))}}],i=[{key:"createAsync",value:(o=ha().mark((function t(n){var r,i,o;return ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ea(n);case 2:return r=t.sent,n=r[0],(i=new l(n)).tins=r[1],o=new Di.Z({code:"Illst:".concat(i.mapID),extent:[0,0,i.width,i.height],units:"m"}),(0,e.addProjection)(o),(0,e.addCoordinateTransforms)(o,"EPSG:3857",(function(t){return i.tins[0].transform(t,!1)}),(function(t){return i.tins[0].transform(t,!0)})),Fi("EPSG:4326",o),n.sub_maps&&n.sub_maps.map((function(t,n){var r=n+1,o="Illst:".concat(i.mapID,"#").concat(r),s=i.tins[r],a=new Di.Z({code:o,extent:[s.xy[0],s.xy[1],s.wh[0],s.wh[1]],units:"m"});(0,e.addProjection)(a),(0,e.addCoordinateTransforms)(a,"EPSG:3857",(function(t){return s.transform(t,!1,!0)}),(function(t){return s.transform(t,!0,!0)})),Fi("EPSG:4326",a);var h=Object.assign([],t.bounds);h.push(t.bounds[0]);var u=h.map((function(t){return s.transform(t,!1)})),l=(0,b.polygon)([h]),c=(0,b.polygon)([u]);s.xyBounds=l,s.mercBounds=c})),t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function s(t){ua(i,n,r,s,a,"next",t)}function a(t){ua(i,n,r,s,a,"throw",t)}s(void 0)}))},function(t){return s.apply(this,arguments)})}],r&&ca(n.prototype,r),i&&ca(n,i),Object.defineProperty(n,"prototype",{writable:!1}),l}(Ni),ma="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i.g&&i.g||{},ya="URLSearchParams"in ma,va="Symbol"in ma&&"iterator"in Symbol,_a="FileReader"in ma&&"Blob"in ma&&function(){try{return new Blob,!0}catch(t){return!1}}(),ba="FormData"in ma,wa="ArrayBuffer"in ma;if(wa)var xa=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ma=ArrayBuffer.isView||function(t){return t&&xa.indexOf(Object.prototype.toString.call(t))>-1};function Ea(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Sa(t){return"string"!=typeof t&&(t=String(t)),t}function Ca(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return va&&(e[Symbol.iterator]=function(){return e}),e}function Ia(t){this.map={},t instanceof Ia?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Aa(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function Pa(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Oa(t){var e=new FileReader,n=Pa(e);return e.readAsArrayBuffer(t),n}function ka(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ra(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:_a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:ba&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:ya&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():wa&&_a&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=ka(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):wa&&(ArrayBuffer.prototype.isPrototypeOf(t)||Ma(t))?this._bodyArrayBuffer=ka(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ya&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_a&&(this.blob=function(){var t=Aa(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return Aa(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(_a)return this.blob().then(Oa);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t=Aa(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=Pa(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ba&&(this.formData=function(){return this.text().then(Na)}),this.json=function(){return this.text().then(JSON.parse)},this}Ia.prototype.append=function(t,e){t=Ea(t),e=Sa(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},Ia.prototype.delete=function(t){delete this.map[Ea(t)]},Ia.prototype.get=function(t){return t=Ea(t),this.has(t)?this.map[t]:null},Ia.prototype.has=function(t){return this.map.hasOwnProperty(Ea(t))},Ia.prototype.set=function(t,e){this.map[Ea(t)]=Sa(e)},Ia.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},Ia.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),Ca(t)},Ia.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),Ca(t)},Ia.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),Ca(t)},va&&(Ia.prototype[Symbol.iterator]=Ia.prototype.entries);var La=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Ta(t,e){if(!(this instanceof Ta))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(e=e||{}).body;if(t instanceof Ta){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Ia(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Ia(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),La.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in ma)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function Na(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function Da(t,e){if(!(this instanceof Da))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new Ia(e.headers),this.url=e.url||"",this._initBody(t)}Ta.prototype.clone=function(){return new Ta(this,{body:this._bodyInit})},Ra.call(Ta.prototype),Ra.call(Da.prototype),Da.prototype.clone=function(){return new Da(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ia(this.headers),url:this.url})},Da.error=function(){var t=new Da(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Fa=[301,302,303,307,308];Da.redirect=function(t,e){if(-1===Fa.indexOf(e))throw new RangeError("Invalid status code");return new Da(null,{status:e,headers:{location:t}})};var ja=ma.DOMException;try{new ja}catch(t){ja=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},ja.prototype=Object.create(Error.prototype),ja.prototype.constructor=ja}function Ba(t,e){return new Promise((function(n,r){var i=new Ta(t,e);if(i.signal&&i.signal.aborted)return r(new ja("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}if(o.onload=function(){var t,e,r={statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new Ia,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{e.append(r,i)}catch(t){console.warn("Response "+t.message)}}})),e)};0===i.url.indexOf("file://")&&(o.status<200||o.status>599)?r.status=200:r.status=o.status,r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;setTimeout((function(){n(new Da(s,r))}),0)},o.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request timed out"))}),0)},o.onabort=function(){setTimeout((function(){r(new ja("Aborted","AbortError"))}),0)},o.open(i.method,function(t){try{return""===t&&ma.location.href?ma.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(_a?o.responseType="blob":wa&&(o.responseType="arraybuffer")),e&&"object"==typeof e.headers&&!(e.headers instanceof Ia||ma.Headers&&e.headers instanceof ma.Headers)){var a=[];Object.getOwnPropertyNames(e.headers).forEach((function(t){a.push(Ea(t)),o.setRequestHeader(t,Sa(e.headers[t]))})),i.headers.forEach((function(t,e){-1===a.indexOf(e)&&o.setRequestHeader(e,t)}))}else i.headers.forEach((function(t,e){o.setRequestHeader(e,t)}));i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}function Ga(){Ga=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function d(){}function p(){}var g={};h(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==e&&n.call(y,o)&&(g=y);var v=p.prototype=f.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var h=l(t[r],t,o);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==qa(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=h(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,h(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),h(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(v),h(v,a,"Generator"),h(v,o,(function(){return this})),h(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function qa(t){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(t)}function Ua(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function za(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){Ua(o,r,i,s,a,"next",t)}function a(t){Ua(o,r,i,s,a,"throw",t)}s(void 0)}))}}Ba.polyfill=!0,ma.fetch||(ma.fetch=Ba,ma.Headers=Ia,ma.Request=Ta,ma.Response=Da);var Za={osm:{mapID:"osm",title:{ja:"",en:"OpenStreetMap"},label:{ja:"OSM()",en:"OSM(Now)"},attr:" OpenStreetMap contributors",maptype:"base",thumbnail:i.p+"images/6345ee67d554fbfbf484ba4035ad19d9.jpg",urls:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"]},gsi:{mapID:"gsi",title:{ja:"",en:"Geospatial Information Authority of Japan Map"},label:{ja:"",en:"GSI Map"},attr:{ja:"",en:"The Geospatial Information Authority of Japan"},maptype:"base",url:"https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png",maxZoom:18,thumbnail:i.p+"images/b9ae27f0a01228380dff76a33b605707.jpg"},gsi_ortho:{mapID:"gsi_ortho",title:{ja:"",en:"Geospatial Information Authority of Japan Ortho aerial photo"},label:{ja:"",en:"GSI Ortho"},attr:{ja:"",en:"The Geospatial Information Authority of Japan"},maptype:"base",url:"https://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg",maxZoom:18,thumbnail:i.p+"images/41b2cf0fa604d3f196ca52337d238219.jpg"}},Va=function(t){return(t||"").match(/^(?:base|overlay|google(?:_(?:roadmap|satellite|hybrid|terrain))?|mapbox|osm)$/)};function Xa(t,e){return Wa.apply(this,arguments)}function Wa(){return Wa=za(Ga().mark((function t(e,n){var r,i;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof e&&(e=Za[e]),(e=or(Object.assign(e,n))).label=e.label||e.year,!Va(e.maptype)){t.next=25;break}return(r="base"===e.maptype?li:"overlay"===e.maptype?mi:"mapbox"===e.maptype?xi:Ai).isBasemap()?(e.homePosition=e.homePos,e.mercZoom=e.defZoom):(e.homePosition||(e.homePosition=e.homePos),e.mercZoom||(e.mercZoom=e.defZoom)),delete e.homePos,delete e.defZoom,e.zoomRestriction&&(e.maxZoom=e.maxZoom||e.mercMaxZoom,e.minZoom=e.minZoom||e.mercMinZoom),e.zoomRestriction=e.mercMaxZoom=e.mercMinZoom=void 0,e.translator&&(e.url=e.translator(e.url)),e.imageExtension||(e.imageExtension="jpg"),!e.mapID||e.url||e.urls||(e.url=e.tms?"tiles/".concat(e.mapID,"/{z}/{x}/{-y}.").concat(e.imageExtension):"tiles/".concat(e.mapID,"/{z}/{x}/{y}.").concat(e.imageExtension)),t.next=15,Ya(e);case 15:return e.weiwudi=t.sent,e.weiwudi&&(e.url=e.weiwudi.url,delete e.urls),t.next=19,r.createAsync(e);case 19:return i=t.sent,t.next=22,i.initialWait;case 22:return t.abrupt("return",i);case 25:if(!e.noload){t.next=28;break}return e.mercMaxZoom=e.mercMinZoom=void 0,t.abrupt("return",new ga(e));case 28:return t.abrupt("return",new Promise((function(t,n){var r=e.settingFile||"maps/".concat(e.mapID,".json"),i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="json",i.onload=function(){var r=za(Ga().mark((function r(i){var o,s,a,h;return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(200!==this.status&&0!==this.status){r.next=75;break}if(r.prev=1,"object"!=qa(o=this.response)&&(o=JSON.parse(o)),(e=or(Object.assign(o,e))).label=e.label||o.year,e.translator&&(e.url=e.translator(e.url)),e.maptype||(e.maptype="maplat"),!Va(e.maptype)){r.next=40;break}return(s="base"===e.maptype?li:"overlay"===e.maptype?mi:"mapbox"===e.maptype?xi:Ai).isBasemap()?(e.homePosition=e.homePos,e.mercZoom=e.defZoom):(e.homePosition||(e.homePosition=e.homePos),e.mercZoom||(e.mercZoom=e.defZoom)),delete e.homePos,delete e.defZoom,e.zoomRestriction&&(e.maxZoom=e.maxZoom||e.mercMaxZoom,e.minZoom=e.minZoom||e.mercMinZoom),e.zoomRestriction=e.mercMaxZoom=e.mercMinZoom=void 0,r.prev=15,e.imageExtension||(e.imageExtension="jpg"),!e.mapID||e.url||e.urls||(e.url=e.tms?"tiles/".concat(e.mapID,"/{z}/{x}/{-y}.").concat(e.imageExtension):"tiles/".concat(e.mapID,"/{z}/{x}/{y}.").concat(e.imageExtension)),r.next=20,Ya(e);case 20:return e.weiwudi=r.sent,e.weiwudi&&(e.url=e.weiwudi.url,delete e.urls),r.next=24,s.createAsync(e);case 24:return a=r.sent,r.prev=25,r.next=28,a.initialWait;case 28:t(a),r.next=34;break;case 31:r.prev=31,r.t0=r.catch(25),t(a);case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(15),n(r.t1);case 39:return r.abrupt("return");case 40:return r.prev=40,delete e.homePos,delete e.defZoom,e.imageExtension||(e.imageExtension="jpg"),!e.mapID||e.url||e.urls||(e.url="tiles/".concat(e.mapID,"/{z}/{x}/{y}.").concat(e.imageExtension)),e.width=e.width||e.compiled.wh[0],e.height=e.height||e.compiled.wh[1],r.next=49,Ya(e);case 49:return e.weiwudi=r.sent,e.weiwudi&&(e.url=e.weiwudi.url,delete e.urls),r.next=53,ga.createAsync(e);case 53:return h=r.sent,r.prev=54,r.next=57,h.initialWait;case 57:h.setupMapParameter(t),r.next=63;break;case 60:r.prev=60,r.t2=r.catch(54),h.setupMapParameter(t);case 63:r.next=68;break;case 65:r.prev=65,r.t3=r.catch(40),n(r.t3);case 68:r.next=73;break;case 70:r.prev=70,r.t4=r.catch(1),n(r.t4);case 73:r.next=76;break;case 75:n("Fail to load map json");case 76:case"end":return r.stop()}}),r,this,[[1,70],[15,36],[25,31],[40,65],[54,60]])})));return function(t){return r.apply(this,arguments)}}(),i.send()})));case 29:case"end":return t.stop()}}),t)}))),Wa.apply(this,arguments)}function Ya(t){return Ha.apply(this,arguments)}function Ha(){return Ha=za(Ga().mark((function t(e){var n,r,i,o;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},"mapbox"!==e.maptype&&"google"!==e.maptype&&e.enableCache){t.next=5;break}return t.abrupt("return");case 5:"base"===e.maptype||"overlay"===e.maptype?n.type="wmts":n.type="xyz";case 6:return n.url=e.urls?e.urls:e.url,n.width=e.width,n.height=e.height,n.maxZoom=e.maxZoom,n.minZoom=e.minZoom,(r=e.envelopeLngLats)&&(i=r.reduce((function(t,e){return t[0]=t[0]>e[0]?e[0]:t[0],t[1]=t[1]<e[0]?e[0]:t[1],t[2]=t[2]>e[1]?e[1]:t[2],t[3]=t[3]<e[1]?e[1]:t[3],t}),[1/0,-1/0,1/0,-1/0]),["minLng","maxLng","minLat","maxLat"].map((function(t,e){n[t]=i[e]}))),t.prev=13,t.next=16,ur.registerMap(e.mapID,n);case 16:o=t.sent,t.next=21;break;case 19:t.prev=19,t.t0=t.catch(13);case 21:return t.abrupt("return",o);case 22:case"end":return t.stop()}}),t,null,[[13,19]])}))),Ha.apply(this,arguments)}var $a=i(6565),Ka=i.n($a),Ja="1.13.3",Qa="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},th=Array.prototype,eh=Object.prototype,nh="undefined"!=typeof Symbol?Symbol.prototype:null,rh=th.push,ih=th.slice,oh=eh.toString,sh=eh.hasOwnProperty,ah="undefined"!=typeof ArrayBuffer,hh="undefined"!=typeof DataView,uh=Array.isArray,lh=Object.keys,ch=Object.create,fh=ah&&ArrayBuffer.isView,dh=isNaN,ph=isFinite,gh=!{toString:null}.propertyIsEnumerable("toString"),mh=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],yh=Math.pow(2,53)-1;function vh(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function _h(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function bh(t){return null===t}function wh(t){return void 0===t}function xh(t){return!0===t||!1===t||"[object Boolean]"===oh.call(t)}function Mh(t){return!(!t||1!==t.nodeType)}function Eh(t){var e="[object "+t+"]";return function(t){return oh.call(t)===e}}const Sh=Eh("String"),Ch=Eh("Number"),Ih=Eh("Date"),Ah=Eh("RegExp"),Ph=Eh("Error"),Oh=Eh("Symbol"),kh=Eh("ArrayBuffer");var Rh=Eh("Function"),Lh=Qa.document&&Qa.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof Lh&&(Rh=function(t){return"function"==typeof t||!1});const Th=Rh,Nh=Eh("Object");var Dh=hh&&Nh(new DataView(new ArrayBuffer(8))),Fh="undefined"!=typeof Map&&Nh(new Map),jh=Eh("DataView");const Bh=Dh?function(t){return null!=t&&Th(t.getInt8)&&kh(t.buffer)}:jh,Gh=uh||Eh("Array");function qh(t,e){return null!=t&&sh.call(t,e)}var Uh=Eh("Arguments");!function(){Uh(arguments)||(Uh=function(t){return qh(t,"callee")})}();const zh=Uh;function Zh(t){return!Oh(t)&&ph(t)&&!isNaN(parseFloat(t))}function Vh(t){return Ch(t)&&dh(t)}function Xh(t){return function(){return t}}function Wh(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=yh}}function Yh(t){return function(e){return null==e?void 0:e[t]}}const Hh=Yh("byteLength"),$h=Wh(Hh);var Kh=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Jh=ah?function(t){return fh?fh(t)&&!Bh(t):$h(t)&&Kh.test(oh.call(t))}:Xh(!1),Qh=Yh("length");function tu(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=mh.length,r=t.constructor,i=Th(r)&&r.prototype||eh,o="constructor";for(qh(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=mh[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function eu(t){if(!_h(t))return[];if(lh)return lh(t);var e=[];for(var n in t)qh(t,n)&&e.push(n);return gh&&tu(t,e),e}function nu(t){if(null==t)return!0;var e=Qh(t);return"number"==typeof e&&(Gh(t)||Sh(t)||zh(t))?0===e:0===Qh(eu(t))}function ru(t,e){var n=eu(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0}function iu(t){return t instanceof iu?t:this instanceof iu?void(this._wrapped=t):new iu(t)}function ou(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Hh(t))}iu.VERSION=Ja,iu.prototype.value=function(){return this._wrapped},iu.prototype.valueOf=iu.prototype.toJSON=iu.prototype.value,iu.prototype.toString=function(){return String(this._wrapped)};var su="[object DataView]";function au(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&hu(t,e,n,r)}function hu(t,e,n,r){t instanceof iu&&(t=t._wrapped),e instanceof iu&&(e=e._wrapped);var i=oh.call(t);if(i!==oh.call(e))return!1;if(Dh&&"[object Object]"==i&&Bh(t)){if(!Bh(e))return!1;i=su}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return nh.valueOf.call(t)===nh.valueOf.call(e);case"[object ArrayBuffer]":case su:return hu(ou(t),ou(e),n,r)}var o="[object Array]"===i;if(!o&&Jh(t)){if(Hh(t)!==Hh(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(Th(s)&&s instanceof s&&Th(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var h=(n=n||[]).length;h--;)if(n[h]===t)return r[h]===e;if(n.push(t),r.push(e),o){if((h=t.length)!==e.length)return!1;for(;h--;)if(!au(t[h],e[h],n,r))return!1}else{var u,l=eu(t);if(h=l.length,eu(e).length!==h)return!1;for(;h--;)if(!qh(e,u=l[h])||!au(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0}function uu(t,e){return au(t,e)}function lu(t){if(!_h(t))return[];var e=[];for(var n in t)e.push(n);return gh&&tu(t,e),e}function cu(t){var e=Qh(t);return function(n){if(null==n)return!1;var r=lu(n);if(Qh(r))return!1;for(var i=0;i<e;i++)if(!Th(n[t[i]]))return!1;return t!==mu||!Th(n[fu])}}var fu="forEach",du=["clear","delete"],pu=["get","has","set"],gu=du.concat(fu,pu),mu=du.concat(pu),yu=["add"].concat(du,fu,"has");const vu=Fh?cu(gu):Eh("Map"),_u=Fh?cu(mu):Eh("WeakMap"),bu=Fh?cu(yu):Eh("Set"),wu=Eh("WeakSet");function xu(t){for(var e=eu(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Mu(t){for(var e=eu(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function Eu(t){for(var e={},n=eu(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function Su(t){var e=[];for(var n in t)Th(t[n])&&e.push(n);return e.sort()}function Cu(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,h=0;h<a;h++){var u=s[h];e&&void 0!==n[u]||(n[u]=o[u])}return n}}const Iu=Cu(lu),Au=Cu(eu),Pu=Cu(lu,!0);function Ou(t){if(!_h(t))return{};if(ch)return ch(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function ku(t,e){var n=Ou(t);return e&&Au(n,e),n}function Ru(t){return _h(t)?Gh(t)?t.slice():Iu({},t):t}function Lu(t,e){return e(t),t}function Tu(t){return Gh(t)?t:[t]}function Nu(t){return iu.toPath(t)}function Du(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Fu(t,e,n){var r=Du(t,Nu(e));return wh(r)?n:r}function ju(t,e){for(var n=(e=Nu(e)).length,r=0;r<n;r++){var i=e[r];if(!qh(t,i))return!1;t=t[i]}return!!n}function Bu(t){return t}function Gu(t){return t=Au({},t),function(e){return ru(e,t)}}function qu(t){return t=Nu(t),function(e){return Du(e,t)}}function Uu(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function zu(t,e,n){return null==t?Bu:Th(t)?Uu(t,e,n):_h(t)&&!Gh(t)?Gu(t):qu(t)}function Zu(t,e){return zu(t,e,1/0)}function Vu(t,e,n){return iu.iteratee!==Zu?iu.iteratee(t,e):zu(t,e,n)}function Xu(t,e,n){e=Vu(e,n);for(var r=eu(t),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=e(t[a],a,t)}return o}function Wu(){}function Yu(t){return null==t?Wu:function(e){return Fu(t,e)}}function Hu(t,e,n){var r=Array(Math.max(0,t));e=Uu(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function $u(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}iu.toPath=Tu,iu.iteratee=Zu;const Ku=Date.now||function(){return(new Date).getTime()};function Ju(t){var e=function(e){return t[e]},n="(?:"+eu(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}const Qu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},tl=Ju(Qu),el=Ju(Eu(Qu)),nl=iu.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var rl=/(.)^/,il={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ol=/\\|'|\r|\n|\u2028|\u2029/g;function sl(t){return"\\"+il[t]}var al=/^\s*(\w|\$)+\s*$/;function hl(t,e,n){!e&&n&&(e=n),e=Pu({},e,iu.templateSettings);var r=RegExp([(e.escape||rl).source,(e.interpolate||rl).source,(e.evaluate||rl).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,s,a){return o+=t.slice(i,a).replace(ol,sl),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n";var s,a=e.variable;if(a){if(!al.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(a,"_",o)}catch(t){throw t.source=o,t}var h=function(t){return s.call(this,t,iu)};return h.source="function("+a+"){\n"+o+"}",h}function ul(t,e,n){var r=(e=Nu(e)).length;if(!r)return Th(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=Th(o)?o.call(t):o}return t}var ll=0;function cl(t){var e=++ll+"";return t?t+e:e}function fl(t){var e=iu(t);return e._chain=!0,e}function dl(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Ou(t.prototype),s=t.apply(o,i);return _h(s)?s:o}var pl=vh((function(t,e){var n=pl.placeholder,r=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return dl(t,r,this,this,s)};return r}));pl.placeholder=iu;const gl=pl,ml=vh((function(t,e,n){if(!Th(t))throw new TypeError("Bind must be called on a function");var r=vh((function(i){return dl(t,r,e,this,n.concat(i))}));return r})),yl=Wh(Qh);function vl(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,s=Qh(t);o<s;o++){var a=t[o];if(yl(a)&&(Gh(a)||zh(a)))if(e>1)vl(a,e-1,n,r),i=r.length;else for(var h=0,u=a.length;h<u;)r[i++]=a[h++];else n||(r[i++]=a)}return r}const _l=vh((function(t,e){var n=(e=vl(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=ml(t[r],t)}return t}));function bl(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return qh(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}const wl=vh((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),xl=gl(wl,iu,1);function Ml(t,e,n){var r,i,o,s,a=0;n||(n={});var h=function(){a=!1===n.leading?0:Ku(),r=null,s=t.apply(i,o),r||(i=o=null)},u=function(){var u=Ku();a||!1!==n.leading||(a=u);var l=e-(u-a);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=u,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(h,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u}function El(t,e,n){var r,i,o,s,a,h=function(){var u=Ku()-i;e>u?r=setTimeout(h,e-u):(r=null,n||(s=t.apply(a,o)),r||(o=a=null))},u=vh((function(u){return a=this,o=u,i=Ku(),r||(r=setTimeout(h,e),n&&(s=t.apply(a,o))),s}));return u.cancel=function(){clearTimeout(r),r=o=a=null},u}function Sl(t,e){return gl(e,t)}function Cl(t){return function(){return!t.apply(this,arguments)}}function Il(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Al(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Pl(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const Ol=gl(Pl,2);function kl(t,e,n){e=Vu(e,n);for(var r,i=eu(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r}function Rl(t){return function(e,n,r){n=Vu(n,r);for(var i=Qh(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}const Ll=Rl(1),Tl=Rl(-1);function Nl(t,e,n,r){for(var i=(n=Vu(n,r,1))(e),o=0,s=Qh(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o}function Dl(t,e,n){return function(r,i,o){var s=0,a=Qh(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(ih.call(r,s,a),Vh))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}const Fl=Dl(1,Ll,Nl),jl=Dl(-1,Tl);function Bl(t,e,n){var r=(yl(t)?Ll:kl)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Gl(t,e){return Bl(t,Gu(e))}function ql(t,e,n){var r,i;if(e=Uu(e,n),yl(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=eu(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function Ul(t,e,n){e=Vu(e,n);for(var r=!yl(t)&&eu(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o}function zl(t){var e=function(e,n,r,i){var o=!yl(e)&&eu(e),s=(o||e).length,a=t>0?0:s-1;for(i||(r=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var h=o?o[a]:a;r=n(r,e[h],h,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,Uu(n,i,4),r,o)}}const Zl=zl(1),Vl=zl(-1);function Xl(t,e,n){var r=[];return e=Vu(e,n),ql(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Wl(t,e,n){return Xl(t,Cl(Vu(e)),n)}function Yl(t,e,n){e=Vu(e,n);for(var r=!yl(t)&&eu(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0}function Hl(t,e,n){e=Vu(e,n);for(var r=!yl(t)&&eu(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1}function $l(t,e,n,r){return yl(t)||(t=xu(t)),("number"!=typeof n||r)&&(n=0),Fl(t,e,n)>=0}const Kl=vh((function(t,e,n){var r,i;return Th(e)?i=e:(e=Nu(e),r=e.slice(0,-1),e=e[e.length-1]),Ul(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=Du(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Jl(t,e){return Ul(t,qu(e))}function Ql(t,e){return Xl(t,Gu(e))}function tc(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,h=(t=yl(t)?t:xu(t)).length;a<h;a++)null!=(r=t[a])&&r>o&&(o=r);else e=Vu(e,n),ql(t,(function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o}function ec(t,e,n){var r,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,h=(t=yl(t)?t:xu(t)).length;a<h;a++)null!=(r=t[a])&&r<o&&(o=r);else e=Vu(e,n),ql(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o}var nc=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function rc(t){return t?Gh(t)?ih.call(t):Sh(t)?t.match(nc):yl(t)?Ul(t,Bu):xu(t):[]}function ic(t,e,n){if(null==e||n)return yl(t)||(t=xu(t)),t[$u(t.length-1)];var r=rc(t),i=Qh(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=$u(s,o),h=r[s];r[s]=r[a],r[a]=h}return r.slice(0,e)}function oc(t){return ic(t,1/0)}function sc(t,e,n){var r=0;return e=Vu(e,n),Jl(Ul(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function ac(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=Vu(r,i),ql(n,(function(e,i){var s=r(e,i,n);t(o,e,s)})),o}}const hc=ac((function(t,e,n){qh(t,n)?t[n].push(e):t[n]=[e]})),uc=ac((function(t,e,n){t[n]=e})),lc=ac((function(t,e,n){qh(t,n)?t[n]++:t[n]=1})),cc=ac((function(t,e,n){t[n?0:1].push(e)}),!0);function fc(t){return null==t?0:yl(t)?t.length:eu(t).length}function dc(t,e,n){return e in n}const pc=vh((function(t,e){var n={},r=e[0];if(null==t)return n;Th(r)?(e.length>1&&(r=Uu(r,e[1])),e=lu(t)):(r=dc,e=vl(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),gc=vh((function(t,e){var n,r=e[0];return Th(r)?(r=Cl(r),e.length>1&&(n=e[1])):(e=Ul(vl(e,!1,!1),String),r=function(t,n){return!$l(e,n)}),pc(t,r,n)}));function mc(t,e,n){return ih.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function yc(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:mc(t,t.length-e)}function vc(t,e,n){return ih.call(t,null==e||n?1:e)}function _c(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:vc(t,Math.max(0,t.length-e))}function bc(t){return Xl(t,Boolean)}function wc(t,e){return vl(t,e,!1)}const xc=vh((function(t,e){return e=vl(e,!0,!0),Xl(t,(function(t){return!$l(e,t)}))})),Mc=vh((function(t,e){return xc(t,e)}));function Ec(t,e,n,r){xh(e)||(r=n,n=e,e=!1),null!=n&&(n=Vu(n,r));for(var i=[],o=[],s=0,a=Qh(t);s<a;s++){var h=t[s],u=n?n(h,s,t):h;e&&!n?(s&&o===u||i.push(h),o=u):n?$l(o,u)||(o.push(u),i.push(h)):$l(i,h)||i.push(h)}return i}const Sc=vh((function(t){return Ec(vl(t,!0,!0))}));function Cc(t){for(var e=[],n=arguments.length,r=0,i=Qh(t);r<i;r++){var o=t[r];if(!$l(e,o)){var s;for(s=1;s<n&&$l(arguments[s],o);s++);s===n&&e.push(o)}}return e}function Ic(t){for(var e=t&&tc(t,Qh).length||0,n=Array(e),r=0;r<e;r++)n[r]=Jl(t,r);return n}const Ac=vh(Ic);function Pc(t,e){for(var n={},r=0,i=Qh(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Oc(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function kc(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(ih.call(t,r,r+=e));return n}function Rc(t,e){return t._chain?iu(e).chain():e}function Lc(t){return ql(Su(t),(function(e){var n=iu[e]=t[e];iu.prototype[e]=function(){var t=[this._wrapped];return rh.apply(t,arguments),Rc(this,n.apply(iu,t))}})),iu}ql(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=th[t];iu.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Rc(this,n)}})),ql(["concat","join","slice"],(function(t){var e=th[t];iu.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Rc(this,t)}}));const Tc=iu;var Nc=Lc(t);Nc._=Nc;const Dc=Nc;function Fc(t){return Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(t)}Dc.deepClone=function(t){var e=Dc.clone(t);return Dc.each(e,(function(t,n){Dc.isObject(t)&&(e[n]=Dc.deepClone(t))})),e},Dc.isDeepEqual=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;if(t.constructor!==e.constructor)return!1;for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))return!1;if(t[n]!==e[n]){if("object"!==Fc(t[n]))return!1;if(!Dc.isDeepEqual(t[n],e[n]))return!1}}for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0};const jc=Dc;var Bc=Object.freeze({}),Gc=Array.isArray;function qc(t){return null==t}function Uc(t){return null!=t}function zc(t){return!0===t}function Zc(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function Vc(t){return"function"==typeof t}function Xc(t){return null!==t&&"object"==typeof t}var Wc=Object.prototype.toString;function Yc(t){return"[object Object]"===Wc.call(t)}function Hc(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function $c(t){return Uc(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function Kc(t){return null==t?"":Array.isArray(t)||Yc(t)&&t.toString===Wc?JSON.stringify(t,null,2):String(t)}function Jc(t){var e=parseFloat(t);return isNaN(e)?t:e}function Qc(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var tf=Qc("slot,component",!0),ef=Qc("key,ref,slot,slot-scope,is");function nf(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var rf=Object.prototype.hasOwnProperty;function of(t,e){return rf.call(t,e)}function sf(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var af=/-(\w)/g,hf=sf((function(t){return t.replace(af,(function(t,e){return e?e.toUpperCase():""}))})),uf=sf((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),lf=/\B([A-Z])/g,cf=sf((function(t){return t.replace(lf,"-$1").toLowerCase()})),ff=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function df(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function pf(t,e){for(var n in e)t[n]=e[n];return t}function gf(t){for(var e={},n=0;n<t.length;n++)t[n]&&pf(e,t[n]);return e}function mf(t,e,n){}var yf=function(t,e,n){return!1},vf=function(t){return t};function _f(t,e){if(t===e)return!0;var n=Xc(t),r=Xc(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return _f(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return _f(t[n],e[n])}))}catch(t){return!1}}function bf(t,e){for(var n=0;n<t.length;n++)if(_f(t[n],e))return n;return-1}function wf(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function xf(t,e){return t===e?0===t&&1/t!=1/e:t==t||e==e}var Mf="data-server-rendered",Ef=["component","directive","filter"],Sf=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Cf={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:yf,isReservedAttr:yf,isUnknownElement:yf,getTagNamespace:mf,parsePlatformTagName:vf,mustUseProp:yf,async:!0,_lifecycleHooks:Sf},If=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Af(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Pf(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var Of=new RegExp("[^".concat(If.source,".$_\\d]")),kf="__proto__"in{},Rf="undefined"!=typeof window,Lf=Rf&&window.navigator.userAgent.toLowerCase(),Tf=Lf&&/msie|trident/.test(Lf),Nf=Lf&&Lf.indexOf("msie 9.0")>0,Df=Lf&&Lf.indexOf("edge/")>0;Lf&&Lf.indexOf("android");var Ff=Lf&&/iphone|ipad|ipod|ios/.test(Lf);Lf&&/chrome\/\d+/.test(Lf),Lf&&/phantomjs/.test(Lf);var jf,Bf=Lf&&Lf.match(/firefox\/(\d+)/),Gf={}.watch,qf=!1;if(Rf)try{var Uf={};Object.defineProperty(Uf,"passive",{get:function(){qf=!0}}),window.addEventListener("test-passive",null,Uf)}catch(t){}var zf=function(){return void 0===jf&&(jf=!Rf&&void 0!==i.g&&i.g.process&&"server"===i.g.process.env.VUE_ENV),jf},Zf=Rf&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Vf(t){return"function"==typeof t&&/native code/.test(t.toString())}var Xf,Wf="undefined"!=typeof Symbol&&Vf(Symbol)&&"undefined"!=typeof Reflect&&Vf(Reflect.ownKeys);Xf="undefined"!=typeof Set&&Vf(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Yf=null;function Hf(t){void 0===t&&(t=null),t||Yf&&Yf._scope.off(),Yf=t,t&&t._scope.on()}var $f=function(){function t(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),Kf=function(t){void 0===t&&(t="");var e=new $f;return e.text=t,e.isComment=!0,e};function Jf(t){return new $f(void 0,void 0,void 0,String(t))}function Qf(t){var e=new $f(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var td=0,ed=[],nd=function(){function t(){this._pending=!1,this.id=td++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,ed.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){for(var e=this.subs.filter((function(t){return t})),n=0,r=e.length;n<r;n++)e[n].update()},t}();nd.target=null;var rd=[];function id(t){rd.push(t),nd.target=t}function od(){rd.pop(),nd.target=rd[rd.length-1]}var sd=Array.prototype,ad=Object.create(sd);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=sd[t];Pf(ad,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var hd=Object.getOwnPropertyNames(ad),ud={},ld=!0;function cd(t){ld=t}var fd={notify:mf,depend:mf,addSub:mf,removeSub:mf},dd=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?fd:new nd,this.vmCount=0,Pf(t,"__ob__",this),Gc(t)){if(!n)if(kf)t.__proto__=ad;else for(var r=0,i=hd.length;r<i;r++)Pf(t,s=hd[r],ad[s]);e||this.observeArray(t)}else{var o=Object.keys(t);for(r=0;r<o.length;r++){var s;gd(t,s=o[r],ud,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)pd(t[e],!1,this.mock)},t}();function pd(t,e,n){return t&&of(t,"__ob__")&&t.__ob__ instanceof dd?t.__ob__:!ld||!n&&zf()||!Gc(t)&&!Yc(t)||!Object.isExtensible(t)||t.__v_skip||wd(t)||t instanceof $f?void 0:new dd(t,e,n)}function gd(t,e,n,r,i,o){var s=new nd,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var h=a&&a.get,u=a&&a.set;h&&!u||n!==ud&&2!==arguments.length||(n=t[e]);var l=!i&&pd(n,!1,o);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=h?h.call(t):n;return nd.target&&(s.depend(),l&&(l.dep.depend(),Gc(e)&&vd(e))),wd(e)&&!i?e.value:e},set:function(e){var r=h?h.call(t):n;if(xf(r,e)){if(u)u.call(t,e);else{if(h)return;if(!i&&wd(r)&&!wd(e))return void(r.value=e);n=e}l=!i&&pd(e,!1,o),s.notify()}}}),s}}function md(t,e,n){if(!bd(t)){var r=t.__ob__;return Gc(t)&&Hc(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&pd(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(gd(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function yd(t,e){if(Gc(t)&&Hc(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||bd(t)||of(t,e)&&(delete t[e],n&&n.dep.notify())}}function vd(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Gc(e)&&vd(e)}function _d(t){return function(t,e){bd(t)||pd(t,e,zf())}(t,!0),Pf(t,"__v_isShallow",!0),t}function bd(t){return!(!t||!t.__v_isReadonly)}function wd(t){return!(!t||!0!==t.__v_isRef)}function xd(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(wd(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];wd(r)&&!wd(t)?r.value=t:e[n]=t}})}var Md=sf((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function Ed(t,e){function n(){var t=n.fns;if(!Gc(t))return Rp(t,null,arguments,e,"v-on handler");for(var r=t.slice(),i=0;i<r.length;i++)Rp(r[i],null,arguments,e,"v-on handler")}return n.fns=t,n}function Sd(t,e,n,r,i,o){var s,a,h,u;for(s in t)a=t[s],h=e[s],u=Md(s),qc(a)||(qc(h)?(qc(a.fns)&&(a=t[s]=Ed(a,o)),zc(u.once)&&(a=t[s]=i(u.name,a,u.capture)),n(u.name,a,u.capture,u.passive,u.params)):a!==h&&(h.fns=a,t[s]=h));for(s in e)qc(t[s])&&r((u=Md(s)).name,e[s],u.capture)}function Cd(t,e,n){var r;t instanceof $f&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),nf(r.fns,o)}qc(i)?r=Ed([o]):Uc(i.fns)&&zc(i.merged)?(r=i).fns.push(o):r=Ed([i,o]),r.merged=!0,t[e]=r}function Id(t,e,n,r,i){if(Uc(e)){if(of(e,n))return t[n]=e[n],i||delete e[n],!0;if(of(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ad(t){return Zc(t)?[Jf(t)]:Gc(t)?Od(t):void 0}function Pd(t){return Uc(t)&&Uc(t.text)&&!1===t.isComment}function Od(t,e){var n,r,i,o,s=[];for(n=0;n<t.length;n++)qc(r=t[n])||"boolean"==typeof r||(o=s[i=s.length-1],Gc(r)?r.length>0&&(Pd((r=Od(r,"".concat(e||"","_").concat(n)))[0])&&Pd(o)&&(s[i]=Jf(o.text+r[0].text),r.shift()),s.push.apply(s,r)):Zc(r)?Pd(o)?s[i]=Jf(o.text+r):""!==r&&s.push(Jf(r)):Pd(r)&&Pd(o)?s[i]=Jf(o.text+r.text):(zc(t._isVList)&&Uc(r.tag)&&qc(r.key)&&Uc(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),s.push(r)));return s}function kd(t,e,n,r,i,o){return(Gc(n)||Zc(n))&&(i=r,r=n,n=void 0),zc(o)&&(i=2),function(t,e,n,r,i){if(Uc(n)&&Uc(n.__ob__))return Kf();if(Uc(n)&&Uc(n.is)&&(e=n.is),!e)return Kf();var o,s;if(Gc(r)&&Vc(r[0])&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===i?r=Ad(r):1===i&&(r=function(t){for(var e=0;e<t.length;e++)if(Gc(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e){var a=void 0;s=t.$vnode&&t.$vnode.ns||Cf.getTagNamespace(e),o=Cf.isReservedTag(e)?new $f(Cf.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!Uc(a=Eg(t.$options,"components",e))?new $f(e,n,r,void 0,void 0,t):pg(a,n,t,r,e)}else o=pg(e,n,t,r);return Gc(o)?o:Uc(o)?(Uc(s)&&Rd(o,s),Uc(n)&&function(t){Xc(t.style)&&Wp(t.style),Xc(t.class)&&Wp(t.class)}(n),o):Kf()}(t,e,n,r,i)}function Rd(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),Uc(t.children))for(var r=0,i=t.children.length;r<i;r++){var o=t.children[r];Uc(o.tag)&&(qc(o.ns)||zc(n)&&"svg"!==o.tag)&&Rd(o,e,n)}}function Ld(t,e){var n,r,i,o,s=null;if(Gc(t)||"string"==typeof t)for(s=new Array(t.length),n=0,r=t.length;n<r;n++)s[n]=e(t[n],n);else if("number"==typeof t)for(s=new Array(t),n=0;n<t;n++)s[n]=e(n+1,n);else if(Xc(t))if(Wf&&t[Symbol.iterator]){s=[];for(var a=t[Symbol.iterator](),h=a.next();!h.done;)s.push(e(h.value,s.length)),h=a.next()}else for(i=Object.keys(t),s=new Array(i.length),n=0,r=i.length;n<r;n++)o=i[n],s[n]=e(t[o],o,n);return Uc(s)||(s=[]),s._isVList=!0,s}function Td(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=pf(pf({},r),n)),i=o(n)||(Vc(e)?e():e)):i=this.$slots[t]||(Vc(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Nd(t){return Eg(this.$options,"filters",t)||vf}function Dd(t,e){return Gc(t)?-1===t.indexOf(e):t!==e}function Fd(t,e,n,r,i){var o=Cf.keyCodes[e]||n;return i&&r&&!Cf.keyCodes[e]?Dd(i,r):o?Dd(o,t):r?cf(r)!==e:void 0===t}function jd(t,e,n,r,i){if(n&&Xc(n)){Gc(n)&&(n=gf(n));var o=void 0,s=function(s){if("class"===s||"style"===s||ef(s))o=t;else{var a=t.attrs&&t.attrs.type;o=r||Cf.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var h=hf(s),u=cf(s);h in o||u in o||(o[s]=n[s],i&&((t.on||(t.on={}))["update:".concat(s)]=function(t){n[s]=t}))};for(var a in n)s(a)}return t}function Bd(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||qd(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),"__static__".concat(t),!1),r}function Gd(t,e,n){return qd(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function qd(t,e,n){if(Gc(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ud(t[r],"".concat(e,"_").concat(r),n);else Ud(t,e,n)}function Ud(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function zd(t,e){if(e&&Yc(e)){var n=t.on=t.on?pf({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}return t}function Zd(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Gc(o)?Zd(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Vd(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Xd(t,e){return"string"==typeof t?e+t:t}function Wd(t){t._o=Gd,t._n=Jc,t._s=Kc,t._l=Ld,t._t=Td,t._q=_f,t._i=bf,t._m=Bd,t._f=Nd,t._k=Fd,t._b=jd,t._v=Jf,t._e=Kf,t._u=Zd,t._g=zd,t._d=Vd,t._p=Xd}function Yd(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,h=n[a]||(n[a]=[]);"template"===o.tag?h.push.apply(h,o.children||[]):h.push(o)}}for(var u in n)n[u].every(Hd)&&delete n[u];return n}function Hd(t){return t.isComment&&!t.asyncFactory||" "===t.text}function $d(t){return t.isComment&&t.asyncFactory}function Kd(t,e,n,r){var i,o=Object.keys(n).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&r&&r!==Bc&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var h in i={},e)e[h]&&"$"!==h[0]&&(i[h]=Jd(t,n,h,e[h]))}else i={};for(var u in n)u in i||(i[u]=Qd(n,u));return e&&Object.isExtensible(e)&&(e._normalized=i),Pf(i,"$stable",s),Pf(i,"$key",a),Pf(i,"$hasNormal",o),i}function Jd(t,e,n,r){var i=function(){var e=Yf;Hf(t);var n=arguments.length?r.apply(null,arguments):r({}),i=(n=n&&"object"==typeof n&&!Gc(n)?[n]:Ad(n))&&n[0];return Hf(e),n&&(!i||1===n.length&&i.isComment&&!$d(i))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:i,enumerable:!0,configurable:!0}),i}function Qd(t,e){return function(){return t[e]}}function tp(t,e,n,r,i){var o=!1;for(var s in e)s in t?e[s]!==n[s]&&(o=!0):(o=!0,ep(t,s,r,i));for(var s in t)s in e||(o=!0,delete t[s]);return o}function ep(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function np(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}var rp,ip=null;function op(t,e){return(t.__esModule||Wf&&"Module"===t[Symbol.toStringTag])&&(t=t.default),Xc(t)?e.extend(t):t}function sp(t){if(Gc(t))for(var e=0;e<t.length;e++){var n=t[e];if(Uc(n)&&(Uc(n.componentOptions)||$d(n)))return n}}function ap(t,e){rp.$on(t,e)}function hp(t,e){rp.$off(t,e)}function up(t,e){var n=rp;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function lp(t,e,n){rp=t,Sd(e,n||{},ap,hp,up,t),rp=void 0}var cp=null;function fp(t){var e=cp;return cp=t,function(){cp=e}}function dp(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function pp(t,e){if(e){if(t._directInactive=!1,dp(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)pp(t.$children[n]);mp(t,"activated")}}function gp(t,e){if(!(e&&(t._directInactive=!0,dp(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)gp(t.$children[n]);mp(t,"deactivated")}}function mp(t,e,n,r){void 0===r&&(r=!0),id();var i=Yf;r&&Hf(t);var o=t.$options[e],s="".concat(e," hook");if(o)for(var a=0,h=o.length;a<h;a++)Rp(o[a],t,n||null,t,s);t._hasHookEvent&&t.$emit("hook:"+e),r&&Hf(i),od()}var yp=[],vp=[],_p={},bp=!1,wp=!1,xp=0,Mp=0,Ep=Date.now;if(Rf&&!Tf){var Sp=window.performance;Sp&&"function"==typeof Sp.now&&Ep()>document.createEvent("Event").timeStamp&&(Ep=function(){return Sp.now()})}var Cp=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Ip(){var t,e;for(Mp=Ep(),wp=!0,yp.sort(Cp),xp=0;xp<yp.length;xp++)(t=yp[xp]).before&&t.before(),e=t.id,_p[e]=null,t.run();var n=vp.slice(),r=yp.slice();xp=yp.length=vp.length=0,_p={},bp=wp=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,pp(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&mp(r,"updated")}}(r),function(){for(var t=0;t<ed.length;t++){var e=ed[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}ed.length=0}(),Zf&&Cf.devtools&&Zf.emit("flush")}var Ap,Pp="watcher";"".concat(Pp," callback"),"".concat(Pp," getter"),"".concat(Pp," cleanup");var Op=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ap,!t&&Ap&&(this.index=(Ap.scopes||(Ap.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Ap;try{return Ap=this,t()}finally{Ap=e}}},t.prototype.on=function(){Ap=this},t.prototype.off=function(){Ap=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function kp(t,e,n){id();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Lp(t,r,"errorCaptured hook")}}Lp(t,e,n)}finally{od()}}function Rp(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&$c(o)&&!o._handled&&(o.catch((function(t){return kp(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){kp(t,r,i)}return o}function Lp(t,e,n){if(Cf.errorHandler)try{return Cf.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Tp(e)}Tp(t)}function Tp(t,e,n){if(!Rf||"undefined"==typeof console)throw t;console.error(t)}var Np,Dp=!1,Fp=[],jp=!1;function Bp(){jp=!1;var t=Fp.slice(0);Fp.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&Vf(Promise)){var Gp=Promise.resolve();Np=function(){Gp.then(Bp),Ff&&setTimeout(mf)},Dp=!0}else if(Tf||"undefined"==typeof MutationObserver||!Vf(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Np="undefined"!=typeof setImmediate&&Vf(setImmediate)?function(){setImmediate(Bp)}:function(){setTimeout(Bp,0)};else{var qp=1,Up=new MutationObserver(Bp),zp=document.createTextNode(String(qp));Up.observe(zp,{characterData:!0}),Np=function(){qp=(qp+1)%2,zp.data=String(qp)},Dp=!0}function Zp(t,e){var n;if(Fp.push((function(){if(t)try{t.call(e)}catch(t){kp(t,e,"nextTick")}else n&&n(e)})),jp||(jp=!0,Np()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function Vp(t){return function(e,n){if(void 0===n&&(n=Yf),n)return function(t,e,n){var r=t.$options;r[e]=bg(r[e],n)}(n,t,e)}}Vp("beforeMount"),Vp("mounted"),Vp("beforeUpdate"),Vp("updated"),Vp("beforeDestroy"),Vp("destroyed"),Vp("activated"),Vp("deactivated"),Vp("serverPrefetch"),Vp("renderTracked"),Vp("renderTriggered"),Vp("errorCaptured");var Xp=new Xf;function Wp(t){return Yp(t,Xp),Xp.clear(),t}function Yp(t,e){var n,r,i=Gc(t);if(!(!i&&!Xc(t)||t.__v_skip||Object.isFrozen(t)||t instanceof $f)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)Yp(t[n],e);else if(wd(t))Yp(t.value,e);else for(n=(r=Object.keys(t)).length;n--;)Yp(t[r[n]],e)}}var Hp=0,$p=function(){function t(t,e,n,r,i){var o;void 0===(o=Ap&&!Ap._vm?Ap:t?t._scope:void 0)&&(o=Ap),o&&o.active&&o.effects.push(this),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Hp,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Xf,this.newDepIds=new Xf,this.expression="",Vc(e)?this.getter=e:(this.getter=function(t){if(!Of.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=mf)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;id(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;kp(t,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Wp(t),od(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==_p[e]&&(t!==nd.target||!t.noRecurse)){if(_p[e]=!0,wp){for(var n=yp.length-1;n>xp&&yp[n].id>t.id;)n--;yp.splice(n+1,0,t)}else yp.push(t);bp||(bp=!0,Zp(Ip))}}(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||Xc(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Rp(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&nf(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}(),Kp={enumerable:!0,configurable:!0,get:mf,set:mf};function Jp(t,e,n){Kp.get=function(){return this[e][n]},Kp.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Kp)}function Qp(t){var e=t.$options;if(e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props=_d({}),i=t.$options._propKeys=[];t.$parent&&cd(!1);var o=function(o){i.push(o);var s=Sg(o,e,n,t);gd(r,o,s),o in t||Jp(t,"_props",o)};for(var s in e)o(s);cd(!0)}(t,e.props),function(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=function(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Pf(e,"_v_attr_proxy",!0),tp(e,t.$attrs,Bc,t,"$attrs")}return t._attrsProxy},get listeners(){return t._listenersProxy||tp(t._listenersProxy={},t.$listeners,Bc,t,"$listeners"),t._listenersProxy},get slots(){return function(t){return t._slotsProxy||np(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}(t)},emit:ff(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return xd(t,e,n)}))}}}(t);Hf(t),id();var i=Rp(n,null,[t._props||_d({}),r],t,"setup");if(od(),Hf(),Vc(i))e.render=i;else if(Xc(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var s in i)"__sfc"!==s&&xd(o,i,s)}else for(var s in i)Af(s)||xd(t,i,s)}}(t),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?mf:ff(e[n],t)}(t,e.methods),e.data)!function(t){var e=t.$options.data;Yc(e=t._data=Vc(e)?function(t,e){id();try{return t.call(e,e)}catch(t){return kp(t,e,"data()"),{}}finally{od()}}(e,t):e||{})||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&of(r,o)||Af(o)||Jp(t,"_data",o)}var s=pd(e);s&&s.vmCount++}(t);else{var n=pd(t._data={});n&&n.vmCount++}e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=zf();for(var i in e){var o=e[i],s=Vc(o)?o:o.get;r||(n[i]=new $p(t,s||mf,mf,tg)),i in t||eg(t,i,o)}}(t,e.computed),e.watch&&e.watch!==Gf&&function(t,e){for(var n in e){var r=e[n];if(Gc(r))for(var i=0;i<r.length;i++)ig(t,n,r[i]);else ig(t,n,r)}}(t,e.watch)}var tg={lazy:!0};function eg(t,e,n){var r=!zf();Vc(n)?(Kp.get=r?ng(e):rg(n),Kp.set=mf):(Kp.get=n.get?r&&!1!==n.cache?ng(e):rg(n.get):mf,Kp.set=n.set||mf),Object.defineProperty(t,e,Kp)}function ng(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),nd.target&&e.depend(),e.value}}function rg(t){return function(){return t.call(this,this)}}function ig(t,e,n,r){return Yc(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function og(t,e){if(t){for(var n=Object.create(null),r=Wf?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=t[o].from;if(s in e._provided)n[o]=e._provided[s];else if("default"in t[o]){var a=t[o].default;n[o]=Vc(a)?a.call(e):a}}}return n}}var sg=0;function ag(t){var e=t.options;if(t.super){var n=ag(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&pf(t.extendOptions,r),(e=t.options=Mg(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function hg(t,e,n,r,i){var o,s=this,a=i.options;of(r,"_uid")?(o=Object.create(r))._original=r:(o=r,r=r._original);var h=zc(a._compiled),u=!h;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||Bc,this.injections=og(a.inject,r),this.slots=function(){return s.$slots||Kd(r,t.scopedSlots,s.$slots=Yd(n,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Kd(r,t.scopedSlots,this.slots())}}),h&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=Kd(r,t.scopedSlots,this.$slots)),a._scopeId?this._c=function(t,e,n,i){var s=kd(o,t,e,n,i,u);return s&&!Gc(s)&&(s.fnScopeId=a._scopeId,s.fnContext=r),s}:this._c=function(t,e,n,r){return kd(o,t,e,n,r,u)}}function ug(t,e,n,r,i){var o=Qf(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function lg(t,e){for(var n in e)t[hf(n)]=e[n]}function cg(t){return t.name||t.__name||t._componentTag}Wd(hg.prototype);var fg={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;fg.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return Uc(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}(t,cp)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){var o=r.data.scopedSlots,s=t.$scopedSlots,a=!!(o&&!o.$stable||s!==Bc&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),h=!!(i||t.$options._renderChildren||a),u=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i;var l=r.data.attrs||Bc;t._attrsProxy&&tp(t._attrsProxy,l,u.data&&u.data.attrs||Bc,t,"$attrs")&&(h=!0),t.$attrs=l,n=n||Bc;var c=t.$options._parentListeners;if(t._listenersProxy&&tp(t._listenersProxy,n,c||Bc,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,lp(t,n,c),e&&t.$options.props){cd(!1);for(var f=t._props,d=t.$options._propKeys||[],p=0;p<d.length;p++){var g=d[p],m=t.$options.props;f[g]=Sg(g,m,e,t)}cd(!0),t.$options.propsData=e}h&&(t.$slots=Yd(i,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,mp(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,vp.push(e)):pp(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?gp(e,!0):e.$destroy())}},dg=Object.keys(fg);function pg(t,e,n,r,i){if(!qc(t)){var o=n.$options._base;if(Xc(t)&&(t=o.extend(t)),"function"==typeof t){var s;if(qc(t.cid)&&(t=function(t,e){if(zc(t.error)&&Uc(t.errorComp))return t.errorComp;if(Uc(t.resolved))return t.resolved;var n=ip;if(n&&Uc(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),zc(t.loading)&&Uc(t.loadingComp))return t.loadingComp;if(n&&!Uc(t.owners)){var r=t.owners=[n],i=!0,o=null,s=null;n.$on("hook:destroyed",(function(){return nf(r,n)}));var a=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==s&&(clearTimeout(s),s=null))},h=wf((function(n){t.resolved=op(n,e),i?r.length=0:a(!0)})),u=wf((function(e){Uc(t.errorComp)&&(t.error=!0,a(!0))})),l=t(h,u);return Xc(l)&&($c(l)?qc(t.resolved)&&l.then(h,u):$c(l.component)&&(l.component.then(h,u),Uc(l.error)&&(t.errorComp=op(l.error,e)),Uc(l.loading)&&(t.loadingComp=op(l.loading,e),0===l.delay?t.loading=!0:o=setTimeout((function(){o=null,qc(t.resolved)&&qc(t.error)&&(t.loading=!0,a(!1))}),l.delay||200)),Uc(l.timeout)&&(s=setTimeout((function(){s=null,qc(t.resolved)&&u(null)}),l.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}(s=t,o),void 0===t))return function(t,e,n,r,i){var o=Kf();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(s,e,n,r,i);e=e||{},ag(t),Uc(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],s=e.model.callback;Uc(o)?(Gc(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(t.options,e);var a=function(t,e,n){var r=e.options.props;if(!qc(r)){var i={},o=t.attrs,s=t.props;if(Uc(o)||Uc(s))for(var a in r){var h=cf(a);Id(i,s,a,h,!0)||Id(i,o,a,h,!1)}return i}}(e,t);if(zc(t.options.functional))return function(t,e,n,r,i){var o=t.options,s={},a=o.props;if(Uc(a))for(var h in a)s[h]=Sg(h,a,e||Bc);else Uc(n.attrs)&&lg(s,n.attrs),Uc(n.props)&&lg(s,n.props);var u=new hg(n,s,i,r,t),l=o.render.call(null,u._c,u);if(l instanceof $f)return ug(l,n,u.parent,o);if(Gc(l)){for(var c=Ad(l)||[],f=new Array(c.length),d=0;d<c.length;d++)f[d]=ug(c[d],n,u.parent,o);return f}}(t,a,e,n,r);var h=e.on;if(e.on=e.nativeOn,zc(t.options.abstract)){var u=e.slot;e={},u&&(e.slot=u)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<dg.length;n++){var r=dg[n],i=e[r],o=fg[r];i===o||i&&i._merged||(e[r]=i?gg(o,i):o)}}(e);var l=cg(t.options)||i;return new $f("vue-component-".concat(t.cid).concat(l?"-".concat(l):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:a,listeners:h,tag:i,children:r},s)}}}function gg(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}var mg=mf,yg=Cf.optionMergeStrategies;function vg(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,s=Wf?Reflect.ownKeys(e):Object.keys(e),a=0;a<s.length;a++)"__ob__"!==(r=s[a])&&(i=t[r],o=e[r],n&&of(t,r)?i!==o&&Yc(i)&&Yc(o)&&vg(i,o):md(t,r,o));return t}function _g(t,e,n){return n?function(){var r=Vc(e)?e.call(n,n):e,i=Vc(t)?t.call(n,n):t;return r?vg(r,i):i}:e?t?function(){return vg(Vc(e)?e.call(this,this):e,Vc(t)?t.call(this,this):t)}:e:t}function bg(t,e){var n=e?t?t.concat(e):Gc(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function wg(t,e,n,r){var i=Object.create(t||null);return e?pf(i,e):i}yg.data=function(t,e,n){return n?_g(t,e,n):e&&"function"!=typeof e?t:_g(t,e)},Sf.forEach((function(t){yg[t]=bg})),Ef.forEach((function(t){yg[t+"s"]=wg})),yg.watch=function(t,e,n,r){if(t===Gf&&(t=void 0),e===Gf&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in pf(i,t),e){var s=i[o],a=e[o];s&&!Gc(s)&&(s=[s]),i[o]=s?s.concat(a):Gc(a)?a:[a]}return i},yg.props=yg.methods=yg.inject=yg.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return pf(i,t),e&&pf(i,e),i},yg.provide=function(t,e){return t?function(){var n=Object.create(null);return vg(n,Vc(t)?t.call(this):t),e&&vg(n,Vc(e)?e.call(this):e,!1),n}:e};var xg=function(t,e){return void 0===e?t:e};function Mg(t,e,n){if(Vc(e)&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Gc(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[hf(i)]={type:null});else if(Yc(n))for(var s in n)i=n[s],o[hf(s)]=Yc(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Gc(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(Yc(n))for(var o in n){var s=n[o];r[o]=Yc(s)?pf({from:o},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];Vc(r)&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Mg(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Mg(t,e.mixins[r],n);var o,s={};for(o in t)a(o);for(o in e)of(t,o)||a(o);function a(r){var i=yg[r]||xg;s[r]=i(t[r],e[r],n,r)}return s}function Eg(t,e,n,r){if("string"==typeof n){var i=t[e];if(of(i,n))return i[n];var o=hf(n);if(of(i,o))return i[o];var s=uf(o);return of(i,s)?i[s]:i[n]||i[o]||i[s]}}function Sg(t,e,n,r){var i=e[t],o=!of(n,t),s=n[t],a=Pg(Boolean,i.type);if(a>-1)if(o&&!of(i,"default"))s=!1;else if(""===s||s===cf(t)){var h=Pg(String,i.type);(h<0||a<h)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(of(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:Vc(r)&&"Function"!==Ig(e.type)?r.call(t):r}}(r,i,t);var u=ld;cd(!0),pd(s),cd(u)}return s}var Cg=/^\s*function (\w+)/;function Ig(t){var e=t&&t.toString().match(Cg);return e?e[1]:""}function Ag(t,e){return Ig(t)===Ig(e)}function Pg(t,e){if(!Gc(e))return Ag(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ag(e[n],t))return n;return-1}function Og(t){this._init(t)}function kg(t){return t&&(cg(t.Ctor.options)||t.tag)}function Rg(t,e){return Gc(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(n=t,!("[object RegExp]"!==Wc.call(n))&&t.test(e));var n}function Lg(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!e(a)&&Tg(n,o,r,i)}}}function Tg(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,nf(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=sg++,e._isVue=!0,e.__v_skip=!0,e._scope=new Op(!0),e._scope._vm=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Mg(ag(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&lp(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Yd(e._renderChildren,r),t.$scopedSlots=n?Kd(t.$parent,n.data.scopedSlots,t.$slots):Bc,t._c=function(e,n,r,i){return kd(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return kd(t,e,n,r,i,!0)};var i=n&&n.data;gd(t,"$attrs",i&&i.attrs||Bc,null,!0),gd(t,"$listeners",e._parentListeners||Bc,null,!0)}(e),mp(e,"beforeCreate",void 0,!1),function(t){var e=og(t.$options.inject,t);e&&(cd(!1),Object.keys(e).forEach((function(n){gd(t,n,e[n])})),cd(!0))}(e),Qp(e),function(t){var e=t.$options.provide;if(e){var n=Vc(e)?e.call(t):e;if(!Xc(n))return;for(var r=function(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}(t),i=Wf?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}(e),mp(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Og),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=md,t.prototype.$delete=yd,t.prototype.$watch=function(t,e,n){var r=this;if(Yc(e))return ig(r,t,e,n);(n=n||{}).user=!0;var i=new $p(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');id(),Rp(e,r,[i.value],r,o),od()}return function(){i.teardown()}}}(Og),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Gc(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Gc(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var a=s.length;a--;)if((o=s[a])===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?df(n):n;for(var r=df(arguments,1),i='event handler for "'.concat(t,'"'),o=0,s=n.length;o<s;o++)Rp(n[o],e,r,e,i)}return e}}(Og),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=fp(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var s=n;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){mp(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||nf(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),mp(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Og),function(t){Wd(t.prototype),t.prototype.$nextTick=function(t){return Zp(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&e._isMounted&&(e.$scopedSlots=Kd(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&np(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{Hf(e),ip=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){kp(n,e,"render"),t=e._vnode}finally{ip=null,Hf()}return Gc(t)&&1===t.length&&(t=t[0]),t instanceof $f||(t=Kf()),t.parent=i,t}}(Og);var Ng=[String,RegExp,Array],Dg={name:"keep-alive",abstract:!0,props:{include:Ng,exclude:Ng,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;e[i]={name:kg(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&Tg(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Tg(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Lg(t,(function(t){return Rg(e,t)}))})),this.$watch("exclude",(function(e){Lg(t,(function(t){return!Rg(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=sp(t),n=e&&e.componentOptions;if(n){var r=kg(n),i=this.include,o=this.exclude;if(i&&(!r||!Rg(i,r))||o&&r&&Rg(o,r))return e;var s=this.cache,a=this.keys,h=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;s[h]?(e.componentInstance=s[h].componentInstance,nf(a,h),a.push(h)):(this.vnodeToCache=e,this.keyToCache=h),e.data.keepAlive=!0}return e||t&&t[0]}},Fg={KeepAlive:Dg};!function(t){var e={get:function(){return Cf}};Object.defineProperty(t,"config",e),t.util={warn:mg,extend:pf,mergeOptions:Mg,defineReactive:gd},t.set=md,t.delete=yd,t.nextTick=Zp,t.observable=function(t){return pd(t),t},t.options=Object.create(null),Ef.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,pf(t.options.components,Fg),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=df(arguments,1);return n.unshift(this),Vc(t.install)?t.install.apply(t,n):Vc(t)&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Mg(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=cg(t)||cg(n.options),s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=Mg(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)Jp(t.prototype,"_props",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)eg(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,Ef.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=pf({},s.options),i[r]=s,s}}(t),function(t){Ef.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&Yc(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&Vc(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(Og),Object.defineProperty(Og.prototype,"$isServer",{get:zf}),Object.defineProperty(Og.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Og,"FunctionalRenderContext",{value:hg}),Og.version="2.7.14";var jg=Qc("style,class"),Bg=Qc("input,textarea,option,select,progress"),Gg=function(t,e,n){return"value"===n&&Bg(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},qg=Qc("contenteditable,draggable,spellcheck"),Ug=Qc("events,caret,typing,plaintext-only"),zg=Qc("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Zg="http://www.w3.org/1999/xlink",Vg=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Xg=function(t){return Vg(t)?t.slice(6,t.length):""},Wg=function(t){return null==t||!1===t};function Yg(t,e){return{staticClass:Hg(t.staticClass,e.staticClass),class:Uc(t.class)?[t.class,e.class]:e.class}}function Hg(t,e){return t?e?t+" "+e:t:e||""}function $g(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)Uc(e=$g(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):Xc(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Kg={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Jg=Qc("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Qg=Qc("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),tm=function(t){return Jg(t)||Qg(t)};function em(t){return Qg(t)?"svg":"math"===t?"math":void 0}var nm=Object.create(null),rm=Qc("text,number,password,search,email,tel,url");function im(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var om=Object.freeze({__proto__:null,createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Kg[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),sm={create:function(t,e){am(e)},update:function(t,e){t.data.ref!==e.data.ref&&(am(t,!0),am(e))},destroy:function(t){am(t,!0)}};function am(t,e){var n=t.data.ref;if(Uc(n)){var r=t.context,i=t.componentInstance||t.elm,o=e?null:i,s=e?void 0:i;if(Vc(n))Rp(n,r,[o],r,"template ref function");else{var a=t.data.refInFor,h="string"==typeof n||"number"==typeof n,u=wd(n),l=r.$refs;if(h||u)if(a){var c=h?l[n]:n.value;e?Gc(c)&&nf(c,i):Gc(c)?c.includes(i)||c.push(i):h?(l[n]=[i],hm(r,n,l[n])):n.value=[i]}else if(h){if(e&&l[n]!==i)return;l[n]=s,hm(r,n,o)}else if(u){if(e&&n.value!==i)return;n.value=o}}}}function hm(t,e,n){var r=t._setupState;r&&of(r,e)&&(wd(r[e])?r[e].value=n:r[e]=n)}var um=new $f("",{},[]),lm=["create","activate","update","remove","destroy"];function cm(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&Uc(t.data)===Uc(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=Uc(n=t.data)&&Uc(n=n.attrs)&&n.type,i=Uc(n=e.data)&&Uc(n=n.attrs)&&n.type;return r===i||rm(r)&&rm(i)}(t,e)||zc(t.isAsyncPlaceholder)&&qc(e.asyncFactory.error))}function fm(t,e,n){var r,i,o={};for(r=e;r<=n;++r)Uc(i=t[r].key)&&(o[i]=r);return o}var dm={create:pm,update:pm,destroy:function(t){pm(t,um)}};function pm(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===um,s=e===um,a=mm(t.data.directives,t.context),h=mm(e.data.directives,e.context),u=[],l=[];for(n in h)r=a[n],i=h[n],r?(i.oldValue=r.value,i.oldArg=r.arg,vm(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(vm(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var c=function(){for(var n=0;n<u.length;n++)vm(u[n],"inserted",e,t)};o?Cd(e,"insert",c):c()}if(l.length&&Cd(e,"postpatch",(function(){for(var n=0;n<l.length;n++)vm(l[n],"componentUpdated",e,t)})),!o)for(n in a)h[n]||vm(a[n],"unbind",t,t,s)}(t,e)}var gm=Object.create(null);function mm(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if((r=t[n]).modifiers||(r.modifiers=gm),i[ym(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Eg(e,"_setupState","v-"+r.name);r.def="function"==typeof o?{bind:o,update:o}:o}r.def=r.def||Eg(e.$options,"directives",r.name)}return i}function ym(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function vm(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){kp(r,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var _m=[sm,dm];function bm(t,e){var n=e.componentOptions;if(!(Uc(n)&&!1===n.Ctor.options.inheritAttrs||qc(t.data.attrs)&&qc(e.data.attrs))){var r,i,o=e.elm,s=t.data.attrs||{},a=e.data.attrs||{};for(r in(Uc(a.__ob__)||zc(a._v_attr_proxy))&&(a=e.data.attrs=pf({},a)),a)i=a[r],s[r]!==i&&wm(o,r,i,e.data.pre);for(r in(Tf||Df)&&a.value!==s.value&&wm(o,"value",a.value),s)qc(a[r])&&(Vg(r)?o.removeAttributeNS(Zg,Xg(r)):qg(r)||o.removeAttribute(r))}}function wm(t,e,n,r){r||t.tagName.indexOf("-")>-1?xm(t,e,n):zg(e)?Wg(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):qg(e)?t.setAttribute(e,function(t,e){return Wg(e)||"false"===e?"false":"contenteditable"===t&&Ug(e)?e:"true"}(e,n)):Vg(e)?Wg(n)?t.removeAttributeNS(Zg,Xg(e)):t.setAttributeNS(Zg,e,n):xm(t,e,n)}function xm(t,e,n){if(Wg(n))t.removeAttribute(e);else{if(Tf&&!Nf&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Mm={create:bm,update:bm};function Em(t,e){var n=e.elm,r=e.data,i=t.data;if(!(qc(r.staticClass)&&qc(r.class)&&(qc(i)||qc(i.staticClass)&&qc(i.class)))){var o=function(t){for(var e=t.data,n=t,r=t;Uc(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Yg(r.data,e));for(;Uc(n=n.parent);)n&&n.data&&(e=Yg(e,n.data));return i=e.staticClass,o=e.class,Uc(i)||Uc(o)?Hg(i,$g(o)):"";var i,o}(e),s=n._transitionClasses;Uc(s)&&(o=Hg(o,$g(s))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var Sm,Cm,Im,Am,Pm,Om,km={create:Em,update:Em},Rm=/[\w).+\-_$\]]/;function Lm(t){var e,n,r,i,o,s=!1,a=!1,h=!1,u=!1,l=0,c=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),s)39===e&&92!==n&&(s=!1);else if(a)34===e&&92!==n&&(a=!1);else if(h)96===e&&92!==n&&(h=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||c||f){switch(e){case 34:a=!0;break;case 39:s=!0;break;case 96:h=!0;break;case 40:f++;break;case 41:f--;break;case 91:c++;break;case 93:c--;break;case 123:l++;break;case 125:l--}if(47===e){for(var p=r-1,g=void 0;p>=0&&" "===(g=t.charAt(p));p--);g&&Rm.test(g)||(u=!0)}}else void 0===i?(d=r+1,i=t.slice(0,r).trim()):m();function m(){(o||(o=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==d&&m(),o)for(r=0;r<o.length;r++)i=Tm(i,o[r]);return i}function Tm(t,e){var n=e.indexOf("(");if(n<0)return'_f("'.concat(e,'")(').concat(t,")");var r=e.slice(0,n),i=e.slice(n+1);return'_f("'.concat(r,'")(').concat(t).concat(")"!==i?","+i:i)}function Nm(t,e){console.error("[Vue compiler]: ".concat(t))}function Dm(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Fm(t,e,n,r,i){(t.props||(t.props=[])).push(Xm({name:e,value:n,dynamic:i},r)),t.plain=!1}function jm(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Xm({name:e,value:n,dynamic:i},r)),t.plain=!1}function Bm(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Xm({name:e,value:n},r))}function Gm(t,e,n,r,i,o,s,a){(t.directives||(t.directives=[])).push(Xm({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:s},a)),t.plain=!1}function qm(t,e,n){return n?"_p(".concat(e,',"').concat(t,'")'):t+e}function Um(t,e,n,r,i,o,s,a){var h;(r=r||Bc).right?a?e="(".concat(e,")==='click'?'contextmenu':(").concat(e,")"):"click"===e&&(e="contextmenu",delete r.right):r.middle&&(a?e="(".concat(e,")==='click'?'mouseup':(").concat(e,")"):"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=qm("!",e,a)),r.once&&(delete r.once,e=qm("~",e,a)),r.passive&&(delete r.passive,e=qm("&",e,a)),r.native?(delete r.native,h=t.nativeEvents||(t.nativeEvents={})):h=t.events||(t.events={});var u=Xm({value:n.trim(),dynamic:a},s);r!==Bc&&(u.modifiers=r);var l=h[e];Array.isArray(l)?i?l.unshift(u):l.push(u):h[e]=l?i?[u,l]:[l,u]:u,t.plain=!1}function zm(t,e,n){var r=Zm(t,":"+e)||Zm(t,"v-bind:"+e);if(null!=r)return Lm(r);if(!1!==n){var i=Zm(t,e);if(null!=i)return JSON.stringify(i)}}function Zm(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,s=i.length;o<s;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function Vm(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Xm(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Wm(t,e,n){var r=n||{},i=r.number,o="$$v",s=o;r.trim&&(s="(typeof ".concat(o," === 'string'")+"? ".concat(o,".trim()")+": ".concat(o,")")),i&&(s="_n(".concat(s,")"));var a=Ym(e,s);t.model={value:"(".concat(e,")"),expression:JSON.stringify(e),callback:"function (".concat(o,") {").concat(a,"}")}}function Ym(t,e){var n=function(t){if(t=t.trim(),Sm=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<Sm-1)return(Am=t.lastIndexOf("."))>-1?{exp:t.slice(0,Am),key:'"'+t.slice(Am+1)+'"'}:{exp:t,key:null};for(Cm=t,Am=Pm=Om=0;!$m();)Km(Im=Hm())?Qm(Im):91===Im&&Jm(Im);return{exp:t.slice(0,Pm),key:t.slice(Pm+1,Om)}}(t);return null===n.key?"".concat(t,"=").concat(e):"$set(".concat(n.exp,", ").concat(n.key,", ").concat(e,")")}function Hm(){return Cm.charCodeAt(++Am)}function $m(){return Am>=Sm}function Km(t){return 34===t||39===t}function Jm(t){var e=1;for(Pm=Am;!$m();)if(Km(t=Hm()))Qm(t);else if(91===t&&e++,93===t&&e--,0===e){Om=Am;break}}function Qm(t){for(var e=t;!$m()&&(t=Hm())!==e;);}var ty;function ey(t,e,n){var r=ty;return function i(){var o=e.apply(null,arguments);null!==o&&iy(t,i,n,r)}}var ny=Dp&&!(Bf&&Number(Bf[1])<=53);function ry(t,e,n,r){if(ny){var i=Mp,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}ty.addEventListener(t,e,qf?{capture:n,passive:r}:n)}function iy(t,e,n,r){(r||ty).removeEventListener(t,e._wrapper||e,n)}function oy(t,e){if(!qc(t.data.on)||!qc(e.data.on)){var n=e.data.on||{},r=t.data.on||{};ty=e.elm||t.elm,function(t){if(Uc(t.__r)){var e=Tf?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}Uc(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),Sd(n,r,ry,iy,ey,e.context),ty=void 0}}var sy,ay={create:oy,update:oy,destroy:function(t){return oy(t,um)}};function hy(t,e){if(!qc(t.data.domProps)||!qc(e.data.domProps)){var n,r,i=e.elm,o=t.data.domProps||{},s=e.data.domProps||{};for(n in(Uc(s.__ob__)||zc(s._v_attr_proxy))&&(s=e.data.domProps=pf({},s)),o)n in s||(i[n]="");for(n in s){if(r=s[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===o[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var a=qc(r)?"":String(r);uy(i,a)&&(i.value=a)}else if("innerHTML"===n&&Qg(i.tagName)&&qc(i.innerHTML)){(sy=sy||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var h=sy.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;h.firstChild;)i.appendChild(h.firstChild)}else if(r!==o[n])try{i[n]=r}catch(t){}}}}function uy(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(Uc(r)){if(r.number)return Jc(n)!==Jc(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var ly={create:hy,update:hy},cy=sf((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function fy(t){var e=dy(t.style);return t.staticStyle?pf(t.staticStyle,e):e}function dy(t){return Array.isArray(t)?gf(t):"string"==typeof t?cy(t):t}var py,gy=/^--/,my=/\s*!important$/,yy=function(t,e,n){if(gy.test(e))t.style.setProperty(e,n);else if(my.test(n))t.style.setProperty(cf(e),n.replace(my,""),"important");else{var r=_y(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},vy=["Webkit","Moz","ms"],_y=sf((function(t){if(py=py||document.createElement("div").style,"filter"!==(t=hf(t))&&t in py)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<vy.length;n++){var r=vy[n]+e;if(r in py)return r}}));function by(t,e){var n=e.data,r=t.data;if(!(qc(n.staticStyle)&&qc(n.style)&&qc(r.staticStyle)&&qc(r.style))){var i,o,s=e.elm,a=r.staticStyle,h=r.normalizedStyle||r.style||{},u=a||h,l=dy(e.data.style)||{};e.data.normalizedStyle=Uc(l.__ob__)?pf({},l):l;var c=function(t,e){for(var n,r={},i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=fy(i.data))&&pf(r,n);(n=fy(t.data))&&pf(r,n);for(var o=t;o=o.parent;)o.data&&(n=fy(o.data))&&pf(r,n);return r}(e);for(o in u)qc(c[o])&&yy(s,o,"");for(o in c)(i=c[o])!==u[o]&&yy(s,o,null==i?"":i)}}var wy={create:by,update:by},xy=/\s+/;function My(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(xy).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ey(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(xy).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Sy(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&pf(e,Cy(t.name||"v")),pf(e,t),e}return"string"==typeof t?Cy(t):void 0}}var Cy=sf((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),Iy=Rf&&!Nf,Ay="transition",Py="animation",Oy="transition",ky="transitionend",Ry="animation",Ly="animationend";Iy&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oy="WebkitTransition",ky="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ry="WebkitAnimation",Ly="webkitAnimationEnd"));var Ty=Rf?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ny(t){Ty((function(){Ty(t)}))}function Dy(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),My(t,e))}function Fy(t,e){t._transitionClasses&&nf(t._transitionClasses,e),Ey(t,e)}function jy(t,e,n){var r=Gy(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===Ay?ky:Ly,h=0,u=function(){t.removeEventListener(a,l),n()},l=function(e){e.target===t&&++h>=s&&u()};setTimeout((function(){h<s&&u()}),o+1),t.addEventListener(a,l)}var By=/\b(transform|all)(,|$)/;function Gy(t,e){var n,r=window.getComputedStyle(t),i=(r[Oy+"Delay"]||"").split(", "),o=(r[Oy+"Duration"]||"").split(", "),s=qy(i,o),a=(r[Ry+"Delay"]||"").split(", "),h=(r[Ry+"Duration"]||"").split(", "),u=qy(a,h),l=0,c=0;return e===Ay?s>0&&(n=Ay,l=s,c=o.length):e===Py?u>0&&(n=Py,l=u,c=h.length):c=(n=(l=Math.max(s,u))>0?s>u?Ay:Py:null)?n===Ay?o.length:h.length:0,{type:n,timeout:l,propCount:c,hasTransform:n===Ay&&By.test(r[Oy+"Property"])}}function qy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Uy(e)+Uy(t[n])})))}function Uy(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function zy(t,e){var n=t.elm;Uc(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Sy(t.data.transition);if(!qc(r)&&!Uc(n._enterCb)&&1===n.nodeType){for(var i=r.css,o=r.type,s=r.enterClass,a=r.enterToClass,h=r.enterActiveClass,u=r.appearClass,l=r.appearToClass,c=r.appearActiveClass,f=r.beforeEnter,d=r.enter,p=r.afterEnter,g=r.enterCancelled,m=r.beforeAppear,y=r.appear,v=r.afterAppear,_=r.appearCancelled,b=r.duration,w=cp,x=cp.$vnode;x&&x.parent;)w=x.context,x=x.parent;var M=!w._isMounted||!t.isRootInsert;if(!M||y||""===y){var E=M&&u?u:s,S=M&&c?c:h,C=M&&l?l:a,I=M&&m||f,A=M&&Vc(y)?y:d,P=M&&v||p,O=M&&_||g,k=Jc(Xc(b)?b.enter:b),R=!1!==i&&!Nf,L=Xy(A),T=n._enterCb=wf((function(){R&&(Fy(n,C),Fy(n,S)),T.cancelled?(R&&Fy(n,E),O&&O(n)):P&&P(n),n._enterCb=null}));t.data.show||Cd(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),A&&A(n,T)})),I&&I(n),R&&(Dy(n,E),Dy(n,S),Ny((function(){Fy(n,E),T.cancelled||(Dy(n,C),L||(Vy(k)?setTimeout(T,k):jy(n,o,T)))}))),t.data.show&&(e&&e(),A&&A(n,T)),R||L||T()}}}function Zy(t,e){var n=t.elm;Uc(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Sy(t.data.transition);if(qc(r)||1!==n.nodeType)return e();if(!Uc(n._leaveCb)){var i=r.css,o=r.type,s=r.leaveClass,a=r.leaveToClass,h=r.leaveActiveClass,u=r.beforeLeave,l=r.leave,c=r.afterLeave,f=r.leaveCancelled,d=r.delayLeave,p=r.duration,g=!1!==i&&!Nf,m=Xy(l),y=Jc(Xc(p)?p.leave:p),v=n._leaveCb=wf((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),g&&(Fy(n,a),Fy(n,h)),v.cancelled?(g&&Fy(n,s),f&&f(n)):(e(),c&&c(n)),n._leaveCb=null}));d?d(_):_()}function _(){v.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),u&&u(n),g&&(Dy(n,s),Dy(n,h),Ny((function(){Fy(n,s),v.cancelled||(Dy(n,a),m||(Vy(y)?setTimeout(v,y):jy(n,o,v)))}))),l&&l(n,v),g||m||v())}}function Vy(t){return"number"==typeof t&&!isNaN(t)}function Xy(t){if(qc(t))return!1;var e=t.fns;return Uc(e)?Xy(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wy(t,e){!0!==e.data.show&&zy(e)}var Yy=function(t){var e,n,r={},i=t.modules,o=t.nodeOps;for(e=0;e<lm.length;++e)for(r[lm[e]]=[],n=0;n<i.length;++n)Uc(i[n][lm[e]])&&r[lm[e]].push(i[n][lm[e]]);function s(t){var e=o.parentNode(t);Uc(e)&&o.removeChild(e,t)}function a(t,e,n,i,s,a,c){if(Uc(t.elm)&&Uc(a)&&(t=a[c]=Qf(t)),t.isRootInsert=!s,!function(t,e,n,i){var o=t.data;if(Uc(o)){var s=Uc(t.componentInstance)&&o.keepAlive;if(Uc(o=o.hook)&&Uc(o=o.init)&&o(t,!1),Uc(t.componentInstance))return h(t,e),u(n,t.elm,i),zc(s)&&function(t,e,n,i){for(var o,s=t;s.componentInstance;)if(Uc(o=(s=s.componentInstance._vnode).data)&&Uc(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](um,s);e.push(s);break}u(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var p=t.data,g=t.children,m=t.tag;Uc(m)?(t.elm=t.ns?o.createElementNS(t.ns,m):o.createElement(m,t),d(t),l(t,g,e),Uc(p)&&f(t,e),u(n,t.elm,i)):zc(t.isComment)?(t.elm=o.createComment(t.text),u(n,t.elm,i)):(t.elm=o.createTextNode(t.text),u(n,t.elm,i))}}function h(t,e){Uc(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,c(t)?(f(t,e),d(t)):(am(t),e.push(t))}function u(t,e,n){Uc(t)&&(Uc(n)?o.parentNode(n)===t&&o.insertBefore(t,e,n):o.appendChild(t,e))}function l(t,e,n){if(Gc(e))for(var r=0;r<e.length;++r)a(e[r],n,t.elm,null,!0,e,r);else Zc(t.text)&&o.appendChild(t.elm,o.createTextNode(String(t.text)))}function c(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return Uc(t.tag)}function f(t,n){for(var i=0;i<r.create.length;++i)r.create[i](um,t);Uc(e=t.data.hook)&&(Uc(e.create)&&e.create(um,t),Uc(e.insert)&&n.push(t))}function d(t){var e;if(Uc(e=t.fnScopeId))o.setStyleScope(t.elm,e);else for(var n=t;n;)Uc(e=n.context)&&Uc(e=e.$options._scopeId)&&o.setStyleScope(t.elm,e),n=n.parent;Uc(e=cp)&&e!==t.context&&e!==t.fnContext&&Uc(e=e.$options._scopeId)&&o.setStyleScope(t.elm,e)}function p(t,e,n,r,i,o){for(;r<=i;++r)a(n[r],o,t,e,!1,n,r)}function g(t){var e,n,i=t.data;if(Uc(i))for(Uc(e=i.hook)&&Uc(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(Uc(e=t.children))for(n=0;n<t.children.length;++n)g(t.children[n])}function m(t,e,n){for(;e<=n;++e){var r=t[e];Uc(r)&&(Uc(r.tag)?(y(r),g(r)):s(r.elm))}}function y(t,e){if(Uc(e)||Uc(t.data)){var n,i=r.remove.length+1;for(Uc(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&s(t)}return n.listeners=e,n}(t.elm,i),Uc(n=t.componentInstance)&&Uc(n=n._vnode)&&Uc(n.data)&&y(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);Uc(n=t.data.hook)&&Uc(n=n.remove)?n(t,e):e()}else s(t.elm)}function v(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(Uc(o)&&cm(t,o))return i}}function _(t,e,n,i,s,h){if(t!==e){Uc(e.elm)&&Uc(i)&&(e=i[s]=Qf(e));var u=e.elm=t.elm;if(zc(t.isAsyncPlaceholder))Uc(e.asyncFactory.resolved)?x(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(zc(e.isStatic)&&zc(t.isStatic)&&e.key===t.key&&(zc(e.isCloned)||zc(e.isOnce)))e.componentInstance=t.componentInstance;else{var l,f=e.data;Uc(f)&&Uc(l=f.hook)&&Uc(l=l.prepatch)&&l(t,e);var d=t.children,g=e.children;if(Uc(f)&&c(e)){for(l=0;l<r.update.length;++l)r.update[l](t,e);Uc(l=f.hook)&&Uc(l=l.update)&&l(t,e)}qc(e.text)?Uc(d)&&Uc(g)?d!==g&&function(t,e,n,r,i){for(var s,h,u,l=0,c=0,f=e.length-1,d=e[0],g=e[f],y=n.length-1,b=n[0],w=n[y],x=!i;l<=f&&c<=y;)qc(d)?d=e[++l]:qc(g)?g=e[--f]:cm(d,b)?(_(d,b,r,n,c),d=e[++l],b=n[++c]):cm(g,w)?(_(g,w,r,n,y),g=e[--f],w=n[--y]):cm(d,w)?(_(d,w,r,n,y),x&&o.insertBefore(t,d.elm,o.nextSibling(g.elm)),d=e[++l],w=n[--y]):cm(g,b)?(_(g,b,r,n,c),x&&o.insertBefore(t,g.elm,d.elm),g=e[--f],b=n[++c]):(qc(s)&&(s=fm(e,l,f)),qc(h=Uc(b.key)?s[b.key]:v(b,e,l,f))?a(b,r,t,d.elm,!1,n,c):cm(u=e[h],b)?(_(u,b,r,n,c),e[h]=void 0,x&&o.insertBefore(t,u.elm,d.elm)):a(b,r,t,d.elm,!1,n,c),b=n[++c]);l>f?p(t,qc(n[y+1])?null:n[y+1].elm,n,c,y,r):c>y&&m(e,l,f)}(u,d,g,n,h):Uc(g)?(Uc(t.text)&&o.setTextContent(u,""),p(u,null,g,0,g.length-1,n)):Uc(d)?m(d,0,d.length-1):Uc(t.text)&&o.setTextContent(u,""):t.text!==e.text&&o.setTextContent(u,e.text),Uc(f)&&Uc(l=f.hook)&&Uc(l=l.postpatch)&&l(t,e)}}}function b(t,e,n){if(zc(n)&&Uc(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var w=Qc("attrs,class,staticClass,staticStyle,key");function x(t,e,n,r){var i,o=e.tag,s=e.data,a=e.children;if(r=r||s&&s.pre,e.elm=t,zc(e.isComment)&&Uc(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(Uc(s)&&(Uc(i=s.hook)&&Uc(i=i.init)&&i(e,!0),Uc(i=e.componentInstance)))return h(e,n),!0;if(Uc(o)){if(Uc(a))if(t.hasChildNodes())if(Uc(i=s)&&Uc(i=i.domProps)&&Uc(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,c=t.firstChild,d=0;d<a.length;d++){if(!c||!x(c,a[d],n,r)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else l(e,a,n);if(Uc(s)){var p=!1;for(var g in s)if(!w(g)){p=!0,f(e,n);break}!p&&s.class&&Wp(s.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!qc(e)){var s,h=!1,u=[];if(qc(t))h=!0,a(e,u);else{var l=Uc(t.nodeType);if(!l&&cm(t,e))_(t,e,u,null,null,i);else{if(l){if(1===t.nodeType&&t.hasAttribute(Mf)&&(t.removeAttribute(Mf),n=!0),zc(n)&&x(t,e,u))return b(e,u,!0),t;s=t,t=new $f(o.tagName(s).toLowerCase(),{},[],void 0,s)}var f=t.elm,d=o.parentNode(f);if(a(e,u,f._leaveCb?null:d,o.nextSibling(f)),Uc(e.parent))for(var p=e.parent,y=c(e);p;){for(var v=0;v<r.destroy.length;++v)r.destroy[v](p);if(p.elm=e.elm,y){for(var w=0;w<r.create.length;++w)r.create[w](um,p);var M=p.data.hook.insert;if(M.merged)for(var E=1;E<M.fns.length;E++)M.fns[E]()}else am(p);p=p.parent}Uc(d)?m([t],0,0):Uc(t.tag)&&g(t)}}return b(e,u,h),e.elm}Uc(t)&&g(t)}}({nodeOps:om,modules:[Mm,km,ay,ly,wy,Rf?{create:Wy,activate:Wy,remove:function(t,e){!0!==t.data.show?Zy(t,e):e()}}:{}].concat(_m)});Nf&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&nv(t,"input")}));var Hy={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Cd(n,"postpatch",(function(){Hy.componentUpdated(t,e,n)})):$y(t,e,n.context),t._vOptions=[].map.call(t.options,Qy)):("textarea"===n.tag||rm(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",tv),t.addEventListener("compositionend",ev),t.addEventListener("change",ev),Nf&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){$y(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Qy);if(i.some((function(t,e){return!_f(t,r[e])})))(t.multiple?e.value.some((function(t){return Jy(t,i)})):e.value!==e.oldValue&&Jy(e.value,i))&&nv(t,"change")}}};function $y(t,e,n){Ky(t,e),(Tf||Df)&&setTimeout((function(){Ky(t,e)}),0)}function Ky(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,h=t.options.length;a<h;a++)if(s=t.options[a],i)o=bf(r,Qy(s))>-1,s.selected!==o&&(s.selected=o);else if(_f(Qy(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function Jy(t,e){return e.every((function(e){return!_f(e,t)}))}function Qy(t){return"_value"in t?t._value:t.value}function tv(t){t.target.composing=!0}function ev(t){t.target.composing&&(t.target.composing=!1,nv(t.target,"input"))}function nv(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function rv(t){return!t.componentInstance||t.data&&t.data.transition?t:rv(t.componentInstance._vnode)}var iv={model:Hy,show:{bind:function(t,e,n){var r=e.value,i=(n=rv(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,zy(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=rv(n)).data&&n.data.transition?(n.data.show=!0,r?zy(n,(function(){t.style.display=t.__vOriginalDisplay})):Zy(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},ov={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function sv(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?sv(sp(e.children)):t}function av(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[hf(r)]=i[r];return e}function hv(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var uv=function(t){return t.tag||$d(t)},lv=function(t){return"show"===t.name},cv={name:"transition",props:ov,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(uv)).length){var r=this.mode,i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=sv(i);if(!o)return i;if(this._leaving)return hv(t,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:Zc(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=av(this),h=this._vnode,u=sv(h);if(o.data.directives&&o.data.directives.some(lv)&&(o.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,u)&&!$d(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var l=u.data.transition=pf({},a);if("out-in"===r)return this._leaving=!0,Cd(l,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),hv(t,i);if("in-out"===r){if($d(o))return h;var c,f=function(){c()};Cd(a,"afterEnter",f),Cd(a,"enterCancelled",f),Cd(l,"delayLeave",(function(t){c=t}))}}return i}}},fv=pf({tag:String,moveClass:String},ov);delete fv.mode;var dv={props:fv,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=fp(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=av(this),a=0;a<i.length;a++)(l=i[a]).tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s);if(r){var h=[],u=[];for(a=0;a<r.length;a++){var l;(l=r[a]).data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?h.push(l):u.push(l)}this.kept=t(e,null,h),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(pv),t.forEach(gv),t.forEach(mv),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Dy(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ky,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ky,t),n._moveCb=null,Fy(n,e))})}})))},methods:{hasMove:function(t,e){if(!Iy)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ey(n,t)})),My(n,e),n.style.display="none",this.$el.appendChild(n);var r=Gy(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function pv(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function gv(t){t.data.newPos=t.elm.getBoundingClientRect()}function mv(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var yv={Transition:cv,TransitionGroup:dv};Og.config.mustUseProp=Gg,Og.config.isReservedTag=tm,Og.config.isReservedAttr=jg,Og.config.getTagNamespace=em,Og.config.isUnknownElement=function(t){if(!Rf)return!0;if(tm(t))return!1;if(t=t.toLowerCase(),null!=nm[t])return nm[t];var e=document.createElement(t);return t.indexOf("-")>-1?nm[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:nm[t]=/HTMLUnknownElement/.test(e.toString())},pf(Og.options.directives,iv),pf(Og.options.components,yv),Og.prototype.__patch__=Rf?Yy:mf,Og.prototype.$mount=function(t,e){return function(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=Kf),mp(t,"beforeMount"),r=function(){t._update(t._render(),n)},new $p(t,r,mf,{before:function(){t._isMounted&&!t._isDestroyed&&mp(t,"beforeUpdate")}},!0),n=!1;var i=t._preWatchers;if(i)for(var o=0;o<i.length;o++)i[o].run();return null==t.$vnode&&(t._isMounted=!0,mp(t,"mounted")),t}(this,t=t&&Rf?im(t):void 0,e)},Rf&&setTimeout((function(){Cf.devtools&&Zf&&Zf.emit("init",Og)}),0);var vv,_v=/\{\{((?:.|\r?\n)+?)\}\}/g,bv=/[-.*+?^${}()|[\]\/\\]/g,wv=sf((function(t){var e=t[0].replace(bv,"\\$&"),n=t[1].replace(bv,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")})),xv={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Zm(t,"class");n&&(t.staticClass=JSON.stringify(n.replace(/\s+/g," ").trim()));var r=zm(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:".concat(t.staticClass,",")),t.classBinding&&(e+="class:".concat(t.classBinding,",")),e}},Mv={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Zm(t,"style");n&&(t.staticStyle=JSON.stringify(cy(n)));var r=zm(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:".concat(t.staticStyle,",")),t.styleBinding&&(e+="style:(".concat(t.styleBinding,"),")),e}},Ev=Qc("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Sv=Qc("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Cv=Qc("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Iv=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Av=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Pv="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(If.source,"]*"),Ov="((?:".concat(Pv,"\\:)?").concat(Pv,")"),kv=new RegExp("^<".concat(Ov)),Rv=/^\s*(\/?)>/,Lv=new RegExp("^<\\/".concat(Ov,"[^>]*>")),Tv=/^<!DOCTYPE [^>]+>/i,Nv=/^<!\--/,Dv=/^<!\[/,Fv=Qc("script,style,textarea",!0),jv={},Bv={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Gv=/&(?:lt|gt|quot|amp|#39);/g,qv=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Uv=Qc("pre,textarea",!0),zv=function(t,e){return t&&Uv(t)&&"\n"===e[0]};function Zv(t,e){var n=e?qv:Gv;return t.replace(n,(function(t){return Bv[t]}))}var Vv,Xv,Wv,Yv,Hv,$v,Kv,Jv,Qv=/^@|^v-on:/,t_=/^v-|^@|^:|^#/,e_=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n_=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r_=/^\(|\)$/g,i_=/^\[.*\]$/,o_=/:(.*)$/,s_=/^:|^\.|^v-bind:/,a_=/\.[^.\]]+(?=[^\]]*$)/g,h_=/^v-slot(:|$)|^#/,u_=/[\r\n]/,l_=/[ \f\t\r\n]+/g,c_=sf((function(t){return(vv=vv||document.createElement("div")).innerHTML=t,vv.textContent})),f_="_empty_";function d_(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:b_(e),rawAttrsMap:{},parent:n,children:[]}}function p_(t,e){Vv=e.warn||Nm,$v=e.isPreTag||yf,Kv=e.mustUseProp||yf,Jv=e.getTagNamespace||yf;e.isReservedTag;Wv=Dm(e.modules,"transformNode"),Yv=Dm(e.modules,"preTransformNode"),Hv=Dm(e.modules,"postTransformNode"),Xv=e.delimiters;var n,r,i=[],o=!1!==e.preserveWhitespace,s=e.whitespace,a=!1,h=!1;function u(t){if(l(t),a||t.processed||(t=g_(t,e)),i.length||t===n||n.if&&(t.elseif||t.else)&&y_(n,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)s=t,u=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children),u&&u.if&&y_(u,{exp:s.elseif,block:s});else{if(t.slotScope){var o=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[o]=t}r.children.push(t),t.parent=r}var s,u;t.children=t.children.filter((function(t){return!t.slotScope})),l(t),t.pre&&(a=!1),$v(t.tag)&&(h=!1);for(var c=0;c<Hv.length;c++)Hv[c](t,e)}function l(t){if(!h)for(var e=void 0;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,i=[],o=e.expectHTML,s=e.isUnaryTag||yf,a=e.canBeLeftOpenTag||yf,h=0,u=function(){if(n=t,r&&Fv(r)){var u=0,f=r.toLowerCase(),d=jv[f]||(jv[f]=new RegExp("([\\s\\S]*?)(</"+f+"[^>]*>)","i"));x=t.replace(d,(function(t,n,r){return u=r.length,Fv(f)||"noscript"===f||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),zv(f,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""})),h+=t.length-x.length,t=x,c(f,h-u,h)}else{var p=t.indexOf("<");if(0===p){if(Nv.test(t)){var g=t.indexOf("--\x3e");if(g>=0)return e.shouldKeepComment&&e.comment&&e.comment(t.substring(4,g),h,h+g+3),l(g+3),"continue"}if(Dv.test(t)){var m=t.indexOf("]>");if(m>=0)return l(m+2),"continue"}var y=t.match(Tv);if(y)return l(y[0].length),"continue";var v=t.match(Lv);if(v){var _=h;return l(v[0].length),c(v[1],_,h),"continue"}var b=function(){var e=t.match(kv);if(e){var n={tagName:e[1],attrs:[],start:h};l(e[0].length);for(var r=void 0,i=void 0;!(r=t.match(Rv))&&(i=t.match(Av)||t.match(Iv));)i.start=h,l(i[0].length),i.end=h,n.attrs.push(i);if(r)return n.unarySlash=r[1],l(r[0].length),n.end=h,n}}();if(b)return function(t){var n=t.tagName,h=t.unarySlash;o&&("p"===r&&Cv(n)&&c(r),a(n)&&r===n&&c(n));for(var u=s(n)||!!h,l=t.attrs.length,f=new Array(l),d=0;d<l;d++){var p=t.attrs[d],g=p[3]||p[4]||p[5]||"",m="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[d]={name:p[1],value:Zv(g,m)}}u||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f,start:t.start,end:t.end}),r=n),e.start&&e.start(n,f,u,t.start,t.end)}(b),zv(b.tagName,t)&&l(1),"continue"}var w=void 0,x=void 0,M=void 0;if(p>=0){for(x=t.slice(p);!(Lv.test(x)||kv.test(x)||Nv.test(x)||Dv.test(x)||(M=x.indexOf("<",1))<0);)p+=M,x=t.slice(p);w=t.substring(0,p)}p<0&&(w=t),w&&l(w.length),e.chars&&w&&e.chars(w,h-w.length,h)}if(t===n)return e.chars&&e.chars(t),"break"};t&&"break"!==u(););function l(e){h+=e,t=t.substring(e)}function c(t,n,o){var s,a;if(null==n&&(n=h),null==o&&(o=h),t)for(a=t.toLowerCase(),s=i.length-1;s>=0&&i[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var u=i.length-1;u>=s;u--)e.end&&e.end(i[u].tag,n,o);i.length=s,r=s&&i[s-1].tag}else"br"===a?e.start&&e.start(t,[],!0,n,o):"p"===a&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}c()}(t,{warn:Vv,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,o,s,l,c){var f=r&&r.ns||Jv(t);Tf&&"svg"===f&&(o=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];w_.test(r.name)||(r.name=r.name.replace(x_,""),e.push(r))}return e}(o));var d,p=d_(t,o,r);f&&(p.ns=f),"style"!==(d=p).tag&&("script"!==d.tag||d.attrsMap.type&&"text/javascript"!==d.attrsMap.type)||zf()||(p.forbidden=!0);for(var g=0;g<Yv.length;g++)p=Yv[g](p,e)||p;a||(function(t){null!=Zm(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(a=!0)),$v(p.tag)&&(h=!0),a?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(p):p.processed||(m_(p),function(t){var e=Zm(t,"v-if");if(e)t.if=e,y_(t,{exp:e,block:t});else{null!=Zm(t,"v-else")&&(t.else=!0);var n=Zm(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){null!=Zm(t,"v-once")&&(t.once=!0)}(p)),n||(n=p),s?u(p):(r=p,i.push(p))},end:function(t,e,n){var o=i[i.length-1];i.length-=1,r=i[i.length-1],u(o)},chars:function(t,e,n){if(r&&(!Tf||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var i,u=r.children;if(t=h||t.trim()?"script"===(i=r).tag||"style"===i.tag?t:c_(t):u.length?s?"condense"===s&&u_.test(t)?"":" ":o?" ":"":""){h||"condense"!==s||(t=t.replace(l_," "));var l=void 0,c=void 0;!a&&" "!==t&&(l=function(t,e){var n=e?wv(e):_v;if(n.test(t)){for(var r,i,o,s=[],a=[],h=n.lastIndex=0;r=n.exec(t);){(i=r.index)>h&&(a.push(o=t.slice(h,i)),s.push(JSON.stringify(o)));var u=Lm(r[1].trim());s.push("_s(".concat(u,")")),a.push({"@binding":u}),h=i+r[0].length}return h<t.length&&(a.push(o=t.slice(h)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}(t,Xv))?c={type:2,expression:l.expression,tokens:l.tokens,text:t}:" "===t&&u.length&&" "===u[u.length-1].text||(c={type:3,text:t}),c&&u.push(c)}}},comment:function(t,e,n){if(r){var i={type:3,text:t,isComment:!0};r.children.push(i)}}}),n}function g_(t,e){var n;!function(t){var e=zm(t,"key");e&&(t.key=e)}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=zm(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Zm(t,"scope"),t.slotScope=e||Zm(t,"slot-scope")):(e=Zm(t,"slot-scope"))&&(t.slotScope=e);var n,r=zm(t,"slot");if(r&&(t.slotTarget='""'===r?'"default"':r,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||jm(t,"slot",r,function(t,e){return t.rawAttrsMap[":slot"]||t.rawAttrsMap["v-bind:slot"]||t.rawAttrsMap.slot}(t))),"template"===t.tag){if(n=Vm(t,h_)){var i=v_(n),o=i.name,s=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=s,t.slotScope=n.value||f_}}else if(n=Vm(t,h_)){var a=t.scopedSlots||(t.scopedSlots={}),h=v_(n),u=h.name,l=(s=h.dynamic,a[u]=d_("template",[],t));l.slotTarget=u,l.slotTargetDynamic=s,l.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=l,!0})),l.slotScope=n.value||f_,t.children=[],t.plain=!1}}(t),"slot"===(n=t).tag&&(n.slotName=zm(n,"name")),function(t){var e;(e=zm(t,"is"))&&(t.component=e),null!=Zm(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<Wv.length;r++)t=Wv[r](t,e)||t;return function(t){var e,n,r,i,o,s,a,h,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(r=i=u[e].name,o=u[e].value,t_.test(r))if(t.hasBindings=!0,(s=__(r.replace(t_,"")))&&(r=r.replace(a_,"")),s_.test(r))r=r.replace(s_,""),o=Lm(o),(h=i_.test(r))&&(r=r.slice(1,-1)),s&&(s.prop&&!h&&"innerHtml"===(r=hf(r))&&(r="innerHTML"),s.camel&&!h&&(r=hf(r)),s.sync&&(a=Ym(o,"$event"),h?Um(t,'"update:"+('.concat(r,")"),a,null,!1,0,u[e],!0):(Um(t,"update:".concat(hf(r)),a,null,!1,0,u[e]),cf(r)!==hf(r)&&Um(t,"update:".concat(cf(r)),a,null,!1,0,u[e])))),s&&s.prop||!t.component&&Kv(t.tag,t.attrsMap.type,r)?Fm(t,r,o,u[e],h):jm(t,r,o,u[e],h);else if(Qv.test(r))r=r.replace(Qv,""),(h=i_.test(r))&&(r=r.slice(1,-1)),Um(t,r,o,s,!1,0,u[e],h);else{var l=(r=r.replace(t_,"")).match(o_),c=l&&l[1];h=!1,c&&(r=r.slice(0,-(c.length+1)),i_.test(c)&&(c=c.slice(1,-1),h=!0)),Gm(t,r,i,o,c,h,s,u[e])}else jm(t,r,JSON.stringify(o),u[e]),!t.component&&"muted"===r&&Kv(t.tag,t.attrsMap.type,r)&&Fm(t,r,"true",u[e])}(t),t}function m_(t){var e;if(e=Zm(t,"v-for")){var n=function(t){var e=t.match(e_);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(r_,""),i=r.match(n_);return i?(n.alias=r.replace(n_,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}(e);n&&pf(t,n)}}function y_(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function v_(t){var e=t.name.replace(h_,"");return e||"#"!==t.name[0]&&(e="default"),i_.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'.concat(e,'"'),dynamic:!1}}function __(t){var e=t.match(a_);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function b_(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var w_=/^xmlns:NS\d+/,x_=/^NS\d+:/;function M_(t){return d_(t.tag,t.attrsList.slice(),t.parent)}var E_,S_,C_=[xv,Mv,{preTransformNode:function(t,e){if("input"===t.tag){var n=t.attrsMap;if(!n["v-model"])return;var r=void 0;if((n[":type"]||n["v-bind:type"])&&(r=zm(t,"type")),n.type||r||!n["v-bind"]||(r="(".concat(n["v-bind"],").type")),r){var i=Zm(t,"v-if",!0),o=i?"&&(".concat(i,")"):"",s=null!=Zm(t,"v-else",!0),a=Zm(t,"v-else-if",!0),h=M_(t);m_(h),Bm(h,"type","checkbox"),g_(h,e),h.processed=!0,h.if="(".concat(r,")==='checkbox'")+o,y_(h,{exp:h.if,block:h});var u=M_(t);Zm(u,"v-for",!0),Bm(u,"type","radio"),g_(u,e),y_(h,{exp:"(".concat(r,")==='radio'")+o,block:u});var l=M_(t);return Zm(l,"v-for",!0),Bm(l,":type",r),g_(l,e),y_(h,{exp:i,block:l}),s?h.else=!0:a&&(h.elseif=a),h}}}}],I_={expectHTML:!0,modules:C_,directives:{model:function(t,e,n){var r=e.value,i=e.modifiers,o=t.tag,s=t.attrsMap.type;if(t.component)return Wm(t,r,i),!1;if("select"===o)!function(t,e,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(r?"_n(val)":"val","})"),o="var $$selectedVal = ".concat(i,";");Um(t,"change",o="".concat(o," ").concat(Ym(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]")),null,!0)}(t,r,i);else if("input"===o&&"checkbox"===s)!function(t,e,n){var r=n&&n.number,i=zm(t,"value")||"null",o=zm(t,"true-value")||"true",s=zm(t,"false-value")||"false";Fm(t,"checked","Array.isArray(".concat(e,")")+"?_i(".concat(e,",").concat(i,")>-1")+("true"===o?":(".concat(e,")"):":_q(".concat(e,",").concat(o,")"))),Um(t,"change","var $$a=".concat(e,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(o,"):(").concat(s,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(r?"_n("+i+")":i,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(Ym(e,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(Ym(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(Ym(e,"$$c"),"}"),null,!0)}(t,r,i);else if("input"===o&&"radio"===s)!function(t,e,n){var r=n&&n.number,i=zm(t,"value")||"null";i=r?"_n(".concat(i,")"):i,Fm(t,"checked","_q(".concat(e,",").concat(i,")")),Um(t,"change",Ym(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,s=i.number,a=i.trim,h=!o&&"range"!==r,u=o?"change":"range"===r?"__r":"input",l="$event.target.value";a&&(l="$event.target.value.trim()"),s&&(l="_n(".concat(l,")"));var c=Ym(e,l);h&&(c="if($event.target.composing)return;".concat(c)),Fm(t,"value","(".concat(e,")")),Um(t,u,c,null,!0),(a||s)&&Um(t,"blur","$forceUpdate()")}(t,r,i);else if(!Cf.isReservedTag(o))return Wm(t,r,i),!1;return!0},text:function(t,e){e.value&&Fm(t,"textContent","_s(".concat(e.value,")"),e)},html:function(t,e){e.value&&Fm(t,"innerHTML","_s(".concat(e.value,")"),e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:Ev,mustUseProp:Gg,canBeLeftOpenTag:Sv,isReservedTag:tm,getTagNamespace:em,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(C_)},A_=sf((function(t){return Qc("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function P_(t,e){t&&(E_=A_(e.staticKeys||""),S_=e.isReservedTag||yf,O_(t),k_(t,!1))}function O_(t){if(t.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||tf(t.tag)||!S_(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(E_))))}(t),1===t.type){if(!S_(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];O_(r),r.static||(t.static=!1)}if(t.ifConditions)for(e=1,n=t.ifConditions.length;e<n;e++){var i=t.ifConditions[e].block;O_(i),i.static||(t.static=!1)}}}function k_(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)k_(t.children[n],e||!!t.for);if(t.ifConditions)for(n=1,r=t.ifConditions.length;n<r;n++)k_(t.ifConditions[n].block,e)}}var R_=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,L_=/\([^)]*?\);*$/,T_=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,N_={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},D_={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},F_=function(t){return"if(".concat(t,")return null;")},j_={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:F_("$event.target !== $event.currentTarget"),ctrl:F_("!$event.ctrlKey"),shift:F_("!$event.shiftKey"),alt:F_("!$event.altKey"),meta:F_("!$event.metaKey"),left:F_("'button' in $event && $event.button !== 0"),middle:F_("'button' in $event && $event.button !== 1"),right:F_("'button' in $event && $event.button !== 2")};function B_(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var s=G_(t[o]);t[o]&&t[o].dynamic?i+="".concat(o,",").concat(s,","):r+='"'.concat(o,'":').concat(s,",")}return r="{".concat(r.slice(0,-1),"}"),i?n+"_d(".concat(r,",[").concat(i.slice(0,-1),"])"):n+r}function G_(t){if(!t)return"function(){}";if(Array.isArray(t))return"[".concat(t.map((function(t){return G_(t)})).join(","),"]");var e=T_.test(t.value),n=R_.test(t.value),r=T_.test(t.value.replace(L_,""));if(t.modifiers){var i="",o="",s=[],a=function(e){if(j_[e])o+=j_[e],N_[e]&&s.push(e);else if("exact"===e){var n=t.modifiers;o+=F_(["ctrl","shift","alt","meta"].filter((function(t){return!n[t]})).map((function(t){return"$event.".concat(t,"Key")})).join("||"))}else s.push(e)};for(var h in t.modifiers)a(h);s.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+"".concat(t.map(q_).join("&&"),")return null;")}(s)),o&&(i+=o);var u=e?"return ".concat(t.value,".apply(null, arguments)"):n?"return (".concat(t.value,").apply(null, arguments)"):r?"return ".concat(t.value):t.value;return"function($event){".concat(i).concat(u,"}")}return e||n?t.value:"function($event){".concat(r?"return ".concat(t.value):t.value,"}")}function q_(t){var e=parseInt(t,10);if(e)return"$event.keyCode!==".concat(e);var n=N_[t],r=D_[t];return"_k($event.keyCode,"+"".concat(JSON.stringify(t),",")+"".concat(JSON.stringify(n),",")+"$event.key,"+"".concat(JSON.stringify(r))+")"}var U_={on:function(t,e){t.wrapListeners=function(t){return"_g(".concat(t,",").concat(e.value,")")}},bind:function(t,e){t.wrapData=function(n){return"_b(".concat(n,",'").concat(t.tag,"',").concat(e.value,",").concat(e.modifiers&&e.modifiers.prop?"true":"false").concat(e.modifiers&&e.modifiers.sync?",true":"",")")}},cloak:mf},z_=function(t){this.options=t,this.warn=t.warn||Nm,this.transforms=Dm(t.modules,"transformCode"),this.dataGenFns=Dm(t.modules,"genData"),this.directives=pf(pf({},U_),t.directives);var e=t.isReservedTag||yf;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Z_(t,e){var n=new z_(e),r=t?"script"===t.tag?"null":V_(t,n):'_c("div")';return{render:"with(this){return ".concat(r,"}"),staticRenderFns:n.staticRenderFns}}function V_(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return X_(t,e);if(t.once&&!t.onceProcessed)return W_(t,e);if(t.for&&!t.forProcessed)return $_(t,e);if(t.if&&!t.ifProcessed)return Y_(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=tb(t,e),i="_t(".concat(n).concat(r?",function(){return ".concat(r,"}"):""),o=t.attrs||t.dynamicAttrs?rb((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:hf(t.name),value:t.value,dynamic:t.dynamic}}))):null,s=t.attrsMap["v-bind"];return!o&&!s||r||(i+=",null"),o&&(i+=",".concat(o)),s&&(i+="".concat(o?"":",null",",").concat(s)),i+")"}(t,e);var n=void 0;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:tb(e,n,!0);return"_c(".concat(t,",").concat(K_(e,n)).concat(r?",".concat(r):"",")")}(t.component,t,e);else{var r=void 0,i=e.maybeComponent(t);(!t.plain||t.pre&&i)&&(r=K_(t,e));var o=void 0,s=e.options.bindings;i&&s&&!1!==s.__isScriptSetup&&(o=function(t,e){var n=hf(e),r=uf(n),i=function(i){return t[e]===i?e:t[n]===i?n:t[r]===i?r:void 0},o=i("setup-const")||i("setup-reactive-const");if(o)return o;var s=i("setup-let")||i("setup-ref")||i("setup-maybe-ref");return s||void 0}(s,t.tag)),o||(o="'".concat(t.tag,"'"));var a=t.inlineTemplate?null:tb(t,e,!0);n="_c(".concat(o).concat(r?",".concat(r):"").concat(a?",".concat(a):"",")")}for(var h=0;h<e.transforms.length;h++)n=e.transforms[h](t,n);return n}return tb(t,e)||"void 0"}function X_(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return ".concat(V_(t,e),"}")),e.pre=n,"_m(".concat(e.staticRenderFns.length-1).concat(t.staticInFor?",true":"",")")}function W_(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Y_(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o(".concat(V_(t,e),",").concat(e.onceId++,",").concat(n,")"):V_(t,e)}return X_(t,e)}function Y_(t,e,n,r){return t.ifProcessed=!0,H_(t.ifConditions.slice(),e,n,r)}function H_(t,e,n,r){if(!t.length)return r||"_e()";var i=t.shift();return i.exp?"(".concat(i.exp,")?").concat(o(i.block),":").concat(H_(t,e,n,r)):"".concat(o(i.block));function o(t){return n?n(t,e):t.once?W_(t,e):V_(t,e)}}function $_(t,e,n,r){var i=t.for,o=t.alias,s=t.iterator1?",".concat(t.iterator1):"",a=t.iterator2?",".concat(t.iterator2):"";return t.forProcessed=!0,"".concat(r||"_l","((").concat(i,"),")+"function(".concat(o).concat(s).concat(a,"){")+"return ".concat((n||V_)(t,e))+"})"}function K_(t,e){var n="{",r=function(t,e){var n=t.directives;if(n){var r,i,o,s,a="directives:[",h=!1;for(r=0,i=n.length;r<i;r++){o=n[r],s=!0;var u=e.directives[o.name];u&&(s=!!u(t,o,e.warn)),s&&(h=!0,a+='{name:"'.concat(o.name,'",rawName:"').concat(o.rawName,'"').concat(o.value?",value:(".concat(o.value,"),expression:").concat(JSON.stringify(o.value)):"").concat(o.arg?",arg:".concat(o.isDynamicArg?o.arg:'"'.concat(o.arg,'"')):"").concat(o.modifiers?",modifiers:".concat(JSON.stringify(o.modifiers)):"","},"))}return h?a.slice(0,-1)+"]":void 0}}(t,e);r&&(n+=r+","),t.key&&(n+="key:".concat(t.key,",")),t.ref&&(n+="ref:".concat(t.ref,",")),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'.concat(t.tag,'",'));for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:".concat(rb(t.attrs),",")),t.props&&(n+="domProps:".concat(rb(t.props),",")),t.events&&(n+="".concat(B_(t.events,!1),",")),t.nativeEvents&&(n+="".concat(B_(t.nativeEvents,!0),",")),t.slotTarget&&!t.slotScope&&(n+="slot:".concat(t.slotTarget,",")),t.scopedSlots&&(n+="".concat(function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||J_(n)})),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==f_||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var s=Object.keys(e).map((function(t){return Q_(e[t],n)})).join(",");return"scopedSlots:_u([".concat(s,"]").concat(r?",null,true":"").concat(!r&&i?",null,false,".concat(function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(s)):"",")")}(t,t.scopedSlots,e),",")),t.model&&(n+="model:{value:".concat(t.model.value,",callback:").concat(t.model.callback,",expression:").concat(t.model.expression,"},")),t.inlineTemplate){var o=function(t,e){var n=t.children[0];if(n&&1===n.type){var r=Z_(n,e.options);return"inlineTemplate:{render:function(){".concat(r.render,"},staticRenderFns:[").concat(r.staticRenderFns.map((function(t){return"function(){".concat(t,"}")})).join(","),"]}")}}(t,e);o&&(n+="".concat(o,","))}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b(".concat(n,',"').concat(t.tag,'",').concat(rb(t.dynamicAttrs),")")),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function J_(t){return 1===t.type&&("slot"===t.tag||t.children.some(J_))}function Q_(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Y_(t,e,Q_,"null");if(t.for&&!t.forProcessed)return $_(t,e,Q_);var r=t.slotScope===f_?"":String(t.slotScope),i="function(".concat(r,"){")+"return ".concat("template"===t.tag?t.if&&n?"(".concat(t.if,")?").concat(tb(t,e)||"undefined",":undefined"):tb(t,e)||"undefined":V_(t,e),"}"),o=r?"":",proxy:true";return"{key:".concat(t.slotTarget||'"default"',",fn:").concat(i).concat(o,"}")}function tb(t,e,n,r,i){var o=t.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=n?e.maybeComponent(s)?",1":",0":"";return"".concat((r||V_)(s,e)).concat(a)}var h=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(eb(i)||i.ifConditions&&i.ifConditions.some((function(t){return eb(t.block)}))){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||nb;return"[".concat(o.map((function(t){return u(t,e)})).join(","),"]").concat(h?",".concat(h):"")}}function eb(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function nb(t,e){return 1===t.type?V_(t,e):3===t.type&&t.isComment?function(t){return"_e(".concat(JSON.stringify(t.text),")")}(t):"_v(".concat(2===(n=t).type?n.expression:ib(JSON.stringify(n.text)),")");var n}function rb(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=ib(i.value);i.dynamic?n+="".concat(i.name,",").concat(o,","):e+='"'.concat(i.name,'":').concat(o,",")}return e="{".concat(e.slice(0,-1),"}"),n?"_d(".concat(e,",[").concat(n.slice(0,-1),"])"):e}function ib(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function ob(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),mf}}function sb(t){var e=Object.create(null);return function(n,r,i){(r=pf({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var s=t(n,r),a={},h=[];return a.render=ob(s.render,h),a.staticRenderFns=s.staticRenderFns.map((function(t){return ob(t,h)})),e[o]=a}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var ab,hb,ub=(ab=function(t,e){var n=p_(t.trim(),e);!1!==e.optimize&&P_(n,e);var r=Z_(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[];if(n)for(var s in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=pf(Object.create(t.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(r[s]=n[s]);r.warn=function(t,e,n){(n?o:i).push(t)};var a=ab(e.trim(),r);return a.errors=i,a.tips=o,a}return{compile:e,compileToFunctions:sb(e)}}),lb=ub(I_).compileToFunctions;function cb(t){return(hb=hb||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',hb.innerHTML.indexOf("&#10;")>0}var fb=!!Rf&&cb(!1),db=!!Rf&&cb(!0),pb=sf((function(t){var e=im(t);return e&&e.innerHTML})),gb=Og.prototype.$mount;function mb(t){return mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(t)}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _b(t,e,n){return e&&vb(t.prototype,e),n&&vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wb(t,e){return wb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wb(t,e)}function xb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function Mb(t,e){if(e&&("object"===mb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bb(t)}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eb(t)}function Sb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ab(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ib(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Og.prototype.$mount=function(t,e){if((t=t&&im(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=pb(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var i=lb(r,{outputSourceRange:!1,shouldDecodeNewlines:fb,shouldDecodeNewlinesForHref:db,delimiters:n.delimiters,comments:n.comments},this),o=i.render,s=i.staticRenderFns;n.render=o,n.staticRenderFns=s}}return gb.call(this,t,e)},Og.compile=lb;var Pb={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},Ob=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yb(this,t),this.init(e,n)}return _b(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Pb,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,Ab(Ab({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}}]),t}(),kb=new Ob,Rb=function(){function t(){yb(this,t),this.observers={}}return _b(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function Lb(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function Tb(t){return null==t?"":""+t}function Nb(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function Db(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var s=r(o.shift());!t[s]&&n&&(t[s]=new n),t=Object.prototype.hasOwnProperty.call(t,s)?t[s]:{}}return i()?{}:{obj:t,k:r(o.shift())}}function Fb(t,e,n){var r=Db(t,e,Object);r.obj[r.k]=n}function jb(t,e){var n=Db(t,e),r=n.obj,i=n.k;if(r)return r[i]}function Bb(t,e,n){var r=jb(t,n);return void 0!==r?r:jb(e,n)}function Gb(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):Gb(t[r],e[r],n):t[r]=e[r]);return t}function qb(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ub={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function zb(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Ub[t]})):t}var Zb="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Vb=[" ",",","?","!",";"];function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xb(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var s=2,a=r.slice(o,o+s).join(n),h=i[a];void 0===h&&r.length>o+s;)s++,h=i[a=r.slice(o,o+s).join(n)];if(void 0===h)return;if(e.endsWith(a)){if("string"==typeof h)return h;if(a&&"string"==typeof h[a])return h[a]}var u=r.slice(o+s).join(n);return u?Yb(h,u,n):void 0}i=i[r[o]]}return i}}var Hb=function(t){xb(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Eb(e);if(n){var i=Eb(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Mb(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return yb(this,i),e=r.call(this),Zb&&Rb.call(bb(e)),e.data=t||{},e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}return _b(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[t,e];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(s=t.split("."));var a=jb(this.data,s);return a||!o||"string"!=typeof n?a:Yb(this.data&&this.data[t]&&this.data[t][e],n,i)}},{key:"addResource",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[t,e];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(s=t.split("."))[1]),this.addNamespaces(e),Fb(this.data,s,r),i.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=jb(this.data,s)||{};r?Gb(a,n,i):a=Wb(Wb({},a),n),Fb(this.data,s,a),o.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Wb(Wb({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(Rb),$b={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))})),e}};function Kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kb(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qb={},tw=function(t){xb(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Eb(e);if(n){var i=Eb(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Mb(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yb(this,i),e=r.call(this),Zb&&Rb.call(bb(e)),Nb(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,bb(e)),e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=kb.create("translator"),e}return _b(i,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS||[],o=n&&t.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";var r=Vb.filter((function(t){return e.indexOf(t)<0&&n.indexOf(t)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),o=!i.test(t);if(!o){var s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o}(t,n,r));if(o&&!s){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:i};var h=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),t=h.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==mb(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var o=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],e),h=a.key,u=a.namespaces,l=u[u.length-1],c=e.lng||this.language,f=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(f){var d=e.nsSeparator||this.options.nsSeparator;return o?(p.res="".concat(l).concat(d).concat(h),p):"".concat(l).concat(d).concat(h)}return o?(p.res=h,p):h}var p=this.resolve(t,e),g=p&&p.res,m=p&&p.usedKey||h,y=p&&p.exactUsedKey||h,v=Object.prototype.toString.apply(g),_=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,x="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(w&&g&&x&&_.indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,Jb(Jb({},e),{},{ns:u})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=M,p):M}if(s){var E="[object Array]"===v,S=E?[]:{},C=E?y:m;for(var I in g)if(Object.prototype.hasOwnProperty.call(g,I)){var A="".concat(C).concat(s).concat(I);S[I]=this.translate(A,Jb(Jb({},e),{joinArrays:!1,ns:u})),S[I]===A&&(S[I]=g[I])}g=S}}else if(w&&"string"==typeof b&&"[object Array]"===v)(g=g.join(b))&&(g=this.extendTranslation(g,t,e,n));else{var P=!1,O=!1,k=void 0!==e.count&&"string"!=typeof e.count,R=i.hasDefaultValue(e),L=k?this.pluralResolver.getSuffix(c,e.count,e):"",T=e["defaultValue".concat(L)]||e.defaultValue;!this.isValidLookup(g)&&R&&(P=!0,g=T),this.isValidLookup(g)||(O=!0,g=h);var N=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=N&&O?void 0:g,F=R&&T!==g&&this.options.updateMissing;if(O||P||F){if(this.logger.log(F?"updateKey":"missingKey",c,l,h,F?T:g),s){var j=this.resolve(h,Jb(Jb({},e),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[],G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&G&&G[0])for(var q=0;q<G.length;q++)B.push(G[q]);else"all"===this.options.saveMissingTo?B=this.languageUtils.toResolveHierarchy(e.lng||this.language):B.push(e.lng||this.language);var U=function(t,n,i){var o=R&&i!==g?i:D;r.options.missingKeyHandler?r.options.missingKeyHandler(t,l,n,o,F,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,l,n,o,F,e),r.emit("missingKey",t,l,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?B.forEach((function(t){r.pluralResolver.getSuffixes(t,e).forEach((function(n){U([t],h+n,e["defaultValue".concat(n)]||T)}))})):U(B,h,T))}g=this.extendTranslation(g,t,e,p,n),O&&g===h&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(h)),(O||P)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(h,P?g:void 0):this.options.parseMissingKeyHandler(g))}return o?(p.res=g,p):g}},{key:"extendTranslation",value:function(t,e,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,Jb(Jb({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Jb(Jb({},n),{interpolation:Jb(Jb({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof t&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var h=t.match(this.interpolator.nestingRegexp);s=h&&h.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=Jb(Jb({},this.options.interpolation.defaultVariables),u)),t=this.interpolator.interpolate(t,u,n.lng||this.language,n),a){var l=t.match(this.interpolator.nestingRegexp);s<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):o.translate.apply(o,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var c=n.postProcess||this.options.postProcess,f="string"==typeof c?[c]:c;return null!=t&&f&&f.length&&!1!==n.applyPostProcessor&&(t=$b.handle(f,t,e,this.options&&this.options.postProcessPassResolved?Jb({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,i,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!s.isValidLookup(e)){var h=s.extractFromKey(t,a),u=h.key;n=u;var l=h.namespaces;s.options.fallbackNS&&(l=l.concat(s.options.fallbackNS));var c=void 0!==a.count&&"string"!=typeof a.count,f=c&&!a.ordinal&&0===a.count&&s.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);l.forEach((function(t){s.isValidLookup(e)||(o=t,!Qb["".concat(p[0],"-").concat(t)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(Qb["".concat(p[0],"-").concat(t)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(e)){i=n;var o,h=[u];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(h,u,n,t,a);else{var l;c&&(l=s.pluralResolver.getSuffix(n,a.count,a));var p="_zero";if(c&&(h.push(u+l),f&&h.push(u+p)),d){var g="".concat(u).concat(s.options.contextSeparator).concat(a.context);h.push(g),c&&(h.push(g+l),f&&h.push(g+p))}}for(;o=h.pop();)s.isValidLookup(e)||(r=o,e=s.getResource(n,t,o,a))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}]),i}(Rb);function ew(t){return t.charAt(0).toUpperCase()+t.slice(1)}var nw=function(){function t(e){yb(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kb.create("languageUtils")}return _b(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=ew(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=ew(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=ew(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(r))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isSupportedCode(t)?i.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach((function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))})),i}}]),t}(),rw=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],iw={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},ow=["v1","v2","v3"],sw={zero:0,one:1,two:2,few:3,many:4,other:5};function aw(){var t={};return rw.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:iw[e.fc]}}))})),t}var hw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yb(this,t),this.languageUtils=e,this.options=n,this.logger=kb.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=aw()}return _b(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(t,e){return sw[t]-sw[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):r.numbers.map((function(r){return e.getSuffix(t,r,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(e)):this.getSuffixRetroCompatible(r,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var n=this,r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),i=t.numbers[r];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!ow.includes(this.options.compatibilityJSON)}}]),t}();function uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uw(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var cw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yb(this,t),this.logger=kb.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return _b(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:zb,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?qb(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?qb(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?qb(e.nestingPrefix):e.nestingPrefixEscaped||qb("$t("),this.nestingSuffix=e.nestingSuffix?qb(e.nestingSuffix):e.nestingSuffixEscaped||qb(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var i,o,s,a=this,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(t){return t.replace(/\$/g,"$$$$")}var l=function(t){if(t.indexOf(a.formatSeparator)<0){var i=Bb(e,h,t);return a.alwaysFormat?a.format(i,void 0,n,lw(lw(lw({},r),e),{},{interpolationkey:t})):i}var o=t.split(a.formatSeparator),s=o.shift().trim(),u=o.join(a.formatSeparator).trim();return a.format(Bb(e,h,s),u,n,lw(lw(lw({},r),e),{},{interpolationkey:s}))};this.resetRegExp();var c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return u(t)}},{regex:this.regexp,safeValue:function(t){return a.escapeValue?u(a.escape(t)):u(t)}}].forEach((function(e){for(s=0;i=e.regex.exec(t);){var n=i[1].trim();if(void 0===(o=l(n)))if("function"==typeof c){var h=c(t,i,r);o="string"==typeof h?h:""}else if(r&&r.hasOwnProperty(n))o="";else{if(f){o=i[0];continue}a.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(t)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=Tb(o));var u=e.safeValue(o);if(t=t.replace(i[0],u),f?(e.regex.lastIndex+=u.length,e.regex.lastIndex-=i[0].length):e.regex.lastIndex=0,++s>=a.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=lw({},o);function a(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),e&&(s=lw(lw({},e),s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(t);){var h=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=l.shift(),h=l,u=!0}if((r=e(a.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Tb(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),u&&(r=h.reduce((function(t,e){return i.format(t,e,o.lng,lw(lw({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}();function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fw(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var pw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yb(this,t),this.logger=kb.create("formatter"),this.options=e,this.formats={number:function(t,e,n){return new Intl.NumberFormat(e,n).format(t)},currency:function(t,e,n){return new Intl.NumberFormat(e,dw(dw({},n),{},{style:"currency"})).format(t)},datetime:function(t,e,n){return new Intl.DateTimeFormat(e,dw({},n)).format(t)},relativetime:function(t,e,n){return new Intl.RelativeTimeFormat(e,dw({},n)).format(t,n.range||"day")},list:function(t,e,n){return new Intl.ListFormat(e,dw({},n)).format(t)}},this.init(e)}return _b(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=e.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"format",value:function(t,e,n,r){var i=this,o=e.split(this.formatSeparator).reduce((function(t,e){var o=function(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===e&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===e&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(t){if(t){var e=function(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cb(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(":")),r=e[0],i=e.slice(1).join(":");n[r.trim()]||(n[r.trim()]=i.trim()),"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10))}}))}return{formatName:e,formatOptions:n}}(e),s=o.formatName,a=o.formatOptions;if(i.formats[s]){var h=t;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=u.locale||u.lng||r.locale||r.lng||n;h=i.formats[s](t,l,dw(dw(dw({},a),r),u))}catch(t){i.logger.warn(t)}return h}return i.logger.warn("there was no format function for ".concat(s)),t}),t);return o}}]),t}();function gw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gw(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yw=function(t){xb(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Eb(e);if(n){var i=Eb(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Mb(this,t)});function i(t,e,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yb(this,i),o=r.call(this),Zb&&Rb.call(bb(o)),o.backend=t,o.store=e,o.services=n,o.languageUtils=n.languageUtils,o.options=s,o.logger=kb.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,s.backend,s),o}return _b(i,[{key:"queueLoad",value:function(t,e,n,r){var i=this,o={},s={},a={},h={};return t.forEach((function(t){var r=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!n.reload&&i.store.hasResourceBundle(t,e)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?void 0===s[a]&&(s[a]=!0):(i.state[a]=1,r=!1,void 0===s[a]&&(s[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===h[e]&&(h[e]=!0)))})),r||(a[t]=!0)})),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),i=r[0],o=r[1];e&&this.emit("failedLoading",i,o,e),n&&this.store.addResourceBundle(i,o,n),this.state[t]=e?-1:2;var s={};this.queue.forEach((function(n){!function(t,e,n,r){var i=Db(t,e,Object),o=i.obj,s=i.k;o[s]=o[s]||[],o[s].push(n)}(n.loaded,[i],o),function(t,e){delete t.pending[e],t.pendingCount--}(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(t){s[t]||(s[t]={});var e=Object.keys(s[t]);e.length&&e.forEach((function(n){void 0!==e[n]&&(s[t][n]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return t.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:t,ns:e,fcName:n,tried:i,wait:o,callback:s}):(this.readingCalls++,this.backend[n](t,e,(function(a,h){if(a&&h&&i<5)setTimeout((function(){r.read.call(r,t,e,n,i+1,2*o,s)}),o);else{if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s(a,h)}}))):s(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,s){r&&e.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&s&&e.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),e.loaded(t,r,s)}))}},{key:"saveMissing",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,mw(mw({},o),{},{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),i}(Rb);function vw(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===mb(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===mb(t[2])||"object"===mb(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function _w(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bw(Object(n),!0).forEach((function(e){Sb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xw(){}function Mw(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var Ew=function(t){xb(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Eb(e);if(n){var i=Eb(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Mb(this,t)});function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(yb(this,i),t=r.call(this),Zb&&Rb.call(bb(t)),t.options=_w(e),t.services={},t.logger=kb,t.modules={external:[]},Mw(bb(t)),n&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,n),Mb(t,bb(t));setTimeout((function(){t.init(e,n)}),0)}return t}return _b(i,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={}),!e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var r=vw();function i(t){return t?"function"==typeof t?new t:t:null}if(this.options=ww(ww(ww({},r),this.options),_w(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ww(ww({},r.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var o;this.modules.logger?kb.init(i(this.modules.logger),this.options):kb.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=pw);var s=new nw(this.options);this.store=new Hb(this.options.resources,this.options);var a=this.services;a.logger=kb,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new hw(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(a.formatter=i(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new cw(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new yw(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new tw(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,n||(n=xw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&"dev"!==h[0]&&(this.options.lng=h[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var c=Lb(),f=function(){var e=function(e,r){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),c.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xw,r=n,i="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],s=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};if(i)s(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(t){return s(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return s(t)})),this.services.backendConnector.load(o,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),r(t)}))}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=Lb();return t||(t=this.languages),e||(e=this.options.ns),n||(n=xw),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&$b.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=Lb();this.emit("languageChanging",t);var i=function(t){n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.resolvedLanguage=void 0,n.setResolvedLanguage(t)},o=function(o){t||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(t){!function(t,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,s)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(t):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e,n){var r=this,i=function t(e,i){var o;if("object"!==mb(i)){for(var s=arguments.length,a=new Array(s>2?s-2:0),h=2;h<s;h++)a[h-2]=arguments[h];o=r.options.overloadTranslationOptionHandler([e,i].concat(a))}else o=ww({},i);o.lng=o.lng||t.lng,o.lngs=o.lngs||t.lngs,o.ns=o.ns||t.ns;var u=r.options.keySeparator||".",l=n?"".concat(n).concat(u).concat(e):e;return r.t(l,o)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=n,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!(!this.hasResourceBundle(r,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!s(r,t)||i&&!s(o,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=Lb();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=Lb();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter((function(t){return r.indexOf(t)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xw,r=ww(ww(ww({},this.options),e),{isClone:!0}),o=new i(r),s=["store","services","language"];return s.forEach((function(e){o[e]=t[e]})),o.services=ww({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new tw(o.services,o.options),o.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(Rb);Sb(Ew,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Ew(t,e)}));var Sw=Ew.createInstance();Sw.createInstance=Ew.createInstance,Sw.createInstance,Sw.init,Sw.loadResources,Sw.reloadResources,Sw.use,Sw.changeLanguage,Sw.getFixedT,Sw.t,Sw.exists,Sw.setDefaultNamespace,Sw.hasLoadedNamespace,Sw.loadNamespaces,Sw.loadLanguages;const Cw=Sw;function Iw(t){return Iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iw(t)}var Aw=[],Pw=Aw.forEach,Ow=Aw.slice;function kw(t){return Pw.call(Ow.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}function Rw(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Iw(XMLHttpRequest))}var Lw,Tw,Nw,Dw=i(83154),Fw=i.t(Dw,2);function jw(t){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jw(t)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?Lw=global.fetch:"undefined"!=typeof window&&window.fetch&&(Lw=window.fetch)),Rw()&&("undefined"!=typeof global&&global.XMLHttpRequest?Tw=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Tw=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Nw=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Nw=window.ActiveXObject)),Lw||!Fw||Tw||Nw||(Lw=Dw||Fw),"function"!=typeof Lw&&(Lw=void 0);var Bw=function(t,e){if(e&&"object"===jw(e)){var n="";for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r]);if(!n)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+n.slice(1)}return t};const Gw=function(t,e,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Lw?function(t,e,n,r){t.queryStringParams&&(e=Bw(e,t.queryStringParams));var i=kw({},"function"==typeof t.customHeaders?t.customHeaders():t.customHeaders);n&&(i["Content-Type"]="application/json"),Lw(e,kw({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:i},"function"==typeof t.requestOptions?t.requestOptions(n):t.requestOptions)).then((function(t){if(!t.ok)return r(t.statusText||"Error",{status:t.status});t.text().then((function(e){r(null,{status:t.status,data:e})})).catch(r)})).catch(r)}(t,e,n,r):Rw()||"function"==typeof ActiveXObject?function(t,e,n,r){n&&"object"===jw(n)&&(n=Bw("",n).slice(1)),t.queryStringParams&&(e=Bw(e,t.queryStringParams));try{var i;(i=Tw?new Tw:new Nw("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",e,1),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!t.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=t.customHeaders;if(o="function"==typeof o?o():o)for(var s in o)i.setRequestHeader(s,o[s]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(t){console&&console.log(t)}}(t,e,n,r):void 0};function qw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zw=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,e,n){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n||"")},request:Gw,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Zw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qw(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}var e,n;return e=t,n=[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=kw(n,this.options||{},zw()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return e.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(t,e,n){this._readAny(t,t,e,e,n)}},{key:"read",value:function(t,e,n){this._readAny([t],t,[e],e,n)}},{key:"_readAny",value:function(t,e,n,r,i){var o,s=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(t,n)),(a=function(t){return!!t&&"function"==typeof t.then}(o=a)?o:Promise.resolve(o)).then((function(o){if(!o)return i(null,{});var a=s.services.interpolator.interpolate(o,{lng:t.join("+"),ns:n.join("+")});s.loadUrl(a,i,e,r)}))}},{key:"loadUrl",value:function(t,e,n,r){var i=this;this.options.request(this.options,t,void 0,(function(o,s){if(s&&(s.status>=500&&s.status<600||!s.status))return e("failed loading "+t+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return e("failed loading "+t+"; status code: "+s.status,!1);if(!s&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return e("failed loading "+t+": "+o.message,!0);if(o)return e(o,!1);var a,h;try{a="string"==typeof s.data?i.options.parse(s.data,n,r):s.data}catch(e){h="failed parsing "+t+" to json"}if(h)return e(h,!1);e(null,a)}))}},{key:"create",value:function(t,e,n,r,i){var o=this;if(this.options.addPath){"string"==typeof t&&(t=[t]);var s=this.options.parsePayload(e,n,r),a=0,h=[],u=[];t.forEach((function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,e));var l=o.services.interpolator.interpolate(r,{lng:n,ns:e});o.options.request(o.options,l,s,(function(e,n){a+=1,h.push(e),u.push(n),a===t.length&&i&&i(h,u)}))}))}}},{key:"reload",value:function(){var t=this,e=this.services,n=e.backendConnector,r=e.languageUtils,i=e.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var s=[],a=function(t){r.toResolveHierarchy(t).forEach((function(t){s.indexOf(t)<0&&s.push(t)}))};a(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(t){return a(t)})),s.forEach((function(e){t.allOptions.ns.forEach((function(t){n.read(e,t,"read",null,null,(function(r,o){r&&i.warn("loading namespace ".concat(t," for language ").concat(e," failed"),r),!r&&o&&i.log("loaded namespace ".concat(t," for language ").concat(e),o),n.loaded("".concat(e,"|").concat(t),r,o)}))}))}))}}}],n&&Uw(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Zw.type="backend";const Vw=Zw;var Xw=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Ww}(t)}(t)},Ww="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Yw(t,e){return!1!==e.clone&&e.isMergeableObject(t)?$w((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Hw(t,e,n){return t.concat(e).map((function(t){return Yw(t,n)}))}function $w(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Hw,n.isMergeableObject=n.isMergeableObject||Xw;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach((function(e){r[e]=Yw(t[e],n)})),Object.keys(e).forEach((function(i){n.isMergeableObject(e[i])&&t[i]?r[i]=$w(t[i],e[i],n):r[i]=Yw(e[i],n)})),r}(t,e,n):Yw(e,n)}$w.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return $w(t,n,e)}),{})};const Kw=$w;var Jw={name:"i18next",functional:!0,props:{tag:{type:String,default:"span"},path:{type:String,required:!0},options:{type:Object}},render:function(t,e){var n=e.props,r=e.data,i=e.children,o=e.parent,s=o.$i18n,a=o.$t.bind(o);if(!s||!a)return t(n.tag,r,i);var h=n.path,u=n.options||{},l=s.i18next.services.interpolator.regexp,c=[];return a(h,Object.assign({},u,{interpolation:{prefix:"#$?",suffix:"?$#"}})).split(l).reduce((function(t,e,n){var r;if(n%2==0){if(0===e.length)return t;r=e}else{var o=e.trim();isNaN(parseFloat(o))||!isFinite(o)?i.forEach((function(t){!r&&t.data.attrs&&t.data.attrs.place&&t.data.attrs.place===o&&(r=t)})):r=i[parseInt(e,10)]}return t.push(r),t}),c),t(n.tag,r,c)}};function Qw(t){"undefined"!=typeof console&&console.warn(t)}function tx(t){Qw("[vue-i18next warn]: "+t)}function ex(t,e,n){var r=function(t){var e,n,r,i;return"string"==typeof t?n=t:"[object Object]"===toString.call(t)&&(n=(e=t).path,r=e.language,i=e.args),{path:n,language:r,args:i}}(e.value),i=r.path,o=r.language,s=r.args;if(i||o||s)if(i){o&&Qw('[vue-i18next deprecated]: v-t: "language" is deprecated.Use the "lng" property in args.\n      https://www.i18next.com/overview/configuration-options#configuration-options');var a=n.context;t.textContent=a.$i18n.i18next.t(i,Object.assign({},o?{lng:o}:{},s)),t._i18nLanguage=a.$i18n.i18next.language}else tx('v-t: "path" is required');else tx("v-t: invalid value")}var nx,rx={bind:function(t,e,n){(function(t){return!!t.context.$i18n||(tx("No VueI18Next instance found in the Vue instance"),!1)})(n)&&ex(t,e,n)},update:function(t,e,n,r){var i,o;(function(t,e){var n=e.context;return t._i18nLanguage===n.$i18n.i18next.language})(t,n)&&((i=e.value)===(o=e.oldValue)||(i&&o?i.path===o.path&&i.language===o.language&&i.args===o.args:void 0))||ex(t,e,n)}},ix={bind:function(t,e,n){(function(t){return!!t.context.$i18n||(tx("No VueI18Next instance found in the Vue instance"),!1)})(n)&&function(t,e){if(e.context.$i18n.i18next.isInitialized)t.hidden=!1;else{t.hidden=!0;var n=function(){e.context.$forceUpdate(),setTimeout((function(){e.context&&e.context.$i18n&&e.context.$i18n.i18next.off("initialized",n)}),1e3)};e.context.$i18n.i18next.on("initialized",n)}}(t,n)},update:function(t,e,n,r){n.context.$i18n.i18next.isInitialized&&(t.hidden=!1)}},ox=function(t,e){void 0===e&&(e={});var n=Object.assign({},{bindI18n:"languageChanged loaded",bindStore:"added removed",loadComponentNamespace:!1},e);this._vm=null,this.i18next=t,this.options=n,this.onI18nChanged=this.onI18nChanged.bind(this),n.bindI18n&&this.i18next.on(n.bindI18n,this.onI18nChanged),n.bindStore&&this.i18next.store&&this.i18next.store.on(n.bindStore,this.onI18nChanged),this.resetVM({i18nLoadedAt:new Date})},sx={i18nLoadedAt:{configurable:!0}};ox.prototype.resetVM=function(t){var e=this._vm,n=nx.config.silent;nx.config.silent=!0,this._vm=new nx({data:t}),nx.config.silent=n,e&&nx.nextTick((function(){return e.$destroy()}))},sx.i18nLoadedAt.get=function(){return this._vm.$data.i18nLoadedAt},sx.i18nLoadedAt.set=function(t){this._vm.$set(this._vm,"i18nLoadedAt",t)},ox.prototype.t=function(t,e){return this.i18next.t(t,e)},ox.prototype.onI18nChanged=function(){this.i18nLoadedAt=new Date},Object.defineProperties(ox.prototype,sx),ox.install=function t(e){if(!t.installed){t.installed=!0;var n=function(t){var e=t.$options.name||t.$options._componentTag;return e?{namespace:e,loadNamespace:!0}:{namespace:""+Math.random()}};(nx=e).mixin({beforeCreate:function(){var t=this,e=this.$options;e.i18n?this._i18n=e.i18n:e.parent&&e.parent.$i18n&&(this._i18n=e.parent.$i18n);var r={};if(this._i18n){var i=(this._i18n.options.getComponentNamespace||n)(this),o=i.namespace,s=i.loadNamespace;if(e.__i18n&&e.__i18n.forEach((function(t){r=Kw(r,JSON.parse(t))})),e.i18nOptions){var a=this.$options.i18nOptions,h=a.lng;void 0===h&&(h=null);var u=a.keyPrefix;void 0===u&&(u=null);var l=a.messages,c=this.$options.i18nOptions.namespaces;"string"==typeof(c=c||this._i18n.i18next.options.defaultNS)&&(c=[c]);var f=c.concat([o]);l&&(r=Kw(r,l)),this._i18nOptions={lng:h,namespaces:f,keyPrefix:u},this._i18n.i18next.loadNamespaces(c)}else e.parent&&e.parent._i18nOptions?(this._i18nOptions=Object.assign({},e.parent._i18nOptions),this._i18nOptions.namespaces=[o].concat(this._i18nOptions.namespaces)):e.__i18n&&(this._i18nOptions={namespaces:[o]});s&&this._i18n.options.loadComponentNamespace&&this._i18n.i18next.loadNamespaces([o]),Object.keys(r).forEach((function(e){t._i18n.i18next.addResourceBundle(e,o,Object.assign({},r[e]),!0,!1)}))}var d,p,g=(d=this._i18nOptions,p=this._i18n?this._i18n.i18next.options:{},function(t){return d&&d.keyPrefix&&!t.includes(p.nsSeparator)?d.keyPrefix+"."+t:t});if(this._i18nOptions&&this._i18nOptions.namespaces){var m=this._i18nOptions,y=m.lng,v=m.namespaces,_=this._i18n.i18next.getFixedT(y,v);this._getI18nKey=function(e,n){return _(g(e),n,t._i18n.i18nLoadedAt)}}else this._getI18nKey=function(e,n){return t._i18n.t(g(e),n,t._i18n.i18nLoadedAt)}}}),Object.prototype.hasOwnProperty.call(nx.prototype,"$i18n")||Object.defineProperty(nx.prototype,"$i18n",{get:function(){return this._i18n}}),nx.prototype.$t=function(t,e){return this._getI18nKey(t,e)},nx.component(Jw.name,Jw),nx.directive("t",rx),nx.directive("waitForT",ix)}},ox.version="0.15.2","undefined"!=typeof window&&window.Vue&&window.Vue.use(ox);const ax=ox;function hx(){hx=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function d(){}function p(){}var g={};h(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==e&&n.call(y,o)&&(g=y);var v=p.prototype=f.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var h=l(t[r],t,o);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==ux(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=h(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,h(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),h(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(v),h(v,a,"Generator"),h(v,o,(function(){return this})),h(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function ux(t){return ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(t)}function lx(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function cx(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){lx(o,r,i,s,a,"next",t)}function a(t){lx(o,r,i,s,a,"throw",t)}s(void 0)}))}}function fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dx,px=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.asyncReady=cx(hx().mark((function t(){var n;return hx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.baseApi.require("settings");case 2:return e.i18n=Cw.use(Vw),Og.use(ax),t.next=6,window.settings.lang();case 6:return n=t.sent,e.vi18n=new ax(e.i18n),t.next=10,e.i18n.init({lng:n,fallbackLng:"en",backend:{loadPath:"../locales/{{lng}}/{{ns}}.json"}});case 10:e.t=t.sent,e.translate=function(t){if(!t||"object"!=ux(t))return t;var n=Object.keys(t),r=n.reduce((function(e,n){return"en"!==n&&e||(e=t[n]),e}),null);if(r="string"==typeof r?r:"".concat(r),e.i18n.exists(r,{ns:"translation",nsSeparator:"__X__yX__X__"}))return e.t(r,{ns:"translation",nsSeparator:"__X__yX__X__"});for(var i=0;i<n.length;i++){var o=n[i];e.i18n.addResource(o,"translation",r,t[o])}return e.t(r,{ns:"translation",nsSeparator:"__X__yX__X__"})},document.querySelectorAll(".vi18n").forEach((function(t){new Og({el:t,i18n:e.vi18n})}));case 14:case"end":return t.stop()}}),t)})))()}var e,n,r;return e=t,null,n=[{key:"getSingleton",value:(r=cx(hx().mark((function e(){return hx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dx||(dx=new t),e.next=3,dx.asyncReady;case 3:return e.abrupt("return",dx);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],n&&fx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),gx=i(55835),mx=6378137,yx=.0066943799901413165,vx=484813681109536e-20,_x=Math.PI/2,bx=1e-10,wx=.017453292519943295,xx=57.29577951308232,Mx=Math.PI/4,Ex=2*Math.PI,Sx=3.14159265359,Cx={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Ix={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Ax=/[\s_\-\/\(\)]/g;function Px(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(Ax,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(Ax,"")===i)return t[n]}function Ox(t){var e,n,r,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*wx},lat_1:function(t){i.lat1=t*wx},lat_2:function(t){i.lat2=t*wx},lat_ts:function(t){i.lat_ts=t*wx},lon_0:function(t){i.long0=t*wx},lon_1:function(t){i.long1=t*wx},lon_2:function(t){i.long2=t*wx},alpha:function(t){i.alpha=parseFloat(t)*wx},gamma:function(t){i.rectified_grid_angle=parseFloat(t)},lonc:function(t){i.longc=t*wx},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=Px(Ix,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*wx},pm:function(t){var e=Px(Cx,t);i.from_greenwich=(e||parseFloat(t))*wx},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)},approx:function(){i.approx=!0}};for(e in o)n=o[e],e in s?"function"==typeof(r=s[e])?r(n):i[r]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}var kx=/\s/,Rx=/[A-Za-z]/,Lx=/[A-Za-z84_]/,Tx=/[,\]]/,Nx=/[\d\.E\-\+]/;function Dx(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function Fx(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return jx(e,t),t}),r);e&&(t[e]=i)}function jx(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void jx(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var r;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&jx(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&jx(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void Fx(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return jx(t,e[n]);return Fx(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function Bx(t){return.017453292519943295*t}function Gx(t){var e=new Dx(t).output(),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return jx(e,i),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==i[0].indexOf("north")||("y"===i[0]||"lat"===i[0])&&"north"===i[1]?e+="n":-1!==i[0].indexOf("south")||("y"===i[0]||"lat"===i[0])&&"south"===i[1]?e+="s":-1!==i[0].indexOf("east")||("x"===i[0]||"lon"===i[0])&&"east"===i[1]?e+="e":-1===i[0].indexOf("west")&&("x"!==i[0]&&"lon"!==i[0]||"west"!==i[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Bx],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Bx],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",Bx],["lat0","latitude_of_origin",Bx],["lat0","standard_parallel_1",Bx],["lat1","standard_parallel_1",Bx],["lat2","standard_parallel_2",Bx],["azimuth","Azimuth"],["alpha","azimuth",Bx],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=Bx(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i}function qx(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?qx[t]=Ox(arguments[1]):qx[t]=Gx(arguments[1]):qx[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?qx.apply(e,t):qx(t)}));if("string"==typeof t){if(t in qx)return qx[t]}else"EPSG"in t?qx["EPSG:"+t.EPSG]=t:"ESRI"in t?qx["ESRI:"+t.ESRI]=t:"IAU2000"in t?qx["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Dx.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;kx.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},Dx.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(Tx.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},Dx.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Dx.prototype.number=function(t){if(!Nx.test(t)){if(Tx.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},Dx.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},Dx.prototype.keyword=function(t){if(Lx.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!Tx.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},Dx.prototype.neutral=function(t){if(Rx.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(Nx.test(t))return this.word=t,void(this.state=3);if(!Tx.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},Dx.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(qx);const Ux=qx;var zx=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],Zx=["3857","900913","3785","102113"];function Vx(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}function Xx(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Wx(t){return t<0?-1:1}function Yx(t){return Math.abs(t)<=Sx?t:t-Wx(t)*Ex}function Hx(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(_x-e))/r}function $x(t,e){for(var n,r,i=.5*t,o=_x-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=r=_x-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999}function Kx(t){return t}var Jx=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Xx(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*xx>90&&i*xx<-90&&r*xx>180&&r*xx<-180)return null;if(Math.abs(Math.abs(i)-_x)<=bx)return null;if(this.sphere)e=this.x0+this.a*this.k0*Yx(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Mx+.5*i));else{var o=Math.sin(i),s=Hx(this.e,i,o);e=this.x0+this.a*this.k0*Yx(r-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=_x-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=$x(this.e,o)))return null}return e=Yx(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:Kx,inverse:Kx,names:["longlat","identity"]}],Qx={},tM=[];function eM(t,e){var n=tM.length;return t.names?(tM[n]=t,t.names.forEach((function(t){Qx[t.toLowerCase()]=n})),this):(console.log(e),!0)}const nM={start:function(){Jx.forEach(eM)},add:eM,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==Qx[e]&&tM[Qx[e]]?tM[Qx[e]]:void 0}};var rM={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},iM=rM.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};rM.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var oM={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var sM={};function aM(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:sM[t]||null,isNull:!1}}function hM(t){return t/3600*Math.PI/180}function uM(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function lM(t){return t.map((function(t){return[hM(t.longitudeShift),hM(t.latitudeShift)]}))}function cM(t,e,n){return{name:uM(t,e+8,e+16).trim(),parent:uM(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function fM(t,e,n,r){for(var i=e+176,o=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(i+16*s,r),longitudeShift:t.getFloat32(i+16*s+4,r),latitudeAccuracy:t.getFloat32(i+16*s+8,r),longitudeAccuracy:t.getFloat32(i+16*s+12,r)};o.push(a)}return o}function dM(t,e){if(!(this instanceof dM))return new dM(t);e=e||function(t){if(t)throw t};var n=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in Ux}(t))return Ux[t];if(function(t){return zx.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=Gx(t);if(function(t){var e=Px(t,"authority");if(e){var n=Px(e,"epsg");return n&&Zx.indexOf(n)>-1}}(e))return Ux["EPSG:3857"];var n=function(t){var e=Px(t,"extension");if(e)return Px(e,"proj4")}(e);return n?Ox(n):e}return function(t){return"+"===t[0]}(t)?Ox(t):void 0}(t);if("object"==typeof n){var r=dM.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=Px(oM,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=function(t,e,n,r,i){if(!t){var o=Px(rM,r);o||(o=iM),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<bx)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,n,r){var i=t*t,o=e*e,s=(i-o)/i,a=0;return r?(i=(t*=1-s*(.16666666666666666+s*(.04722222222222222+.022156084656084655*s)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(i-o)/o}}(o.a,o.b,o.rf,n.R_A),a=function(t){return void 0===t?null:t.split(",").map(aM)}(n.nadgrids),h=n.datum||function(t,e,n,r,i,o,s){var a={};return a.datum_type=void 0===t||"none"===t?5:4,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=vx,a.datum_params[4]*=vx,a.datum_params[5]*=vx,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=3,a.grids=s),a.a=n,a.b=r,a.es=i,a.ep2=o,a}(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);Vx(this,n),Vx(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=h,this.init(),e(null,this)}else e(t)}else e(t)}dM.projections=nM,dM.projections.start();const pM=dM;function gM(t,e,n){var r,i,o,s,a=t.x,h=t.y,u=t.z?t.z:0;if(h<-_x&&h>-1.001*_x)h=-_x;else if(h>_x&&h<1.001*_x)h=_x;else{if(h<-_x)return{x:-1/0,y:-1/0,z:t.z};if(h>_x)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),i=Math.sin(h),s=Math.cos(h),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+u)*s*Math.cos(a),y:(r+u)*s*Math.sin(a),z:(r*(1-e)+u)*i}}function mM(t,e,n,r){var i,o,s,a,h,u,l,c,f,d,p,g,m,y,v,_=t.x,b=t.y,w=t.z?t.z:0;if(i=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+w*w),i/n<1e-12){if(y=0,o/n<1e-12)return v=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(b,_);s=w/o,c=(a=i/o)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*a*a)),f=s*h,m=0;do{m++,u=e*(l=n/Math.sqrt(1-e*f*f))/(l+(v=i*c+w*f-l*(1-e*f*f))),g=(p=s*(h=1/Math.sqrt(1-u*(2-u)*a*a)))*c-(d=a*(1-u)*h)*f,c=d,f=p}while(g*g>1e-24&&m<30);return{x:y,y:Math.atan(p/Math.abs(d)),z:v}}function yM(t){return 1===t||2===t}function vM(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[],s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.mandatory,null!==a.grid){var h=a.grid.subgrids[0],u=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,l=h.ll[0]-u,c=h.ll[1]-u,f=h.ll[0]+(h.lim[0]-1)*h.del[0]+u,d=h.ll[1]+(h.lim[1]-1)*h.del[1]+u;if(!(c>r.y||l>r.x||d<r.y||f<r.x||(i=_M(r,e,h),isNaN(i.x))))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*xx+" "+r.y*xx+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function _M(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=Yx(i.x-Math.PI)+Math.PI;var o=bM(i,n);if(e){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s,a,h=9;do{if(a=bM(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(a.x+o.x),y:i.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(h--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(h<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Yx(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=t.x+o.x,r.y=t.y+o.y);return r}function bM(t,e){var n,r={x:t.x/e.del[0],y:t.y/e.del[1]},i=Math.floor(r.x),o=Math.floor(r.y),s=r.x-1*i,a=r.y-1*o,h={x:Number.NaN,y:Number.NaN};if(i<0||i>=e.lim[0])return h;if(o<0||o>=e.lim[1])return h;n=o*e.lim[0]+i;var u=e.cvs[n][0],l=e.cvs[n][1];n++;var c=e.cvs[n][0],f=e.cvs[n][1];n+=e.lim[0];var d=e.cvs[n][0],p=e.cvs[n][1];n--;var g=e.cvs[n][0],m=e.cvs[n][1],y=s*a,v=s*(1-a),_=(1-s)*(1-a),b=(1-s)*a;return h.x=_*u+v*c+b*g+y*d,h.y=_*l+v*f+b*m+y*p,h}function wM(t,e,n){var r,i,o,s=n.x,a=n.y,h=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(r=h,i="z"),t.axis[o]){case"e":case"n":u[i]=r;break;case"w":case"s":u[i]=-r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u}function xM(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function MM(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function EM(t,e,n,r){var i;if(Array.isArray(n)&&(n=xM(n)),function(t){MM(t.x),MM(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=EM(t,i=new pM("WGS84"),n,r),t=i),r&&"enu"!==t.axis&&(n=wM(t,!1,n)),"longlat"===t.projName)n={x:n.x*wx,y:n.y*wx,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=function(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var r=t.a,i=t.es;if(3===t.datum_type){if(0!==vM(t,!1,n))return;r=mx,i=yx}var o=e.a,s=e.b,a=e.es;return 3===e.datum_type&&(o=mx,s=6356752.314,a=yx),i!==a||r!==o||yM(t.datum_type)||yM(e.datum_type)?(n=gM(n,i,r),yM(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],h=n[5],u=n[6];return{x:u*(t.x-h*t.y+a*t.z)+r,y:u*(h*t.x+t.y-s*t.z)+i,z:u*(-a*t.x+s*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),yM(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],h=n[5],u=n[6],l=(t.x-r)/u,c=(t.y-i)/u,f=(t.z-o)/u;return{x:l+h*c-a*f,y:-h*l+c+s*f,z:a*l-s*c+f}}}(n,e.datum_type,e.datum_params)),n=mM(n,a,o,s),3!==e.datum_type||0===vM(e,!0,n)?n:void 0):n}(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*xx,y:n.y*xx,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&"enu"!==e.axis?wM(e,!0,n):n}var SM=pM("WGS84");function CM(t,e,n,r){var i,o,s;return Array.isArray(n)?(i=EM(t,e,n,r)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(o=EM(t,e,n,r),2===(s=Object.keys(n)).length||s.forEach((function(r){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;o[r]=n[r]})),o)}function IM(t){return t instanceof pM?t:t.oProj?t.oProj:pM(t)}const AM=function(t,e,n){t=IM(t);var r,i=!1;return void 0===e?(e=t,t=SM,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=SM,i=!0),e=IM(e),n?CM(t,e,n):(r={forward:function(n,r){return CM(t,e,n,r)},inverse:function(n,r){return CM(e,t,n,r)}},i&&(r.oProj=e),r)};var PM="AJSAJS",OM="AFAFAF",kM=65,RM=73,LM=79;const TM={forward:NM,inverse:function(t){var e=BM(qM(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:DM};function NM(t,e){return e=e||5,function(t,e){var n,r,i,o="00000"+t.easting,s="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(n=t.easting,r=t.northing,i=GM(t.zoneNumber),function(t,e,n){var r=n-1,i=PM.charCodeAt(r),o=OM.charCodeAt(r),s=i+t-1,a=o+e,h=!1;return s>90&&(s=s-90+kM-1,h=!0),(s===RM||i<RM&&s>RM||(s>RM||i<RM)&&h)&&s++,(s===LM||i<LM&&s>LM||(s>LM||i<LM)&&h)&&++s===RM&&s++,s>90&&(s=s-90+kM-1),a>86?(a=a-86+kM-1,h=!0):h=!1,(a===RM||o<RM&&a>RM||(a>RM||o<RM)&&h)&&a++,(a===LM||o<LM&&a>LM||(a>LM||o<LM)&&h)&&++a===RM&&a++,a>86&&(a=a-86+kM-1),String.fromCharCode(s)+String.fromCharCode(a)}(Math.floor(n/1e5),Math.floor(r/1e5)%20,i))+o.substr(o.length-5,e)+s.substr(s.length-5,e)}(function(t){var e,n,r,i,o,s,a,h=t.lat,u=t.lon,l=6378137,c=.00669438,f=.9996,d=FM(h),p=FM(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60),h>=56&&h<64&&u>=3&&u<12&&(a=32),h>=72&&h<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37)),s=FM(6*(a-1)-180+3),e=.006739496752268451,n=l/Math.sqrt(1-c*Math.sin(d)*Math.sin(d)),r=Math.tan(d)*Math.tan(d),i=e*Math.cos(d)*Math.cos(d);var g,m,y=f*n*((o=Math.cos(d)*(p-s))+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*e)*o*o*o*o*o/120)+5e5,v=f*(l*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-3.418046101696858e-9*Math.sin(6*d))+n*Math.tan(d)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-2.2240339282485886)*o*o*o*o*o*o/720));return h<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(y),zoneNumber:a,zoneLetter:(g=h,m="Z",84>=g&&g>=72?m="X":72>g&&g>=64?m="W":64>g&&g>=56?m="V":56>g&&g>=48?m="U":48>g&&g>=40?m="T":40>g&&g>=32?m="S":32>g&&g>=24?m="R":24>g&&g>=16?m="Q":16>g&&g>=8?m="P":8>g&&g>=0?m="N":0>g&&g>=-8?m="M":-8>g&&g>=-16?m="L":-16>g&&g>=-24?m="K":-24>g&&g>=-32?m="J":-32>g&&g>=-40?m="H":-40>g&&g>=-48?m="G":-48>g&&g>=-56?m="F":-56>g&&g>=-64?m="E":-64>g&&g>=-72?m="D":-72>g&&g>=-80&&(m="C"),m)}}({lat:t[1],lon:t[0]}),e)}function DM(t){var e=BM(qM(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function FM(t){return t*(Math.PI/180)}function jM(t){return t/Math.PI*180}function BM(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,s,a,h,u,l,c,f,d,p=.9996,g=6378137,m=.00669438,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,_=e;r<"N"&&(_-=1e7),c=6*(i-1)-180+3,o=.006739496752268451,d=(f=_/p/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*f)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*f)+151*y*y*y/96*Math.sin(6*f),s=g/Math.sqrt(1-m*Math.sin(d)*Math.sin(d)),a=Math.tan(d)*Math.tan(d),h=o*Math.cos(d)*Math.cos(d),u=.99330562*g/Math.pow(1-m*Math.sin(d)*Math.sin(d),1.5),l=v/(s*p);var b=d-s*Math.tan(d)/u*(l*l/2-(5+3*a+10*h-4*h*h-9*o)*l*l*l*l/24+(61+90*a+298*h+45*a*a-1.6983531815716497-3*h*h)*l*l*l*l*l*l/720);b=jM(b);var w,x=(l-(1+2*a+h)*l*l*l/6+(5-2*h+28*a-3*h*h+8*o+24*a*a)*l*l*l*l*l/120)/Math.cos(d);if(x=c+jM(x),t.accuracy){var M=BM({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:M.lat,right:M.lon,bottom:b,left:x}}else w={lat:b,lon:x};return w}function GM(t){var e=t%6;return 0===e&&(e=6),e}function qM(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(o,o+=2);for(var h=GM(s),u=function(t,e){for(var n=PM.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(++n===RM&&n++,n===LM&&n++,n>90){if(i)throw"Bad character: "+t;n=kM,i=!0}r+=1e5}return r}(r.charAt(0),h),l=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=OM.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(++n===RM&&n++,n===LM&&n++,n>86){if(i)throw"Bad character: "+t;n=kM,i=!0}r+=1e5}return r}(r.charAt(1),h);l<UM(a);)l+=2e6;var c=n-o;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,p,g=c/2,m=0,y=0;return g>0&&(f=1e5/Math.pow(10,g),d=t.substring(o,o+g),m=parseFloat(d)*f,p=t.substring(o+g),y=parseFloat(p)*f),{easting:m+u,northing:y+l,zoneLetter:a,zoneNumber:s,accuracy:f}}function UM(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function zM(t,e,n){if(!(this instanceof zM))return new zM(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}zM.fromMGRS=function(t){return new zM(DM(t))},zM.prototype.toMGRS=function(t){return NM([this.x,this.y],t)};const ZM=zM;var VM=.046875,XM=.01953125,WM=.01068115234375;function YM(t){var e=[];e[0]=1-t*(.25+t*(VM+t*(XM+t*WM))),e[1]=t*(.75-t*(VM+t*(XM+t*WM)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}function HM(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}function $M(t,e,n){for(var r=1/(1-e),i=t,o=20;o;--o){var s=Math.sin(i),a=1-e*s*s;if(i-=a=(HM(i,s,Math.cos(i),n)-t)*(a*Math.sqrt(a))*r,Math.abs(a)<bx)return i}return i}const KM={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=YM(this.es),this.ml0=HM(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,o=t.y,s=Yx(i-this.long0),a=Math.sin(o),h=Math.cos(o);if(this.es){var u=h*s,l=Math.pow(u,2),c=this.ep2*Math.pow(h,2),f=Math.pow(c,2),d=Math.abs(h)>bx?Math.tan(o):0,p=Math.pow(d,2),g=Math.pow(p,2);e=1-this.es*Math.pow(a,2),u/=Math.sqrt(e);var m=HM(o,a,h,this.en);n=this.a*(this.k0*u*(1+l/6*(1-p+c+l/20*(5-18*p+g+14*c-58*p*c+l/42*(61+179*g-g*p-479*p)))))+this.x0,r=this.a*(this.k0*(m-this.ml0+a*s*u/2*(1+l/12*(5-p+9*c+4*f+l/30*(61+g-58*p+270*c-330*p*c+l/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var y=h*Math.sin(s);if(Math.abs(Math.abs(y)-1)<bx)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,r=h*Math.cos(s)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(r))>=1){if(y-1>bx)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(n=$M(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<_x){var a=Math.sin(n),h=Math.cos(n),u=Math.abs(h)>bx?Math.tan(n):0,l=this.ep2*Math.pow(h,2),c=Math.pow(l,2),f=Math.pow(u,2),d=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var p=o*Math.sqrt(e)/this.k0,g=Math.pow(p,2);r=n-(e*=u)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*l*f+l-4*c-g/30*(61+90*f-252*l*f+45*d+46*l-g/56*(1385+3633*f+4095*d+1574*d*f)))),i=Yx(this.long0+p*(1-g/6*(1+2*f+l-g/20*(5+28*f+24*d+8*l*f+6*l-g/42*(61+662*f+1320*d+720*d*f))))/h)}else r=_x*Wx(s),i=0;else{var m=Math.exp(o/this.k0),y=.5*(m-1/m),v=this.lat0+s/this.k0,_=Math.cos(v);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(y,2))),r=Math.asin(e),s<0&&(r=-r),i=0===y&&0===_?0:Yx(Math.atan2(y,_)+this.long0)}return t.x=i,t.y=r,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function JM(t){var e=Math.exp(t);return(e-1/e)/2}function QM(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function tE(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return e+n*Math.sin(2*e)}function eE(t,e,n){for(var r,i,o=Math.sin(e),s=Math.cos(e),a=JM(n),h=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),u=2*s*h,l=-2*o*a,c=t.length-1,f=t[c],d=0,p=0,g=0;--c>=0;)r=p,i=d,f=u*(p=f)-r-l*(d=g)+t[c],g=l*p-i+u*d;return[(u=o*h)*f-(l=s*a)*g,u*g+l*f]}const nE={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(KM.init.apply(this),this.forward=KM.forward,this.inverse=KM.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=tE(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=Yx(t.x-this.long0),n=t.y;n=tE(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(o*i,QM(r,i*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(QM(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,h,u=eE(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,h=1/0),t.x=a,t.y=h,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=eE(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(JM(r));var s=Math.sin(i),a=Math.cos(i),h=Math.sin(r),u=Math.cos(r);i=Math.atan2(s*u,QM(h,u*a)),e=Yx((r=Math.atan2(h,u*a))+this.long0),n=tE(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},rE={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(Yx(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*wx,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,nE.init.apply(this),this.forward=nE.forward,this.inverse=nE.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function iE(t,e){return Math.pow((1-t)/(1+t),e)}const oE={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Mx)/(Math.pow(Math.tan(.5*this.lat0+Mx),this.C)*iE(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Mx),this.C)*iE(this.e*Math.sin(n),this.ratexp))-_x,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+Mx)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*iE(this.e*Math.sin(t.y),-.5*this.e))-_x,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]},sE={init:function(){oE.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=Yx(t.x-this.long0),oE.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,oE.inverse.apply(this,[t]),t.x=Yx(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},aE={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=bx&&(this.k0=.5*(1+Wx(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=bx&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=bx&&(this.k0=.5*this.cons*Xx(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Hx(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Xx(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-_x,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,s,a=t.x,h=t.y,u=Math.sin(h),l=Math.cos(h),c=Yx(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=bx&&Math.abs(h+this.lat0)<=bx?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*l*Math.cos(c)),t.x=this.a*e*l*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*l*Math.cos(c))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,u,this.e))-_x,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=bx?(o=Hx(this.e,h*this.con,this.con*u),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<bx?(e=2*this.a*this.k0/(1+i*Math.cos(c)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(c))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(c))+this.y0),t.x=e*i*Math.sin(c)+this.x0,t))},inverse:function(t){var e,n,r,i,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=bx?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<bx?this.lat0>0?Yx(this.long0+Math.atan2(t.x,-1*t.y)):Yx(this.long0+Math.atan2(t.x,t.y)):Yx(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=bx){if(s<=bx)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*$x(this.e,r),e=this.con*Yx(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=bx?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=Yx(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*$x(this.e,Math.tan(.5*(_x+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(_x+t))*Math.pow((1-e)/(1+e),.5*n)}},hE={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,h=0,u=o,l=-1e3,c=0;Math.abs(u-l)>1e-7;){if(++c>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),l=u,u=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=a,t.y=u,t},names:["somerc"]};var uE=1e-7;const lE={init:function(){var t,e,n,r,i,o,s,a,h,u,l,c,f,d=0,p=0,g=0,m=0,y=0,v=0,_=0;this.no_off=(f="object"==typeof(c=this).PROJECTION?Object.keys(c.PROJECTION)[0]:c.PROJECTION,"no_uoff"in c||"no_off"in c||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(f)),this.no_rot="no_rot"in this;var b=!1;"alpha"in this&&(b=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),b&&(_=this.alpha),w&&(d=this.rectified_grid_angle*wx),b||w)p=this.longc;else if(g=this.long1,y=this.lat1,m=this.long2,v=this.lat2,Math.abs(y-v)<=uE||(t=Math.abs(y))<=uE||Math.abs(t-_x)<=uE||Math.abs(Math.abs(this.lat0)-_x)<=uE||Math.abs(Math.abs(v)-_x)<=uE)throw new Error;var x=1-this.es;e=Math.sqrt(x),Math.abs(this.lat0)>bx?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*e/t,(i=(r=this.B*e/(n*Math.sqrt(t)))*r-1)<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Hx(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),b||w?(b?(l=Math.asin(Math.sin(_)/r),w||(d=_)):(l=d,_=Math.asin(r*Math.sin(l))),this.lam0=p-Math.asin(.5*(i-1/i)*Math.tan(l))/this.B):(o=Math.pow(Hx(this.e,y,Math.sin(y)),this.B),s=Math.pow(Hx(this.e,v,Math.sin(v)),this.B),i=this.E/o,h=(s-o)/(s+o),u=((u=this.E*this.E)-s*o)/(u+s*o),(t=g-m)<-Math.pi?m-=Ex:t>Math.pi&&(m+=Ex),this.lam0=Yx(.5*(g+m)-Math.atan(u*Math.tan(.5*this.B*(g-m))/h)/this.B),l=Math.atan(2*Math.sin(this.B*Yx(g-this.lam0))/(i-1/i)),d=_=Math.asin(r*Math.sin(l))),this.singam=Math.sin(l),this.cosgam=Math.cos(l),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*l,this.v_pole_n=this.ArB*Math.log(Math.tan(Mx-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Mx+i))},forward:function(t){var e,n,r,i,o,s,a,h,u={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-_x)>bx){if(e=.5*((o=this.E/Math.pow(Hx(this.e,t.y,Math.sin(t.y)),this.B))-(s=1/o)),n=.5*(o+s),i=Math.sin(this.B*t.x),r=(e*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<bx)throw new Error;h=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*t.x),a=Math.abs(s)<uE?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+i*this.singam,s)}else h=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(u.x=a,u.y=h):(a-=this.u_0,u.x=h*this.cosrot+a*this.sinrot,u.y=a*this.cosrot-h*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(t){var e,n,r,i,o,s,a,h={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=.5*((r=Math.exp(-this.BrA*n))-1/r),o=.5*(r+1/r),a=((s=Math.sin(this.BrA*e))*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(a)-1)<bx)h.x=0,h.y=a<0?-_x:_x;else{if(h.y=this.E/Math.sqrt((1+a)/(1-a)),h.y=$x(this.e,Math.pow(h.y,1/this.B)),h.y===1/0)throw new Error;h.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return h.x+=this.lam0,h},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},cE={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<bx)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Xx(this.e,e,n),i=Hx(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Xx(this.e,o,s),h=Hx(this.e,this.lat2,o),u=Hx(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>bx?this.ns=Math.log(r/a)/Math.log(i/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=bx&&(n=Wx(n)*(_x-2e-10));var r,i,o=Math.abs(Math.abs(n)-_x);if(o>bx)r=Hx(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var s=this.ns*Yx(e-this.long0);return t.x=this.k0*(i*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,r,i,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=$x(this.e,r)))return null}else i=-_x;return o=Yx(h/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},fE={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,s,a,h=t.x,u=t.y,l=Yx(h-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-l*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,s,a,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,u+=1}while(0===a&&u<15);return u>=15?null:t},names:["Krovak","krovak"]};function dE(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function pE(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function gE(t){return.375*t*(1+.25*t*(1+.46875*t))}function mE(t){return.05859375*t*t*(1+.75*t)}function yE(t){return t*t*t*(35/3072)}function vE(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function _E(t){return Math.abs(t)<_x?t:t-Wx(t)*Math.PI}function bE(t,e,n,r,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const wE={init:function(){this.sphere||(this.e0=pE(this.es),this.e1=gE(this.es),this.e2=mE(this.es),this.e3=yE(this.es),this.ml0=this.a*dE(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Yx(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=vE(this.a,this.e,o),h=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),l=u*u,c=this.es*s*s/(1-this.es);e=a*u*(1-l*h*(1/6-(8-h+8*c)*l/120)),n=this.a*dE(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*o/s*l*(.5+(5-h+6*c)*l/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var s=bE(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-_x)<=bx)return t.x=this.long0,t.y=_x,i<0&&(t.y*=-1),t;var a=vE(this.a,this.e,Math.sin(s)),h=a*a*a/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),l=r*this.a/a,c=l*l;e=s-a*Math.tan(s)/h*l*l*(.5-(1+3*u)*l*l/24),n=l*(1-c*(u/3+(1+3*u)*u*c/15))/Math.cos(s)}return t.x=Yx(n+this.long0),t.y=_E(e),t},names:["Cassini","Cassini_Soldner","cass"]};function xE(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}const ME={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-_x)<bx?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<bx?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=xE(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,e=t*t,n[0]+=.17222222222222222*e,n[1]=.06388888888888888*e,e*=t,n[0]+=.10257936507936508*e,n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=xE(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,s,a,h,u,l,c=t.x,f=t.y;if(c=Yx(c-this.long0),this.sphere){if(o=Math.sin(f),l=Math.cos(f),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+l*r:1+this.sinph0*o+this.cosph0*l*r)<=bx)return null;e=(n=Math.sqrt(2/n))*l*Math.sin(c),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*l*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<bx)return null;n=Mx-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(c),n*=r}}else{switch(a=0,h=0,u=0,r=Math.cos(c),i=Math.sin(c),o=Math.sin(f),s=xE(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:u=1+this.sinb1*a+this.cosb1*h*r;break;case this.EQUIT:u=1+h*r;break;case this.N_POLE:u=_x+f,s=this.qp-s;break;case this.S_POLE:u=f-_x,s=this.qp+s}if(Math.abs(u)<bx)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*a-this.sinb1*h*r):(u=Math.sqrt(2/(1+h*r)))*a*this.ymf,e=this.xmf*u*h*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(u=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,s,a,h,u,l,c=t.x/this.a,f=t.y/this.a;if(this.sphere){var d,p=0,g=0;if((n=.5*(d=Math.sqrt(c*c+f*f)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=bx?0:Math.asin(f*g/d),c*=g,f=p*d;break;case this.OBLIQ:n=Math.abs(d)<=bx?this.lat0:Math.asin(p*this.sinph0+f*g*this.cosph0/d),c*=g*this.cosph0,f=(p-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:f=-f,n=_x-n;break;case this.S_POLE:n-=_x}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,f):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,f*=this.dd,(s=Math.sqrt(c*c+f*f))<bx)return t.x=this.long0,t.y=this.lat0,t;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),c*=i=Math.sin(i),this.mode===this.OBLIQ?(a=r*this.sinb1+f*i*this.cosb1/s,o=this.qp*a,f=s*this.cosb1*r-f*this.sinb1*i):(a=f*i/s,o=this.qp*a,f=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(o=c*c+f*f))return t.x=this.long0,t.y=this.lat0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(c,f),h=Math.asin(a),u=this.apa,l=h+h,n=h+u[0]*Math.sin(l)+u[1]*Math.sin(l+l)+u[2]*Math.sin(l+l+l)}return t.x=Yx(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function EE(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const SE={init:function(){Math.abs(this.lat1+this.lat2)<bx||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Xx(this.e3,this.sin_po,this.cos_po),this.qs1=xE(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Xx(this.e3,this.sin_po,this.cos_po),this.qs2=xE(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=xE(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>bx?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=xE(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*Yx(e-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=Yx(i/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,s=EE(.5*e);if(t<bx)return s;for(var a=t*t,h=1;h<=25;h++)if(s+=o=.5*(i=1-(r=t*(n=Math.sin(s)))*r)*i/Math.cos(s)*(e/(1-a)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return s;return null}},CE={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,s,a,h=t.x,u=t.y;return r=Yx(h-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=bx?(s=this.x0+1*this.a*n*Math.sin(r)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(s=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),s=EE((r=Math.cos(i))*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=Yx(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},IE={init:function(){this.sphere||(this.k0=Xx(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=Yx(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=xE(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Yx(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*_x:_x;for(var r,i,o,s,a=Math.asin(.5*e),h=0;h<30;h++)if(i=Math.sin(a),o=Math.cos(a),s=t*i,a+=r=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-i/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=Yx(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},AE={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=Yx(e-this.long0),i=_E(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=Yx(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=_E(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},PE={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=pE(this.es),this.e1=gE(this.es),this.e2=mE(this.es),this.e3=yE(this.es),this.ml0=this.a*dE(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,o=t.y,s=Yx(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=bx?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(_E(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=bx)e=this.a*s,n=-1*this.ml0;else{var a=vE(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(r),n=this.a*dE(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,s,a,h,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=bx)e=Yx(r/this.a+this.long0),n=0;else{var l;for(s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,h=s,o=20;o;--o)if(h+=u=-1*(s*(h*(l=Math.tan(h))+1)-h-.5*(h*h+a)*l)/((h-s)/l-1),Math.abs(u)<=bx){n=h;break}e=Yx(this.long0+Math.asin(r*Math.tan(h)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=bx)n=0,e=Yx(this.long0+r/this.a);else{var c,f,d,p,g;for(s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,h=s,o=20;o;--o)if(g=this.e*Math.sin(h),c=Math.sqrt(1-g*g)*Math.tan(h),f=this.a*dE(this.e0,this.e1,this.e2,this.e3,h),d=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=u=(s*(c*(p=f/this.a)+1)-p-.5*c*(p*p+a))/(this.es*Math.sin(2*h)*(p*p+a-2*s*p)/(4*c)+(s-p)*(c*d-2/Math.sin(2*h))-d),Math.abs(u)<=bx){n=h;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Yx(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},OE={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,o=r/vx*1e-5,s=i,a=1,h=0;for(e=1;e<=10;e++)a*=o,h+=this.A[e]*a;var u,l=h,c=s,f=1,d=0,p=0,g=0;for(e=1;e<=6;e++)u=d*l+f*c,f=f*l-d*c,d=u,p=p+this.B_re[e]*f-this.B_im[e]*d,g=g+this.B_im[e]*f+this.B_re[e]*d;return t.x=g*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,o=r-this.x0,s=(i-this.y0)/this.a,a=o/this.a,h=1,u=0,l=0,c=0;for(e=1;e<=6;e++)n=u*s+h*a,h=h*s-u*a,u=n,l=l+this.C_re[e]*h-this.C_im[e]*u,c=c+this.C_im[e]*h+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var d,p=l,g=c,m=s,y=a;for(e=2;e<=6;e++)d=g*l+p*c,p=p*l-g*c,g=d,m+=(e-1)*(this.B_re[e]*p-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*p+this.B_re[e]*g);p=1,g=0;var v=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)d=g*l+p*c,p=p*l-g*c,g=d,v+=e*(this.B_re[e]*p-this.B_im[e]*g),_+=e*(this.B_im[e]*p+this.B_re[e]*g);var b=v*v+_*_;l=(m*v+y*_)/b,c=(y*v-m*_)/b}var w=l,x=c,M=1,E=0;for(e=1;e<=9;e++)M*=w,E+=this.D[e]*M;var S=this.lat0+E*vx*1e5,C=this.long0+x;return t.x=C,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]},kE={init:function(){},forward:function(t){var e=t.x,n=t.y,r=Yx(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Yx(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},RE={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=YM(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Yx(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=20;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<bx)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var h=Math.sin(i),u=Math.cos(i);n=this.a*HM(i,h,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=EE((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=EE(Math.sin(e)/this.n)),n=Yx(n+this.long0),e=_E(e)):(e=$M(t.y/this.a,this.es,this.en),(r=Math.abs(e))<_x?(r=Math.sin(e),n=Yx(this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)))):r-bx<_x&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},LE={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=Yx(e-this.long0),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<bx)break}i/=2,Math.PI/2-Math.abs(n)<bx&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,h=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=a,t.y=h,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=Yx(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]},TE={init:function(){Math.abs(this.lat1+this.lat2)<bx||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=pE(this.es),this.e1=gE(this.es),this.e2=mE(this.es),this.e3=yE(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Xx(this.e,this.sinphi,this.cosphi),this.ml1=dE(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<bx?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Xx(this.e,this.sinphi,this.cosphi),this.ml2=dE(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=dE(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=dE(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*Yx(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=Yx(this.long0+o/this.ns),r=_E(this.g-n/this.a),t.x=i,t.y=r,t):(r=bE(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=Yx(this.long0+o/this.ns),t.x=i,t.y=r,t)},names:["Equidistant_Conic","eqdc"]},NE={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,o=Yx(r-this.long0);Math.abs(i)<=bx&&(e=this.x0+this.R*o,n=this.y0);var s=EE(2*Math.abs(i/Math.PI));(Math.abs(o)<=bx||Math.abs(Math.abs(i)-_x)<=bx)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),h=a*a,u=Math.sin(s),l=Math.cos(s),c=l/(u+l-1),f=c*c,d=c*(2/u-1),p=d*d,g=Math.PI*this.R*(a*(c-p)+Math.sqrt(h*(c-p)*(c-p)-(p+h)*(f-p)))/(p+h);o<0&&(g=-g),e=this.x0+g;var m=h+c;return g=Math.PI*this.R*(d*m-a*Math.sqrt((p+h)*(h+1)-m*m))/(p+h),n=i>=0?this.y0+g:this.y0-g,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,s,a,h,u,l,c,f;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,o=(r=t.x/c)*r+(i=t.y/c)*i,c=3*(i*i/(h=-2*(s=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(a=s-2*i*i+r*r)*a*a/h/h/h-9*s*a/h/h)/27)/(u=(s-a*a/3/h)/h)/(l=2*Math.sqrt(-u/3)),Math.abs(c)>1&&(c=c>=0?1:-1),f=Math.acos(c)/3,n=t.y>=0?(-l*Math.cos(f+Math.PI/3)-a/3/h)*Math.PI:-(-l*Math.cos(f+Math.PI/3)-a/3/h)*Math.PI,e=Math.abs(r)<bx?this.long0:Yx(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},DE={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,s,a,h,u,l,c,f,d,p,g,m,y,v,_,b,w,x,M=t.x,E=t.y,S=Math.sin(t.y),C=Math.cos(t.y),I=Yx(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=bx?(t.x=this.x0+this.a*(_x-E)*Math.sin(I),t.y=this.y0-this.a*(_x-E)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=bx?(t.x=this.x0+this.a*(_x+E)*Math.sin(I),t.y=this.y0+this.a*(_x+E)*Math.cos(I),t):(v=this.sin_p12*S+this.cos_p12*C*Math.cos(I),y=(m=Math.acos(v))?m/Math.sin(m):1,t.x=this.x0+this.a*y*C*Math.sin(I),t.y=this.y0+this.a*y*(this.cos_p12*S-this.sin_p12*C*Math.cos(I)),t):(e=pE(this.es),n=gE(this.es),r=mE(this.es),i=yE(this.es),Math.abs(this.sin_p12-1)<=bx?(o=this.a*dE(e,n,r,i,_x),s=this.a*dE(e,n,r,i,E),t.x=this.x0+(o-s)*Math.sin(I),t.y=this.y0-(o-s)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=bx?(o=this.a*dE(e,n,r,i,_x),s=this.a*dE(e,n,r,i,E),t.x=this.x0+(o+s)*Math.sin(I),t.y=this.y0+(o+s)*Math.cos(I),t):(a=S/C,h=vE(this.a,this.e,this.sin_p12),u=vE(this.a,this.e,S),l=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(u*C)),_=0===(c=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(I)))?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(c)-Math.PI)<=bx?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(I)*Math.cos(l)/Math.sin(c)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),m=h*_*(1-(b=_*_)*(g=(d=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es))*d)*(1-g)/6+(w=b*_)/8*(p=f*d)*(1-2*g)+(x=w*_)/120*(g*(4-7*g)-3*f*f*(1-7*g))-x*_/48*p),t.x=this.x0+m*Math.sin(c),t.y=this.y0+m*Math.cos(c),t))},inverse:function(t){var e,n,r,i,o,s,a,h,u,l,c,f,d,p,g,m,y,v,_,b,w,x,M;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*_x*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=bx?s=this.lat0:(s=EE(i*this.sin_p12+t.y*r*this.cos_p12/e),a=Math.abs(this.lat0)-_x,o=Math.abs(a)<=bx?this.lat0>=0?Yx(this.long0+Math.atan2(t.x,-t.y)):Yx(this.long0-Math.atan2(-t.x,t.y)):Yx(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=s,t}return h=pE(this.es),u=gE(this.es),l=mE(this.es),c=yE(this.es),Math.abs(this.sin_p12-1)<=bx?(s=bE(((f=this.a*dE(h,u,l,c,_x))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,h,u,l,c),o=Yx(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=bx?(f=this.a*dE(h,u,l,c,_x),s=bE(((e=Math.sqrt(t.x*t.x+t.y*t.y))-f)/this.a,h,u,l,c),o=Yx(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),d=vE(this.a,this.e,this.sin_p12),m=Math.cos(g),v=-(y=this.e*this.cos_p12*m)*y/(1-this.es),_=3*this.es*(1-v)*this.sin_p12*this.cos_p12*m/(1-this.es),x=1-v*(w=(b=e/d)-v*(1+v)*Math.pow(b,3)/6-_*(1+3*v)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*m),o=Yx(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(p))),M=Math.sin(p),s=Math.atan2((M-this.es*x*this.sin_p12)*Math.tan(p),M*(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},FE={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,s,a,h=t.x,u=t.y;return r=Yx(h-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=bx)&&(s=1*this.a*n*Math.sin(r),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s,a;return t.x-=this.x0,t.y-=this.y0,n=EE((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=bx?(a=this.lat0,t.x=s,t.y=a,t):(a=EE(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-_x,Math.abs(o)<=bx?(s=this.lat0>=0?Yx(this.long0+Math.atan2(t.x,-t.y)):Yx(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=Yx(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=s,t.y=a,t))},names:["ortho"]};function jE(t,e,n,r){var i;return t<bx?(r.value=1,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Mx?r.value=1:i>Mx&&i<=_x+Mx?(r.value=2,i-=_x):i>_x+Mx||i<=-(_x+Mx)?(r.value=3,i=i>=0?i-Sx:i+Sx):(r.value=4,i+=_x)),i}function BE(t,e){var n=t+e;return n<-Sx?n+=Ex:n>+Sx&&(n-=Ex),n}const GE={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=_x-Mx/2?this.face=5:this.lat0<=-(_x-Mx/2)?this.face=6:Math.abs(this.long0)<=Mx?this.face=1:Math.abs(this.long0)<=_x+Mx?this.face=this.long0>0?2:4:this.face=3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,o,s,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,5===this.face)i=_x-e,n>=Mx&&n<=_x+Mx?(h.value=1,r=n-_x):n>_x+Mx||n<=-(_x+Mx)?(h.value=2,r=n>0?n-Sx:n+Sx):n>-(_x+Mx)&&n<=-Mx?(h.value=3,r=n+_x):(h.value=4,r=n);else if(6===this.face)i=_x+e,n>=Mx&&n<=_x+Mx?(h.value=1,r=-n+_x):n<Mx&&n>=-Mx?(h.value=2,r=-n):n<-Mx&&n>=-(_x+Mx)?(h.value=3,r=-n-_x):(h.value=4,r=n>0?-n+Sx:-n-Sx);else{var u,l,c,f,d,p;2===this.face?n=BE(n,+_x):3===this.face?n=BE(n,+Sx):4===this.face&&(n=BE(n,-_x)),f=Math.sin(e),d=Math.cos(e),p=Math.sin(n),u=d*Math.cos(n),l=d*p,c=f,1===this.face?r=jE(i=Math.acos(u),c,l,h):2===this.face?r=jE(i=Math.acos(l),c,-u,h):3===this.face?r=jE(i=Math.acos(-u),c,-l,h):4===this.face?r=jE(i=Math.acos(-l),c,u,h):(i=r=0,h.value=1)}return s=Math.atan(12/Sx*(r+Math.acos(Math.sin(r)*Math.cos(Mx))-_x)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),2===h.value?s+=_x:3===h.value?s+=Sx:4===h.value&&(s+=1.5*Sx),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,r,i,o,s,a,h,u,l,c,f,d={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=1:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=2,e-=_x):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=3,e=e<0?e+Sx:e-Sx):(p.value=4,e+=_x),u=Sx/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),5===this.face)h=Math.acos(a),d.phi=_x-h,1===p.value?d.lam=s+_x:2===p.value?d.lam=s<0?s+Sx:s-Sx:3===p.value?d.lam=s-_x:d.lam=s;else if(6===this.face)h=Math.acos(a),d.phi=h-_x,1===p.value?d.lam=-s+_x:2===p.value?d.lam=-s:3===p.value?d.lam=-s-_x:d.lam=s<0?-s-Sx:-s+Sx;else{var g,m,y;u=(g=a)*g,m=(u+=(y=u>=1?0:Math.sqrt(1-u)*Math.sin(s))*y)>=1?0:Math.sqrt(1-u),2===p.value?(u=m,m=-y,y=u):3===p.value?(m=-m,y=-y):4===p.value&&(u=m,m=y,y=-u),2===this.face?(u=g,g=-m,m=u):3===this.face?(g=-g,m=-m):4===this.face&&(u=g,g=m,m=-u),d.phi=Math.acos(-y)-_x,d.lam=Math.atan2(m,g),2===this.face?d.lam=BE(d.lam,-_x):3===this.face?d.lam=BE(d.lam,-Sx):4===this.face&&(d.lam=BE(d.lam,+_x))}return 0!==this.es&&(l=d.phi<0?1:0,c=Math.tan(d.phi),f=this.b/Math.sqrt(c*c+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),l&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var qE=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],UE=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],zE=.8487,ZE=1.3523,VE=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const XE={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Yx(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(11.459155902616464*n);r<0?r=0:r>=18&&(r=17);var i={x:VE(qE[r],n=xx*(n-.08726646259971647*r))*e,y:VE(UE[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*zE+this.x0,i.y=i.y*this.a*ZE+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*zE),y:Math.abs(t.y-this.y0)/(this.a*ZE)};if(e.y>=1)e.x/=qE[18][0],e.y=t.y<0?-_x:_x;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(UE[n][0]>e.y)--n;else{if(!(UE[n+1][0]<=e.y))break;++n}var r=UE[n],i=5*(e.y-r[0])/(UE[n+1][0]-r[0]);i=function(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<1e-10)break}return i}((function(t){return(VE(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)}),i,0,100),e.x/=VE(qE[n],i),e.y=(5*n+i)*wx,t.y<0&&(e.y=-e.y)}return e.x=Yx(e.x+this.long0),e},names:["Robinson","robin"]},WE={init:function(){this.name="geocent"},forward:function(t){return gM(t,this.es,this.a)},inverse:function(t){return mM(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var YE={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const HE={init:function(){if(Object.keys(YE).forEach(function(t){if(void 0===this[t])this[t]=YE[t].def;else{if(YE[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);YE[t].num&&(this[t]=parseFloat(this[t]))}YE[t].degrees&&(this[t]=this[t]*wx)}.bind(this)),Math.abs(Math.abs(this.lat0)-_x)<bx?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<bx?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,r,i,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case 3:n=this.sinph0*o+this.cosph0*s*a;break;case 2:n=s*a;break;case 1:n=-o;break;case 0:n=o}switch(e=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case 3:n*=this.cosph0*o-this.sinph0*s*a;break;case 2:n*=o;break;case 0:n*=-s*a;break;case 1:n*=s*a}return i=1/((r=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*i,n=r*i,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,r,i={x:t.x,y:t.y};r=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*r,n=this.pn1*t.y*this.cw*r,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var o=QM(t.x,t.y);if(Math.abs(o)<bx)i.x=0,i.y=t.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case 3:i.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(i.y))*o,t.x*=a*this.cosph0;break;case 2:i.y=Math.asin(t.y*a/o),t.y=s*o,t.x*=a;break;case 0:i.y=Math.asin(s),t.y=-t.y;break;case 1:i.y=-Math.asin(s)}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t},names:["Tilted_Perspective","tpers"]},$E={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,n,r,i,o=t.x,s=t.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/QM(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),r=a*Math.sin(o)*Math.cos(s),i=a*Math.sin(s),(this.radius_g-n)*n-r*r-i*i*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/QM(i,e)),t.y=this.radius_g_1*Math.atan(i/e)):(t.x=this.radius_g_1*Math.atan(r/e),t.y=this.radius_g_1*Math.atan(i/QM(r,e)))}else"sphere"===this.shape&&(e=Math.cos(s),n=Math.cos(o)*e,r=Math.sin(o)*e,i=Math.sin(s),e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/QM(i,e)),t.y=this.radius_g_1*Math.atan(i/e)):(t.x=this.radius_g_1*Math.atan(r/e),t.y=this.radius_g_1*Math.atan(i/QM(r,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,n,r,i,o=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*QM(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*QM(1,s));var h=a/this.radius_p;if(e=s*s+h*h+o*o,(r=(n=2*this.radius_g*o)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-n-Math.sqrt(r))/(2*e),o=this.radius_g+i*o,s*=i,a*=i,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+o*o,(r=(n=2*this.radius_g*o)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-n-Math.sqrt(r))/(2*e),o=this.radius_g+i*o,s*=i,a*=i,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var KE;AM.defaultDatum="WGS84",AM.Proj=pM,AM.WGS84=new AM.Proj("WGS84"),AM.Point=ZM,AM.toPoint=xM,AM.defs=Ux,AM.nadgrid=function(t,e){var n=new DataView(e),r=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),i=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:uM(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,r);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=function(t,e,n){for(var r=[],i=0;i<e.nSubgrids;i++){var o=cM(t,176,n),s=fM(t,176,o,n),a=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),h=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);r.push({ll:[hM(o.lowerLongitude),hM(o.lowerLatitude)],del:[hM(o.longitudeInterval),hM(o.latitudeInterval)],lim:[a,h],count:o.gridNodeCount,cvs:lM(s)})}return r}(n,i,r),s={header:i,subgrids:o};return sM[t]=s,s},AM.transform=EM,AM.mgrs=TM,AM.version="__VERSION__",(KE=AM).Proj.projections.add(KM),KE.Proj.projections.add(nE),KE.Proj.projections.add(rE),KE.Proj.projections.add(sE),KE.Proj.projections.add(aE),KE.Proj.projections.add(hE),KE.Proj.projections.add(lE),KE.Proj.projections.add(cE),KE.Proj.projections.add(fE),KE.Proj.projections.add(wE),KE.Proj.projections.add(ME),KE.Proj.projections.add(SE),KE.Proj.projections.add(CE),KE.Proj.projections.add(IE),KE.Proj.projections.add(AE),KE.Proj.projections.add(PE),KE.Proj.projections.add(OE),KE.Proj.projections.add(kE),KE.Proj.projections.add(RE),KE.Proj.projections.add(LE),KE.Proj.projections.add(TE),KE.Proj.projections.add(NE),KE.Proj.projections.add(DE),KE.Proj.projections.add(FE),KE.Proj.projections.add(GE),KE.Proj.projections.add(XE),KE.Proj.projections.add(WE),KE.Proj.projections.add(HE),KE.Proj.projections.add($E);const JE=AM;function QE(t){return QE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QE(t)}Og.config.debug=!0;var tS=px.getSingleton(),eS={title:"",attr:"",dataAttr:"",strictMode:"strict",vertexMode:"plain",gcps:[],edges:[],sub_maps:[],status:"New",officialTitle:"",author:"",era:"",createdAt:"",license:"All right reserved",dataLicense:"CC BY-SA",contributor:"",mapper:"",reference:"",description:"",url:"",width:void 0,height:void 0,url_:"",lang:"ja",imageExtension:void 0,wmtsHash:void 0,wmtsFolder:"",homePosition:void 0,mercZoom:void 0},nS={ja:"japanese",en:"english",de:"germany",fr:"french",es:"spanish",ko:"korean",zh:"simplified","zh-TW":"traditional"};function rS(t){for(var e=0,n=escape(t),r=0;r<n.length;r++,e++)"%"===n.charAt(r)&&("u"===n.charAt(++r)&&(r+=3,e++),r++);return e}eS.langs=nS;for(var iS=["title","officialTitle","author","era","createdAt","contributor","mapper","attr","dataAttr","description"],oS={},sS=0;sS<iS.length;sS++){var aS=iS[sS];oS[aS]={get:function(t){return function(){return this.localedGet(t)}}(aS),set:function(t){return function(e){return this.localedSet(t,e)}}(aS)}}for(var hS=["currentLang","onlyOne","vueInit","currentEditingLayer","csvUploadUiValue","map","map_"],uS=0;uS<hS.length;uS++){var lS=hS[uS];oS[lS]={get:function(t){return function(){return this.share[t]}}(lS),set:function(t){return function(e){return this.$set(this.share,t,e),e}}(lS)}}for(var cS=["vertexMode","strictMode","status","width","height","url_","imageExtension","mapID","lang","license","dataLicense","reference","url","sub_maps","homePosition","mercZoom"],fS=0;fS<cS.length;fS++){var dS=cS[fS];oS[dS]={get:function(t){return function(){return this.share.map[t]}}(dS),set:function(t){return function(e){return this.$set(this.share.map,t,e),e}}(dS)}}oS.displayTitle=function(){if(null==this.map.title||""===this.map.title)return this.$t("mapmodel.untitled");if("object"!=QE(this.map.title))return this.map.title;var t=this.map.title[this.lang];return null==t||""===t?this.$t("mapmodel.untitled"):t},oS.defaultLangFlag={get:function(){return this.lang===this.currentLang},set:function(t){if(t){for(var e=this.lang,n=this.currentLang,r={},i=0;i<iS.length;i++){var o=iS[i];r[o]=this.localedGetBylocale(e,o)}this.lang=n;for(var s=0;s<iS.length;s++){var a=iS[s];this.localedSetBylocale(e,a,r[a]),this.localedSetBylocale(n,a,this[a])}}}},oS.templateMaps={get:function(){return this.gcps.length>0?this.templateMaps_:[]},set:function(t){this.templateMaps_=t}},oS.imageExtensionCalc=function(){return this.imageExtension?this.imageExtension:this.width&&this.height?"jpg":void 0},oS.gcpsEditReady=function(){return this.width&&this.height&&this.url_||!1},oS.wmtsEditReady=function(){var t=this.share.tinObjects[0];return this.mainLayerHash&&this.wmtsDirty&&t.strict_status===ks.STATUS_STRICT},oS.csvUpError=function(){var t=this.csvUploadUiValue;if(t.pixXColumn===t.pixYColumn||t.pixXColumn===t.lngColumn||t.pixXColumn===t.latColumn||t.pixYColumn===t.lngColumn||t.pixYColumn===t.latColumn||t.lngColumn===t.latColumn)return"column_dup";if("number"!=typeof t.pixXColumn||"number"!=typeof t.pixYColumn||"number"!=typeof t.lngColumn||"number"!=typeof t.latColumn)return"column_null";if("number"!=typeof t.ignoreHeader)return"ignore_header";if(""===t.projText)return"proj_text";try{return JE(t.projText,"EPSG:4326"),!1}catch(t){return"proj_text"}},oS.csvProjTextError=function(){},oS.csvProjPreset={get:function(){var t=this.csvUploadUiValue;return"EPSG:4326"===t.projText?"wgs84":"EPSG:3857"===t.projText?"mercator":"other"},set:function(t){this.csvUploadUiValue.projText="wgs84"===t?"EPSG:4326":"mercator"===t?"EPSG:3857":""}},oS.dirty=function(){return!jc.isDeepEqual(this.map_,this.map)},oS.wmtsDirty=function(){return this.wmtsHash!==this.mainLayerHash},oS.gcps=function(){return 0===this.currentEditingLayer?this.map.gcps:this.map.sub_maps.length>0?this.map.sub_maps[this.currentEditingLayer-1].gcps:void 0},oS.edges=function(){return 0===this.currentEditingLayer?(this.map.edges||this.$set(this.map,"edges",[]),this.map.edges):this.map.sub_maps.length>0?(this.map.sub_maps[this.currentEditingLayer-1].edges||this.$set(this.map.sub_maps[this.currentEditingLayer-1],"edges",[]),this.map.sub_maps[this.currentEditingLayer-1].edges):void 0},oS.tinObject={get:function(){return this.tinObjects[this.currentEditingLayer]},set:function(t){this.tinObjects.splice(this.currentEditingLayer,1,t)}},oS.tinObjects={get:function(){return this.share.tinObjects},set:function(t){this.share.tinObjects=t}},oS.mainLayerHash=function(){var t=this.share.tinObjects[0];if(t&&"string"!=typeof t){var e=gx.createHash("sha1");return e.update(JSON.stringify(t.getCompiled())),e.digest("hex")}},oS.bounds={get:function(){return 0===this.currentEditingLayer?[this.width,this.height]:this.map.sub_maps[this.currentEditingLayer-1].bounds},set:function(t){0!==this.currentEditingLayer&&(this.map.sub_maps[this.currentEditingLayer-1].bounds=t)}},oS.error=function(){var t={};if(null==this.mapID||""===this.mapID?t.mapID="mapedit.error_set_mapid":this.mapID&&!this.mapID.match(/^[\d\w_-]+$/)?t.mapID="mapedit.error_mapid_character":this.onlyOne||(t.mapIDOnlyOne="mapedit.check_uniqueness"),null==this.map.title||""===this.map.title)t.title=this.$t("mapmodel.no_title");else if("object"!=QE(this.map.title))rS(this.map.title)>30&&(t.title=this.$t("mapmodel.over_title",{lang:this.$t("common.".concat(this.langs[this.lang]))}));else for(var e=Object.keys(this.langs),n=0;n<e.length;n++)this.map.title[e[n]]&&rS(this.map.title[e[n]])>30&&(t.title=this.$t("mapmodel.over_title",{lang:this.$t("common.".concat(this.langs[e[n]]))}));return null!=this.map.attr&&""!==this.map.attr||(t.attr=this.$t("mapmodel.image_copyright")),this.blockingGcpsError&&(t.blockingGcpsError="blockingGcpsError"),Object.keys(t).length>0?t:null},oS.blockingGcpsError=function(){return this.tinObjects.reduce((function(t,e){return"tooLinear"===e||"pointsOutside"===e||t}),!1)},oS.errorStatus=function(){var t=this.tinObject;if(t)return"string"==typeof t?this.tinObject:t.strict_status?t.strict_status:void 0},oS.errorNumber=function(){return"strict_error"===this.errorStatus?this.tinObject.kinks.bakw.features.length:0},oS.importanceSortedSubMaps=function(){var t=Object.assign([],this.sub_maps);return t.push(0),t.sort((function(t,e){return(0===t?0:t.importance)<(0===e?0:e.importance)?1:-1}))},oS.prioritySortedSubMaps=function(){return Object.assign([],this.sub_maps).sort((function(t,e){return t.priority<e.priority?1:-1}))},oS.canUpImportance=function(){var t=this.importanceSortedSubMaps[0],e=0===t?0:t.importance;return this.importance!==e},oS.canDownImportance=function(){var t=this.importanceSortedSubMaps[this.importanceSortedSubMaps.length-1],e=0===t?0:t.importance;return this.importance!==e},oS.canUpPriority=function(){if(0===this.currentEditingLayer)return!1;var t=this.prioritySortedSubMaps[0].priority;return this.priority!==t},oS.canDownPriority=function(){if(0===this.currentEditingLayer)return!1;var t=this.prioritySortedSubMaps[this.prioritySortedSubMaps.length-1].priority;return this.priority!==t},oS.importance=function(){return 0===this.currentEditingLayer?0:this.sub_maps[this.currentEditingLayer-1].importance},oS.priority=function(){return 0===this.currentEditingLayer?0:this.sub_maps[this.currentEditingLayer-1].priority},oS.editingID={get:function(){return this.newGcp&&(this.editingID_=""),this.newGcp?this.newGcp[2]:this.editingID_},set:function(t){this.newGcp?this.editingID_="":this.editingID_=t}},oS.editingX={get:function(){return this.newGcp?this.newGcp[0]?this.newGcp[0][0]:"":""===this.editingID?"":this.gcps[this.editingID-1][0][0]},set:function(t){this.newGcp&&this.newGcp[0]?(this.newGcp.splice(0,1,[t,this.editingY]),this.$emit("setXY")):this.newGcp||""===this.editingID||(this.gcps[this.editingID-1].splice(0,1,[t,this.editingY]),this.$emit("setXY"))}},oS.editingY={get:function(){return this.newGcp?this.newGcp[0]?this.newGcp[0][1]:"":""===this.editingID?"":this.gcps[this.editingID-1][0][1]},set:function(t){this.newGcp&&this.newGcp[0]?(this.newGcp.splice(0,1,[this.editingX,t]),this.$emit("setXY")):this.newGcp||""===this.editingID||(this.gcps[this.editingID-1].splice(0,1,[this.editingX,t]),this.$emit("setXY"))}},oS.editingLongLat={get:function(){var t=this.newGcp?this.newGcp[1]?this.newGcp[1]:"":""===this.editingID?"":this.gcps[this.editingID-1][1];return""===t?"":(0,e.transform)(t,"EPSG:3857","EPSG:4326")},set:function(t){var n=(0,e.transform)(t,"EPSG:4326","EPSG:3857");this.newGcp&&this.newGcp[1]?(this.newGcp.splice(1,1,n),this.$emit("setLongLat")):this.newGcp||""===this.editingID||(this.gcps[this.editingID-1].splice(1,1,n),this.$emit("setLongLat"))}},oS.editingLong={get:function(){return""===this.editingLongLat?"":this.editingLongLat[0]},set:function(t){this.editingLongLat=[t,this.editingLat]}},oS.editingLat={get:function(){return""===this.editingLongLat?"":this.editingLongLat[1]},set:function(t){this.editingLongLat=[this.editingLong,t]}},oS.enableSetHomeIllst=function(){return("strict"===this.errorStatus||"loose"===this.errorStatus)&&!this.homePosition},oS.enableSetHomeMerc=function(){return!this.homePosition};var pS=Og.extend({i18n:tS.vi18n,data:function(){return{share:{map:jc.deepClone(eS),map_:jc.deepClone(eS),currentLang:"ja",onlyOne:!1,vueInit:!1,currentEditingLayer:0,csvUploadUiValue:{pixXColumn:1,pixYColumn:2,lngColumn:3,latColumn:4,ignoreHeader:0,reverseMapY:!1,projText:"EPSG:4326"},csvProjPreset:"wgs84",tinObjects:[]},langs:nS,editingID_:"",newGcp:void 0,mappingUIRow:"layer",templateMaps_:[]}},methods:{_updateWholeGcps:function(t){0===this.currentEditingLayer?(this.map.gcps=t,this.$set(this.map,"edges",[])):this.map.sub_maps.length>0&&(this.map.sub_maps[this.currentEditingLayer-1].gcps=t,this.$set(this.map.sub_maps[this.currentEditingLayer-1],"edges",[]))},csvQgisSetting:function(){this.csvUploadUiValue=Object.assign(this.csvUploadUiValue,{pixXColumn:1,pixYColumn:2,lngColumn:3,latColumn:4,ignoreHeader:2,reverseMapY:!0})},setCurrentAsDefault:function(){this.map_=jc.deepClone(this.map)},setInitialMap:function(t){var e=jc.deepClone(eS);Object.assign(e,t),this.map=e,this.map_=jc.deepClone(e),this.currentLang=this.lang,this.onlyOne=!0},localedGetBylocale:function(t,e){var n=this.lang,r=this.map[e];return"object"!=QE(r)?n===t?r:"":null!=r[t]?r[t]:""},localedGet:function(t){return this.localedGetBylocale(this.currentLang,t)},localedSetBylocale:function(t,e,n){var r=this.lang,i=this.map[e];if(null==n&&(n=""),"object"!=QE(i)){if(r===t)i=n;else if(""!==n){var o={};o[r]=i,o[t]=n,i=o}}else if(""===n&&r!==t){delete i[t];var s=Object.keys(i);0===s.length?i="":1===s.length&&s[0]===r&&(i=i[r])}else i[t]=n;this.$set(this.map,e,i)},localedSet:function(t,e){this.localedSetBylocale(this.currentLang,t,e)},addSubMap:function(){this.sub_maps.push({gcps:[],edges:[],priority:this.sub_maps.length+1,importance:this.sub_maps.length+1,bounds:[[0,0],[this.width,0],[this.width,this.height],[0,this.height]]}),this.tinObjects.push(""),this.currentEditingLayer=this.sub_maps.length,this.normalizeImportance(this.importanceSortedSubMaps),this.normalizePriority(this.prioritySortedSubMaps)},removeSubMap:function(){if(0!==this.currentEditingLayer){var t=this.currentEditingLayer-1;this.currentEditingLayer=0,this.sub_maps.splice(t,1),this.tinObjects.splice(t+1,1),this.normalizeImportance(this.importanceSortedSubMaps),this.normalizePriority(this.prioritySortedSubMaps)}},normalizeImportance:function(t){var e=t.indexOf(0);t.map((function(t,n){n!==e&&(t.importance=e-n)}))},normalizePriority:function(t){t.map((function(e,n){e.priority=t.length-n}))},upImportance:function(){if(this.canUpImportance){var t=this.importanceSortedSubMaps,e=0===this.currentEditingLayer?0:this.sub_maps[this.currentEditingLayer-1],n=t.indexOf(e);t.splice(n-1,2,t[n],t[n-1]),this.normalizeImportance(t)}},downImportance:function(){if(this.canDownImportance){var t=this.importanceSortedSubMaps,e=0===this.currentEditingLayer?0:this.sub_maps[this.currentEditingLayer-1],n=t.indexOf(e);t.splice(n,2,t[n+1],t[n]),this.normalizeImportance(t)}},upPriority:function(){if(this.canUpPriority){var t=this.prioritySortedSubMaps,e=t.indexOf(this.sub_maps[this.currentEditingLayer-1]);t.splice(e-1,2,t[e],t[e-1]),this.normalizePriority(t)}},downPriority:function(){if(this.canDownPriority){var t=this.prioritySortedSubMaps,e=t.indexOf(this.sub_maps[this.currentEditingLayer-1]);t.splice(e,2,t[e+1],t[e]),this.normalizePriority(t)}}},computed:oS});const gS=pS;var mS="ol-ctx-menu";const yS={namespace:mS,container:"".concat(mS,"-container"),separator:"".concat(mS,"-separator"),submenu:"".concat(mS,"-submenu"),hidden:"".concat(mS,"-hidden"),icon:"".concat(mS,"-icon"),zoomIn:"".concat(mS,"-zoom-in"),zoomOut:"".concat(mS,"-zoom-out"),unselectable:"ol-unselectable"};var vS=yS,_S="contextmenu",bS={width:150,scrollAt:4,eventType:_S,defaultItems:!0},wS=[{text:"Zoom In",classname:"".concat(yS.zoomIn," ").concat(yS.icon),callback:function(t,e){var n=e.getView();n.animate({zoom:+n.getZoom()+1,duration:700,center:t.coordinate})}},{text:"Zoom Out",classname:"".concat(yS.zoomOut," ").concat(yS.icon),callback:function(t,e){var n=e.getView();n.animate({zoom:+n.getZoom()-1,duration:700,center:t.coordinate})}}],xS=i(88775);function MS(t,e){var n={};for(var r in t)n[r]=t[r];for(var i in e)n[i]=e[i];return n}function ES(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!t){if("undefined"!=typeof Error)throw new Error(e);throw e}}function SS(t){return/^\d+$/.test(t)}function CS(t,e,n){if(Array.isArray(t))t.forEach((function(t){return CS(t,e)}));else for(var r=Array.isArray(e)?e:e.split(/\s+/),i=r.length;i--;)AS(t,r[i])||LS(t,r[i],n)}function IS(t,e,n){if(Array.isArray(t))t.forEach((function(t){return IS(t,e,n)}));else for(var r=Array.isArray(e)?e:e.split(/\s+/),i=r.length;i--;)AS(t,r[i])&&TS(t,r[i],n)}function AS(t,e){return t.classList?t.classList.contains(e):RS(e).test(t.className)}function PS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=arguments.length>2?arguments[2]:void 0,r=/^(#?[\w-]+|\.[\w-.]+)$/,i=/\./g,o=Array.prototype.slice,s=[];if(r.test(t))switch(t[0]){case"#":s=[OS(t.substr(1))];break;case".":s=o.call(e.getElementsByClassName(t.substr(1).replace(i," ")));break;default:s=o.call(e.getElementsByTagName(t))}else s=o.call(e.querySelectorAll(t));return n?s:s[0]}function OS(t){return t="#"===t[0]?t.substr(1,t.length):t,document.getElementById(t)}function kS(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e}function RS(t){return new RegExp("(^|\\s+) ".concat(t," (\\s+|$)"))}function LS(t,e,n){t.classList?t.classList.add(e):t.className="".concat(t.className," ").concat(e).trim(),n&&SS(n)&&window.setTimeout((function(){return TS(t,e)}),n)}function TS(t,e,n){t.classList?t.classList.remove(e):t.className=t.className.replace(RS(e)," ").trim(),n&&SS(n)&&window.setTimeout((function(){return LS(t,e)}),n)}function NS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}i(73210),i(3843),i(5212),i(26541);var DS=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Base=e,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:"".concat(e.options.width-15,"px"),lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this}var e,n;return e=t,n=[{key:"init",value:function(t){this.map=t,this.viewport=t.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()}},{key:"getItemsLength",value:function(){var t=this,e=0;return Object.keys(this.items).forEach((function(n){t.items[n].submenu||t.items[n].separator||e++})),e}},{key:"getPixelClicked",value:function(){return this.pixelClicked}},{key:"getCoordinateClicked",value:function(){return this.coordinateClicked}},{key:"positionContainer",value:function(t){var e=this,n=this.Base.container,r=this.map.getSize(),i=r[1]-t[1],o=r[0]-t[0],s={w:n.offsetWidth,h:Math.round(this.lineHeight*this.getItemsLength())},a=PS("li.".concat(vS.submenu,">div"),n,!0);o>=s.w?(n.style.right="auto",n.style.left="".concat(t[0]+5,"px")):(n.style.left="auto",n.style.right="15px"),i>=s.h?(n.style.bottom="auto",n.style.top="".concat(t[1]-10,"px")):(n.style.top="auto",n.style.bottom=0),IS(n,vS.hidden),a.length&&(this.submenu.lastLeft=o<2*s.w?"-".concat(s.w,"px"):this.submenu.left,a.forEach((function(t){window.innerWidth||document.documentElement.clientWidth;var n,r,o,s=window.innerHeight||document.documentElement.clientHeight,a=(r=(n=t).getBoundingClientRect(),o=document.documentElement,{left:r.left+window.pageXOffset-o.clientLeft,top:r.top+window.pageYOffset-o.clientTop,width:n.offsetWidth,height:n.offsetHeight}),h=a.height,u=i-h;u<0&&(u=h-(s-a.top),t.style.top="-".concat(u,"px")),t.style.left=e.submenu.lastLeft})))}},{key:"openMenu",value:function(t,e){this.Base.dispatchEvent({type:"open",pixel:t,coordinate:e}),this.opened=!0,this.positionContainer(t)}},{key:"closeMenu",value:function(){this.opened=!1,CS(this.Base.container,vS.hidden),this.Base.dispatchEvent({type:"close"})}},{key:"setListeners",value:function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)}},{key:"removeListeners",value:function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)}},{key:"handleEvent",value:function(t){var e=this,n=this;this.coordinateClicked=this.map.getEventCoordinate(t),this.pixelClicked=this.map.getEventPixel(t),this.Base.dispatchEvent({type:"beforeopen",pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===_S&&(t.stopPropagation(),t.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),t.target.addEventListener("pointerdown",{handleEvent:function(r){n.opened&&(n.closeMenu(),r.stopPropagation(),t.target.removeEventListener(r.type,e,!1))}},!1))}},{key:"handleMapMoveEvent",value:function(t){this.closeMenu()}},{key:"setItemListener",value:function(t,e){var n,r=this;t&&"function"==typeof this.items[e].callback&&(n=this.items[e].callback,t.addEventListener("click",(function(t){t.preventDefault();var i={coordinate:r.getCoordinateClicked(),data:r.items[e].data||null};r.closeMenu(),n(i,r.map)}),!1))}}],n&&NS(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function FS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jS=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Base=e,this.container=this.Base.container,this}var e,n;return e=t,n=[{key:"createMenu",value:function(){var t=[];if("items"in this.Base.options?t=this.Base.options.defaultItems?this.Base.options.items.concat(wS):this.Base.options.items:this.Base.options.defaultItems&&(t=wS),0===t.length)return!1;t.forEach(this.addMenuEntry,this)}},{key:"addMenuEntry",value:function(t){var e=this;if(t.items&&Array.isArray(t.items)){t.classname=t.classname||"",function(t,e){return!!~e.indexOf(t)}(vS.submenu,t.classname)||(t.classname=t.classname.length?" ".concat(vS.submenu):vS.submenu);var n=this.generateHtmlAndPublish(this.container,t),r=XS(!1,this.Base.options.width);r.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,n.appendChild(r),t.items.forEach((function(t){e.generateHtmlAndPublish(r,t,!0)}))}else this.generateHtmlAndPublish(this.container,t)}},{key:"generateHtmlAndPublish",value:function(t,e,n){var r,i,o="_".concat(Math.random().toString(36).substr(2,9)),s=!1;return"string"==typeof e&&"-"===e.trim()?(r=kS('<li id="'.concat(o,'" class="').concat(vS.separator,'"><hr></li>')),i=[].slice.call(r.childNodes,0)[0],t.firstChild.appendChild(r),s=!0):(e.classname=e.classname||"",r=kS("<span>".concat(e.text,"</span>")),i=document.createElement("li"),e.icon&&(""===e.classname?e.classname=vS.icon:-1===e.classname.indexOf(vS.icon)&&(e.classname+=" ".concat(vS.icon)),i.setAttribute("style","background-image:url(".concat(e.icon,")"))),i.id=o,i.className=e.classname,i.appendChild(r),t.firstChild.appendChild(i)),this.Base.Internal.items[o]={id:o,submenu:n||0,separator:s,callback:e.callback,data:e.data||null},this.Base.Internal.setItemListener(i,o),i}},{key:"removeMenuEntry",value:function(t){var e=PS("#".concat(t),this.container.firstChild);e&&this.container.firstChild.removeChild(e),delete this.Base.Internal.items[t]}},{key:"cloneAndGetLineHeight",value:function(){var t=this.container.cloneNode(),e=kS("<span>Foo</span>"),n=kS("<span>Foo</span>"),r=document.createElement("li"),i=document.createElement("li");r.appendChild(e),i.appendChild(n),t.appendChild(r),t.appendChild(i),this.container.parentNode.appendChild(t);var o=t.offsetHeight/2;return this.container.parentNode.removeChild(t),o}}],n&&FS(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function BS(t){return BS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BS(t)}function GS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function US(t,e){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},US(t,e)}function zS(t,e){if(e&&("object"===BS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ZS(t)}function ZS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VS(t){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VS(t)}var XS=function(t,e){var n=document.createElement("div"),r=document.createElement("ul"),i=[vS.container,vS.unselectable];return t&&i.push(vS.hidden),n.className=i.join(" "),n.style.width="".concat(parseInt(e,10),"px"),n.appendChild(r),n},WS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=VS(r);if(i){var n=VS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zS(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};GS(this,s),ES("object"==BS(e),"@param `opt_options` should be object type!");var n=MS(bS,e),r=XS(!0,n.width);return(t=o.call(this,{element:r})).options=n,t.container=r,t.disabled=!1,t.Internal=new DS(ZS(t)),t.Html=new jS(ZS(t)),t}return e=s,n=[{key:"clear",value:function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)}},{key:"close",value:function(){this.Internal.closeMenu()}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"getDefaultItems",value:function(){return wS}},{key:"countItems",value:function(){return Object.keys(this.Internal.items).length}},{key:"extend",value:function(t){ES(Array.isArray(t),"@param `arr` should be an Array."),t.forEach(this.push,this)}},{key:"isOpen",value:function(){return this.Internal.opened}},{key:"updatePosition",value:function(t){ES(Array.isArray(t),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(t)}},{key:"pop",value:function(){var t=Object.keys(this.Internal.items);this.Html.removeMenuEntry(t[t.length-1])}},{key:"push",value:function(t){ES(null!=t,"@param `item` must be informed."),this.Html.addMenuEntry(t)}},{key:"shift",value:function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])}},{key:"setMap",value:function(t){xS.default.prototype.setMap.call(this,t),t?this.Internal.init(t,this):this.Internal.removeListeners()}}],n&&qS(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(xS.default),YS=i(3965),HS=i.n(YS),$S=i(66421),KS=i.n($S),JS=i(78714),QS=i(42071),tC=i(81090);const eC={SINGLECLICK:"singleclick",CLICK:lr.Z.CLICK,DBLCLICK:lr.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var nC=i(60188),rC=i(72971);const iC="active";class oC extends rC.Z{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(iC)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(iC,t)}setMap(t){this.map_=t}}function sC(t,e,n,r){const i=t.getZoom();if(void 0===i)return;const o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:dr.Vv})}const aC=oC;function hC(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}const uC=class extends aC{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==eC.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==eC.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==eC.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==eC.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};var lC=i(39781),cC=i(22796),fC=i(33661),dC=i(71800),pC=i(36885),gC=i(40177);function mC(t){const e=arguments;return function(t){let n=!0;for(let r=0,i=e.length;r<i&&(n=n&&e[r](t),n);++r);return n}}const yC=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},vC=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_C=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},bC=pC.uX,wC=function(t){const e=t.originalEvent;return 0==e.button&&!(gC.G$&&gC.tK&&e.ctrlKey)},xC=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},MC=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},EC=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},SC=function(t){const e=t.originalEvent;return(0,Ar.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},CC=function(t){const e=t.originalEvent;return(0,Ar.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button};var IC=i(91900),AC=i(47539),PC=i(93083);const OC=[0,0,0,0],kC=[],RC="modifyend";class LC extends Lr.ZP{constructor(t,e,n){super(t),this.features=e,this.mapBrowserEvent=n}}function TC(t,e){return t.index-e.index}function NC(t,n,r){const i=n.geometry;if("Circle"===i.getType()){let o=i;if(1===n.index){const n=(0,e.getUserProjection)();n&&(o=o.clone().transform(n,r));const i=(0,IC.bI)(o.getCenter(),(0,e.fromUserCoordinate)(t,r)),s=Math.sqrt(i)-o.getRadius();return s*s}}const o=(0,e.fromUserCoordinate)(t,r);return kC[0]=(0,e.fromUserCoordinate)(n.segment[0],r),kC[1]=(0,e.fromUserCoordinate)(n.segment[1],r),(0,IC.Bs)(o,kC)}function DC(t,n,r){const i=n.geometry;if("Circle"===i.getType()&&1===n.index){let n=i;const o=(0,e.getUserProjection)();return o&&(n=n.clone().transform(o,r)),(0,e.toUserCoordinate)(n.getClosestPoint((0,e.fromUserCoordinate)(t,r)),r)}const o=(0,e.fromUserCoordinate)(t,r);return kC[0]=(0,e.fromUserCoordinate)(n.segment[0],r),kC[1]=(0,e.fromUserCoordinate)(n.segment[1],r),(0,e.toUserCoordinate)((0,IC.oL)(o,kC),r)}function FC(){const t=(0,AC.createEditingStyle)();return function(e,n){return t.Point}}const jC=class extends uC{constructor(t){let e;if(super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:CC,this.defaultDeleteCondition_=function(t){return yC(t)&&function(t){return t.type==eC.SINGLECLICK}(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:bC,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new lC.Z,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new fC.default({source:new dC.default({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:FC(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,t.features?e=t.features:t.source&&(this.source_=t.source,e=new JS.Z(this.source_.getFeatures()),this.source_.addEventListener(cC.Z.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(cC.Z.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!e)throw new Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(QS.Z.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(QS.Z.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===t.snapToPointer?!this.hitDetection_:t.snapToPointer}addFeature_(t){const e=t.getGeometry();if(e){const n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}const n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),t.addEventListener(lr.Z.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new JS.Z;const n=this.featuresBeingModified_.getArray();for(let t=0,r=e.length;t<r;++t){const r=e[t];for(let t=0,e=r.length;t<e;++t){const e=r[t].feature;e&&!n.includes(e)&&this.featuresBeingModified_.push(e)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new LC("modifystart",this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(lr.Z.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){const e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(let t=n.length-1;t>=0;--t){const r=n[t];for(let t=this.dragSegments_.length-1;t>=0;--t)this.dragSegments_[t][0]===r&&this.dragSegments_.splice(t,1);e.remove(r)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){const e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){const n=e.getCoordinates(),r={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)}writeMultiPointGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r],o={feature:t,geometry:e,depth:[r],index:r,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)}}writeLineStringGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length-1;r<i;++r){const i=n.slice(r,r+2),o={feature:t,geometry:e,index:r,segment:i};this.rBush_.insert((0,_r.hI)(i),o)}}writeMultiLineStringGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r];for(let n=0,o=i.length-1;n<o;++n){const o=i.slice(n,n+2),s={feature:t,geometry:e,depth:[r],index:n,segment:o};this.rBush_.insert((0,_r.hI)(o),s)}}}writePolygonGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r];for(let n=0,o=i.length-1;n<o;++n){const o=i.slice(n,n+2),s={feature:t,geometry:e,depth:[r],index:n,segment:o};this.rBush_.insert((0,_r.hI)(o),s)}}}writeMultiPolygonGeometry_(t,e){const n=e.getCoordinates();for(let r=0,i=n.length;r<i;++r){const i=n[r];for(let n=0,o=i.length;n<o;++n){const o=i[n];for(let i=0,s=o.length-1;i<s;++i){const s=o.slice(i,i+2),a={feature:t,geometry:e,depth:[n,r],index:i,segment:s};this.rBush_.insert((0,_r.hI)(s),a)}}}}writeCircleGeometry_(t,n){const r=n.getCenter(),i={feature:t,geometry:n,index:0,segment:[r,r]},o={feature:t,geometry:n,index:1,segment:[r,r]},s=[i,o];i.featureSegments=s,o.featureSegments=s,this.rBush_.insert((0,_r.HK)(r),i);let a=n;const h=(0,e.getUserProjection)();if(h&&this.getMap()){const t=this.getMap().getView().getProjection();a=a.clone().transform(h,t),a=(0,PC.Bb)(a).transform(t,h)}this.rBush_.insert(a.getExtent(),o)}writeGeometryCollectionGeometry_(t,e){const n=e.getGeometriesArray();for(let e=0;e<n.length;++e){const r=n[e];(0,this.SEGMENT_WRITERS_[r.getType()])(t,r)}}createOrUpdateVertexFeature_(t,e,n){let r=this.vertexFeature_;return r?r.getGeometry().setCoordinates(t):(r=new tC.default(new nC.default(t)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r)),r.set("features",e),r.set("geometries",n),r}handleEvent(t){if(!t.originalEvent)return!0;let e;return this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=eC.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=eC.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==eC.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);const n=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],r=[],i=[];for(let o=0,s=this.dragSegments_.length;o<s;++o){const s=this.dragSegments_[o],a=s[0],h=a.feature;r.includes(h)||r.push(h);const u=a.geometry;i.includes(u)||i.push(u);const l=a.depth;let c;const f=a.segment,d=s[1];for(;n.length<u.getStride();)n.push(f[d][n.length]);switch(u.getType()){case"Point":c=n,f[0]=n,f[1]=n;break;case"MultiPoint":c=u.getCoordinates(),c[a.index]=n,f[0]=n,f[1]=n;break;case"LineString":c=u.getCoordinates(),c[a.index+d]=n,f[d]=n;break;case"MultiLineString":case"Polygon":c=u.getCoordinates(),c[l[0]][a.index+d]=n,f[d]=n;break;case"MultiPolygon":c=u.getCoordinates(),c[l[1]][l[0]][a.index+d]=n,f[d]=n;break;case"Circle":if(f[0]=n,f[1]=n,0===a.index)this.changingFeature_=!0,u.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0;const r=t.map.getView().getProjection();let i=(0,IC.TE)((0,e.fromUserCoordinate)(u.getCenter(),r),(0,e.fromUserCoordinate)(n,r));const o=(0,e.getUserProjection)();if(o){const t=u.clone().transform(o,r);t.setRadius(i),i=t.transform(r,o).getRadius()}u.setRadius(i),this.changingFeature_=!1}}c&&this.setGeometryCoordinates_(u,c)}this.createOrUpdateVertexFeature_(n,r,i)}handleDownEvent(t){if(!this.condition_(t))return!1;const e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;const n=this.vertexFeature_;if(n){const r=t.map.getView().getProjection(),i=[],o=n.getGeometry().getCoordinates(),s=(0,_r.hI)([o]),a=this.rBush_.getInExtent(s),h={};a.sort(TC);for(let n=0,s=a.length;n<s;++n){const s=a[n],u=s.segment;let l=(0,fr.sq)(s.geometry);const c=s.depth;if(c&&(l+="-"+c.join("-")),h[l]||(h[l]=new Array(2)),"Circle"!==s.geometry.getType()||1!==s.index)if(!(0,IC.fS)(u[0],o)||h[l][0])if(!(0,IC.fS)(u[1],o)||h[l][1])(0,fr.sq)(u)in this.vertexSegments_&&!h[l][0]&&!h[l][1]&&this.insertVertexCondition_(t)&&i.push(s);else{if(h[l][0]&&0===h[l][0].index){let t=s.geometry.getCoordinates();switch(s.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":t=t[c[1]];case"Polygon":if(s.index!==t[c[0]].length-2)continue}}this.dragSegments_.push([s,1]),h[l][1]=s}else this.dragSegments_.push([s,0]),h[l][0]=s;else{const t=DC(e,s,r);(0,IC.fS)(t,o)&&!h[l][0]&&(this.dragSegments_.push([s,0]),h[l][0]=s)}}i.length&&this.willModifyFeatures_(t,[i]);for(let t=i.length-1;t>=0;--t)this.insertVertex_(i[t],o)}return!!this.vertexFeature_}handleUpEvent(t){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if("Circle"===i.getType()){const n=i.getCenter(),o=r.featureSegments[0],s=r.featureSegments[1];o.segment[0]=n,o.segment[1]=n,s.segment[0]=n,s.segment[1]=n,this.rBush_.update((0,_r.HK)(n),o);let a=i;const h=(0,e.getUserProjection)();if(h){const e=t.map.getView().getProjection();a=a.clone().transform(h,e),a=(0,PC.Bb)(a).transform(e,h)}this.rBush_.update(a.getExtent(),s)}else this.rBush_.update((0,_r.hI)(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new LC(RC,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)}handlePointerAtPixel_(t,n,r){const i=r||n.getCoordinateFromPixel(t),o=n.getView().getProjection(),s=function(t,e){return NC(i,t,o)-NC(i,e,o)};let a,h;if(this.hitDetection_){const r="object"==typeof this.hitDetection_?t=>t===this.hitDetection_:void 0;n.forEachFeatureAtPixel(t,((t,n,r)=>{r&&"Point"===r.getType()&&(r=new nC.default((0,e.toUserCoordinate)(r.getCoordinates(),o)));const i=r||t.getGeometry();if(t instanceof tC.default&&this.features_.getArray().includes(t)){h=i;const e=t.getGeometry().getFlatCoordinates().slice(0,2);a=[{feature:t,geometry:h,segment:[e,e]}]}return!0}),{layerFilter:r})}if(!a){const t=(0,e.fromUserExtent)((0,_r.HK)(i,OC),o),r=n.getView().getResolution()*this.pixelTolerance_,s=(0,e.toUserExtent)((0,_r.f3)(t,r,OC),o);a=this.rBush_.getInExtent(s)}if(a&&a.length>0){const e=a.sort(s)[0],r=e.segment;let u=DC(i,e,o);const l=n.getPixelFromCoordinate(u);let c=(0,IC.TE)(t,l);if(h||c<=this.pixelTolerance_){const t={};if(t[(0,fr.sq)(r)]=!0,this.snapToPointer_||(this.delta_[0]=u[0]-i[0],this.delta_[1]=u[1]-i[1]),"Circle"===e.geometry.getType()&&1===e.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(u,[e.feature],[e.geometry]);else{const i=n.getPixelFromCoordinate(r[0]),o=n.getPixelFromCoordinate(r[1]),s=(0,IC.bI)(l,i),h=(0,IC.bI)(l,o);c=Math.sqrt(Math.min(s,h)),this.snappedToVertex_=c<=this.pixelTolerance_,this.snappedToVertex_&&(u=s>h?r[1]:r[0]),this.createOrUpdateVertexFeature_(u,[e.feature],[e.geometry]);const f={};f[(0,fr.sq)(e.geometry)]=!0;for(let e=1,n=a.length;e<n;++e){const n=a[e].segment;if(!((0,IC.fS)(r[0],n[0])&&(0,IC.fS)(r[1],n[1])||(0,IC.fS)(r[0],n[1])&&(0,IC.fS)(r[1],n[0])))break;{const r=(0,fr.sq)(a[e].geometry);r in f||(f[r]=!0,t[(0,fr.sq)(n)]=!0)}}}return void(this.vertexSegments_=t)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){const n=t.segment,r=t.feature,i=t.geometry,o=t.depth,s=t.index;let a;for(;e.length<i.getStride();)e.push(0);switch(i.getType()){case"MultiLineString":case"Polygon":a=i.getCoordinates(),a[o[0]].splice(s+1,0,e);break;case"MultiPolygon":a=i.getCoordinates(),a[o[1]][o[0]].splice(s+1,0,e);break;case"LineString":a=i.getCoordinates(),a.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(i,a);const h=this.rBush_;h.remove(t),this.updateSegmentIndices_(i,s,o,1);const u={segment:[n[0],e],feature:r,geometry:i,depth:o,index:s};h.insert((0,_r.hI)(u.segment),u),this.dragSegments_.push([u,1]);const l={segment:[e,n[1]],feature:r,geometry:i,depth:o,index:s+1};h.insert((0,_r.hI)(l.segment),l),this.dragSegments_.push([l,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=eC.POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);const e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new LC(RC,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1}removeVertex_(){const t=this.dragSegments_,e={};let n,r,i,o,s,a,h,u,l,c,f,d=!1;for(s=t.length-1;s>=0;--s)i=t[s],c=i[0],f=(0,fr.sq)(c.feature),c.depth&&(f+="-"+c.depth.join("-")),f in e||(e[f]={}),0===i[1]?(e[f].right=c,e[f].index=c.index):1==i[1]&&(e[f].left=c,e[f].index=c.index+1);for(f in e){switch(l=e[f].right,h=e[f].left,a=e[f].index,u=a-1,c=void 0!==h?h:l,u<0&&(u=0),o=c.geometry,r=o.getCoordinates(),n=r,d=!1,o.getType()){case"MultiLineString":r[c.depth[0]].length>2&&(r[c.depth[0]].splice(a,1),d=!0);break;case"LineString":r.length>2&&(r.splice(a,1),d=!0);break;case"MultiPolygon":n=n[c.depth[1]];case"Polygon":n=n[c.depth[0]],n.length>4&&(a==n.length-1&&(a=0),n.splice(a,1),d=!0,0===a&&(n.pop(),n.push(n[0]),u=n.length-1))}if(d){this.setGeometryCoordinates_(o,r);const e=[];if(void 0!==h&&(this.rBush_.remove(h),e.push(h.segment[0])),void 0!==l&&(this.rBush_.remove(l),e.push(l.segment[1])),void 0!==h&&void 0!==l){const t={depth:c.depth,feature:c.feature,geometry:c.geometry,index:u,segment:e};this.rBush_.insert((0,_r.hI)(t.segment),t)}this.updateSegmentIndices_(o,a,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return d}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,n,r){this.rBush_.forEachInExtent(t.getExtent(),(function(i){i.geometry===t&&(void 0===n||void 0===i.depth||(0,Gr.fS)(i.depth,n))&&i.index>e&&(i.index+=r)}))}};class BC extends Lr.ZP{constructor(t,e){super(t),this.vertex=e.vertex,this.vertexPixel=e.vertexPixel,this.feature=e.feature,this.segment=e.segment}}function GC(t){return t.feature?t.feature:t.element?t.element:null}const qC=[],UC=class extends uC{constructor(t){const e=t=t||{};e.handleDownEvent||(e.handleDownEvent=pC.uX),e.stopDown||(e.stopDown=pC.Dv),super(e),this.on,this.once,this.un,this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.rBush_=new lC.Z,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(t,e){e=void 0===e||e;const n=(0,fr.sq)(t),r=t.getGeometry();if(r){const e=this.GEOMETRY_SEGMENTERS_[r.getType()];if(e){this.indexedFeaturesExtents_[n]=r.getExtent((0,_r.lJ)());const i=[];if(e(i,r),1===i.length)this.rBush_.insert((0,_r.hI)(i[0]),{feature:t,segment:i[0]});else if(i.length>1){const e=i.map((t=>(0,_r.hI)(t))),n=i.map((e=>({feature:t,segment:e})));this.rBush_.load(e,n)}}}e&&(this.featureChangeListenerKeys_[n]=(0,Cr.oL)(t,lr.Z.CHANGE,this.handleFeatureChange_,this))}getFeatures_(){let t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t}handleEvent(t){const e=this.snapTo(t.pixel,t.coordinate,t.map);return e&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel,this.dispatchEvent(new BC("snap",{vertex:t.coordinate,vertexPixel:t.pixel,feature:e.feature,segment:e.segment}))),super.handleEvent(t)}handleFeatureAdd_(t){const e=GC(t);e&&this.addFeature(e)}handleFeatureRemove_(t){const e=GC(t);e&&this.removeFeature(e)}handleFeatureChange_(t){const e=t.target;if(this.handlingDownUpSequence){const t=(0,fr.sq)(e);t in this.pendingFeatures_||(this.pendingFeatures_[t]=e)}else this.updateFeature_(e)}handleUpEvent(t){const e=Object.values(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(t,e){const n=void 0===e||e,r=(0,fr.sq)(t),i=this.indexedFeaturesExtents_[r];if(i){const e=this.rBush_,n=[];e.forEachInExtent(i,(function(e){t===e.feature&&n.push(e)}));for(let t=n.length-1;t>=0;--t)e.remove(n[t])}n&&((0,Cr.bN)(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])}setMap(t){const e=this.getMap(),n=this.featuresListenerKeys_,r=this.getFeatures_();e&&(n.forEach(Cr.bN),n.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(Cr.bN),this.featureChangeListenerKeys_={}),super.setMap(t),t&&(this.features_?n.push((0,Cr.oL)(this.features_,QS.Z.ADD,this.handleFeatureAdd_,this),(0,Cr.oL)(this.features_,QS.Z.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,Cr.oL)(this.source_,cC.Z.ADDFEATURE,this.handleFeatureAdd_,this),(0,Cr.oL)(this.source_,cC.Z.REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach((t=>this.addFeature(t))))}snapTo(t,n,r){const i=r.getView().getProjection(),o=(0,e.fromUserCoordinate)(n,i),s=(0,e.toUserExtent)((0,_r.f3)((0,_r.hI)([o]),r.getView().getResolution()*this.pixelTolerance_),i),a=this.rBush_.getInExtent(s),h=a.length;if(0===h)return null;let u,l,c=1/0,f=null;const d=this.pixelTolerance_*this.pixelTolerance_,p=()=>{if(u){const e=r.getPixelFromCoordinate(u);if((0,IC.bI)(t,e)<=d)return{vertex:u,vertexPixel:[Math.round(e[0]),Math.round(e[1])],feature:l,segment:f}}return null};if(this.vertex_){for(let t=0;t<h;++t){const n=a[t];"Circle"!==n.feature.getGeometry().getType()&&n.segment.forEach((t=>{const r=(0,e.fromUserCoordinate)(t,i),s=(0,IC.bI)(o,r);s<c&&(u=t,c=s,l=n.feature)}))}const t=p();if(t)return t}if(this.edge_){for(let t=0;t<h;++t){let n=null;const r=a[t];if("Circle"===r.feature.getGeometry().getType()){let t=r.feature.getGeometry();const s=(0,e.getUserProjection)();s&&(t=t.clone().transform(s,i)),n=(0,IC.Ed)(o,t)}else{const[t,s]=r.segment;s&&(qC[0]=(0,e.fromUserCoordinate)(t,i),qC[1]=(0,e.fromUserCoordinate)(s,i),n=(0,IC.oL)(o,qC))}if(n){const t=(0,IC.bI)(o,n);t<c&&(u=(0,e.toUserCoordinate)(n,i),f="Circle"===r.feature.getGeometry().getType()?null:r.segment,c=t)}}const t=p();if(t)return t}return null}updateFeature_(t){this.removeFeature(t,!1),this.addFeature(t,!1)}segmentCircleGeometry_(t,n){const r=this.getMap().getView().getProjection();let i=n;const o=(0,e.getUserProjection)();o&&(i=i.clone().transform(o,r));const s=(0,PC.Bb)(i);o&&s.transform(r,o);const a=s.getCoordinates()[0];for(let e=0,n=a.length-1;e<n;++e)t.push(a.slice(e,e+2))}segmentGeometryCollectionGeometry_(t,e){const n=e.getGeometriesArray();for(let e=0;e<n.length;++e){const r=this.GEOMETRY_SEGMENTERS_[n[e].getType()];r&&r(t,n[e])}}segmentLineStringGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length-1;e<r;++e)t.push(n.slice(e,e+2))}segmentMultiLineStringGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length;e<r;++e){const r=n[e];for(let e=0,n=r.length-1;e<n;++e)t.push(r.slice(e,e+2))}}segmentMultiPointGeometry_(t,e){e.getCoordinates().forEach((e=>{t.push([e])}))}segmentMultiPolygonGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length;e<r;++e){const r=n[e];for(let e=0,n=r.length;e<n;++e){const n=r[e];for(let e=0,r=n.length-1;e<r;++e)t.push(n.slice(e,e+2))}}}segmentPointGeometry_(t,e){t.push([e.getCoordinates()])}segmentPolygonGeometry_(t,e){const n=e.getCoordinates();for(let e=0,r=n.length;e<r;++e){const r=n[e];for(let e=0,n=r.length-1;e<n;++e)t.push(r.slice(e,e+2))}}},zC=class extends aC{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==eC.DBLCLICK){const n=t.originalEvent,r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;sC(r.getView(),o,i,this.duration_),n.preventDefault(),e=!0}return!e}},ZC=class extends uC{constructor(t){super({stopDown:pC.Dv}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:mC(xC,CC);this.condition_=t.onFocusOnly?mC(_C,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,r=e.getEventPixel(hC(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const e=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],n=t.map.getView();(0,IC.bA)(e,n.getResolution()),(0,IC.U1)(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=n.getCenterInternal(),o=e.getPixelFromCoordinateInternal(i),s=e.getCoordinateFromPixelInternal([o[0]-t*Math.cos(r),o[1]-t*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:dr.Vv})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};var VC=i(60828);const XC=class extends uC{constructor(t){t=t||{},super({stopDown:pC.Dv}),this.condition_=t.condition?t.condition:vC,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!SC(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===VC.h$)return;const r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){const t=o-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=o}handleUpEvent(t){return!SC(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!SC(t)&&(!(!wC(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}};var WC=i(55431);class YC extends WC.Z{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new PC.ZP([n])}getGeometry(){return this.geometry_}}const HC=YC;class $C extends Lr.ZP{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}const KC=class extends uC{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new HC(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:wC,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new $C("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new $C(e?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new $C("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}},JC=class extends KC{constructor(t){super({condition:(t=t||{}).condition?t.condition:MC,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),r=e.getResolutionForExtentInternal(t),i=e.getResolution()/r;n=n.clone(),n.scale(i*i)}e.fitInternal(n,{duration:this.duration_,easing:dr.Vv})}},QC="ArrowLeft",tI="ArrowRight",eI="ArrowDown",nI=class extends aC{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return xC(t)&&EC(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==lr.Z.KEYDOWN){const n=t.originalEvent,r=n.key;if(this.condition_(t)&&(r==eI||r==QC||r==tI||"ArrowUp"==r)){const i=t.map.getView(),o=i.getResolution()*this.pixelDelta_;let s=0,a=0;r==eI?a=-o:r==QC?s=-o:r==tI?s=o:a=o;const h=[s,a];(0,IC.U1)(h,i.getRotation()),function(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:dr.GE,center:t.getConstrainedCenter(i)})}}(i,h,this.duration_),n.preventDefault(),e=!0}}return!e}},rI=class extends aC{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!function(t){const e=t.originalEvent;return gC.tK?e.metaKey:e.ctrlKey}(t)&&EC(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==lr.Z.KEYDOWN||t.type==lr.Z.KEYPRESS){const n=t.originalEvent,r=n.key;if(this.condition_(t)&&("+"===r||"-"===r)){const i=t.map,o="+"===r?this.delta_:-this.delta_;sC(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}},iI=class extends aC{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:bC;this.condition_=t.onFocusOnly?mC(_C,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==lr.Z.WHEEL)return!0;const e=t.map,n=t.originalEvent;let r;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==lr.Z.WHEEL&&(r=n.deltaY,gC.V&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=gC.MP),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),0===r)return!1;this.lastDelta_=r;const i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=e.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=r;const s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),s),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-(0,br.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),sC(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},oI=class extends uC{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=pC.Dv),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=i-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=i;const o=t.map,s=o.getView();s.getConstraints().rotation!==VC.h$&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(hC(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}},sI=class extends uC{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=pC.Dv),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,s=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;const a=t.map,h=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(hC(this.targetPointers))),a.render(),h.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};function aI(t){t=t||{};const e=new JS.Z,n=new class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;const i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new XC),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new zC({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new ZC({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new oI),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new sI({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new nI),e.push(new rI({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new iI({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new JC({duration:t.zoomDuration})),e}const hI=class extends uC{constructor(t){super(t=t||{}),this.condition_=t.condition?t.condition:MC,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==t.duration?t.duration:400}handleDragEvent(t){if(!SC(t))return;const e=t.map,n=e.getSize(),r=t.pixel,i=r[0]-n[0]/2,o=n[1]/2-r[1],s=Math.atan2(o,i),a=Math.sqrt(i*i+o*o),h=e.getView();if(void 0!==this.lastAngle_){const t=this.lastAngle_-s;h.adjustRotationInternal(t)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&h.adjustResolutionInternal(this.lastMagnitude_/a),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}handleUpEvent(t){if(!SC(t))return!0;const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1}handleDownEvent(t){return!!SC(t)&&!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)}};var uI=i(10245);class lI extends xS.default{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",r=void 0!==t.expandClassName?t.expandClassName:e+"-expand",i=void 0!==t.collapseLabel?t.collapseLabel:"",o=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=o):this.collapseLabel_=i;const s=void 0!==t.label?t.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=r):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(lr.Z.CLICK,this.handleClick_.bind(this),!1);const h=e+" "+uI.XV+" "+uI.hg+(this.collapsed_&&this.collapsible_?" "+uI.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=h,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=Array.from(new Set(this.getMap().getAllLayers().flatMap((e=>e.getAttributions(t))))),n=!this.getMap().getAllLayers().some((t=>t.getSource()&&!1===t.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(n),e}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,Gr.fS)(e,this.renderedAttributions_)){(0,mr.ep)(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(uI.hN),this.collapsed_?(0,mr.$H)(this.collapseLabel_,this.label_):(0,mr.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}const cI=lI;class fI extends xS.default{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"",r=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const i=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=e+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),o.addEventListener(lr.Z.CLICK,this.handleClick_.bind(this),!1);const s=e+" "+uI.XV+" "+uI.hg,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(uI.oj)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:dr.Vv}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(uI.oj);t||0!==n?t&&0!==n&&this.element.classList.remove(uI.oj):this.element.classList.add(uI.oj)}this.label_.style.transform=t}this.rotation_=n}}const dI=fI;class pI extends xS.default{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,r=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",i=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",h=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=a,u.appendChild("string"==typeof o?document.createTextNode(o):o),u.addEventListener(lr.Z.CLICK,this.handleClick_.bind(this,n),!1);const l=document.createElement("button");l.className=i,l.setAttribute("type","button"),l.title=h,l.appendChild("string"==typeof s?document.createTextNode(s):s),l.addEventListener(lr.Z.CLICK,this.handleClick_.bind(this,-n),!1);const c=e+" "+uI.XV+" "+uI.hg,f=this.element;f.className=c,f.appendChild(u),f.appendChild(l),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:dr.Vv})):e.setZoom(r)}}}const gI=pI;function mI(t){t=t||{};const e=new JS.Z;return(void 0===t.zoom||t.zoom)&&e.push(new gI(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new dI(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new cI(t.attributionOptions)),e}var yI=i(2370),vI=i(58958),_I=i(51345),bI=i(72967),wI=i(53042),xI=i(18527),MI=i(80226),EI=i(93032),SI=i(89241),CI=i(49405),II=i(27374);class AI extends bI.ZP{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){(0,Gr.l7)(this.flatCoordinates,t),this.changed()}clone(){const t=new AI(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){return r<(0,_r.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,wI.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,wI.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))}forEachSegment(t){return(0,EI.E)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,(0,CI.iJ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return(0,SI.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return(0,CI.WW)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return(0,II.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,MI.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new AI(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return(0,Br.Kz)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,xI.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()}}const PI=AI;var OI=i(77571);class kI extends bI.ZP{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,Gr.l7)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new kI(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){if(r<(0,_r.qf)(this.getExtent(),t,e))return r;const i=this.flatCoordinates,o=this.stride;for(let s=0,a=i.length;s<a;s+=o){const a=(0,br.bI)(t,e,i[s],i[s+1]);if(a<r){r=a;for(let t=0;t<o;++t)n[t]=i[s+t];n.length=o}}return r}getCoordinates(){return(0,SI.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new nC.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,r=[];for(let i=0,o=t.length;i<o;i+=n){const o=new nC.default(t.slice(i,i+n),e);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let r=0,i=e.length;r<i;r+=n){const n=e[r],i=e[r+1];if((0,_r.jE)(t,n,i))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,xI.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()}}const RI=kI;class LI extends bI.ZP{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{const e=t,n=[],r=[];for(let t=0,i=e.length;t<i;++t){const i=e[t];(0,Gr.l7)(n,i.getFlatCoordinates()),r.push(n.length)}const i=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(i,n),this.ends_=r}}appendLineString(t){(0,Gr.l7)(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new LI(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,r){return r<(0,_r.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,wI.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,wI.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,(0,CI.dG)(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return(0,SI.o1)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new PI(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[];let i=0;for(let o=0,s=e.length;o<s;++o){const s=e[o],a=new PI(t.slice(i,s),n);r.push(a),i=s}return r}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const r=this.ends_,i=this.stride;for(let o=0,s=r.length;o<s;++o){const s=r[o],a=(0,CI.WW)(e,n,s,i,.5);(0,Gr.l7)(t,a),n=s}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,MI.UJ)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new LI(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return(0,Br.AW)(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,xI._5)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const TI=LI;var NI=i(73448),DI=i(30974),FI=i(14078),jI=i(41071),BI=i(79679);class GI extends bI.ZP{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){const r=t,i=[],o=[];for(let t=0,e=r.length;t<e;++t){const e=r[t],n=i.length,s=e.getEnds();for(let t=0,e=s.length;t<e;++t)s[t]+=n;(0,Gr.l7)(i,e.getFlatCoordinates()),o.push(s)}e=0===r.length?this.getLayout():r[0].getLayout(),t=i,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;(0,Gr.l7)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,r=e.length;t<r;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let n=0;n<t;++n)e[n]=this.endss_[n].slice();const n=new GI(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,r){return r<(0,_r.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,wI.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,wI.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))}containsXY(t,e){return(0,BI.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return(0,FI.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,DI.dL)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,SI.ug)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=(0,jI.E)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,NI.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new RI(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,DI.Oj)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,DI.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,MI.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new GI(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),r=n[n.length-1];if(0!==e)for(let t=0,r=n.length;t<r;++t)n[t]-=e;return new PC.ZP(this.flatCoordinates.slice(e,r),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),a=s[s.length-1];if(0!==i)for(let t=0,e=s.length;t<e;++t)s[t]-=i;const h=new PC.ZP(e.slice(i,a),t,s);r.push(h),i=a}return r}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,Br.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,xI.QT)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}const qI=GI;var UI=i(71694);class zI extends UI.Z{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Cr.bN),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)this.changeEventsKeys_.push((0,Cr.oL)(t[e],lr.Z.CHANGE,this.changed,this))}clone(){const t=new zI(ZI(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,n,r){if(r<(0,_r.qf)(this.getExtent(),t,e))return r;const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)r=i[o].closestPointXY(t,e,n,r);return r}containsXY(t,e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1}computeExtent(t){(0,_r.YN)(t);const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)(0,_r.l7)(t,e[n].getExtent());return t}getGeometries(){return ZI(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let r=!1;for(let i=0,o=n.length;i<o;++i){const o=n[i],s=o.getSimplifiedGeometry(t);e.push(s),s!==o&&(r=!0)}return r?new zI(e):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()}scale(t,e,n){n||(n=(0,_r.qg)(this.getExtent()));const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(ZI(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function ZI(t){return t.map((t=>t.clone()))}const VI=zI;function XI(t,n,r){const i=r?(0,e.get)(r.featureProjection):null,o=r?(0,e.get)(r.dataProjection):null;let s=t;if(i&&o&&!(0,e.equivalent)(i,o)){n&&(s=t.clone());const r=n?i:o,a=n?o:i;"tile-pixels"===r.getUnits()?s.transform(r,a):s.applyTransform((0,e.getTransform)(r,a))}if(n&&r&&void 0!==r.decimals){const e=Math.pow(10,r.decimals),n=function(t){for(let n=0,r=t.length;n<r;++n)t[n]=Math.round(t[n]*e)/e;return t};s===t&&(s=t.clone()),s.applyTransform(n)}return s}const WI={Point:nC.default,LineString:PI,Polygon:PC.ZP,MultiPoint:RI,MultiLineString:TI,MultiPolygon:qI};function YI(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map((e=>YI({...t,geometry:e}))).flat();const r="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const i=n.layout.length;return XI(new OI.ZP(r,"Polygon"===r?function(t,e,n){return Array.isArray(e[0])?((0,DI.Oj)(t,0,e,n)||(t=t.slice(),(0,DI.dL)(t,0,e,n)),t):((0,DI.$v)(t,0,e,n)||(t=t.slice(),(0,DI.zX)(t,0,e,n)),t)}(n.flatCoordinates,n.ends,i):n.flatCoordinates,n.ends?.flat(),i,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function HI(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map((t=>HI(t,e)));return new VI(n)}return XI(new(0,WI[t.type])(t.flatCoordinates,t.layout,t.ends),!1,e)}function $I(t){if("string"==typeof t){return JSON.parse(t)||null}return null!==t?t:null}var KI=i(69374);function JI(t,e){if(!t)return null;let n;switch(t.type){case"Point":n=function(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:(0,bI.Ss)(e.length)}}(t);break;case"LineString":n=function(t){const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:(0,bI.Ss)(e[0]?.length||2)}}(t);break;case"Polygon":n=function(t){const e=t.coordinates,n=[],r=e[0]?.[0]?.length;return{type:"Polygon",flatCoordinates:n,ends:(0,xI._5)(n,0,e,r),layout:(0,bI.Ss)(r)}}(t);break;case"MultiPoint":n=function(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:(0,bI.Ss)(e[0]?.length||2)}}(t);break;case"MultiLineString":n=function(t){const e=t.coordinates,n=e[0]?.[0]?.length||2,r=[];return{type:"MultiLineString",flatCoordinates:r,ends:(0,xI._5)(r,0,e,n),layout:(0,bI.Ss)(n)}}(t);break;case"MultiPolygon":n=function(t){const e=t.coordinates,n=[],r=e[0]?.[0]?.[0].length||2;return{type:"MultiPolygon",flatCoordinates:n,ends:(0,xI.QT)(n,0,e,r),layout:(0,bI.Ss)(r)}}(t);break;case"GeometryCollection":n=function(t,e){const n=t.geometries.map((function(t){return JI(t)}));return n}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function QI(t,e){const n=(t=XI(t,!0,e)).getType();let r;switch(n){case"Point":r=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":r=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":r=function(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":r=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":r=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":r=function(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":r=function(t,e){return delete(e=Object.assign({},e)).featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){return QI(t,e)}))}}(t,e);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}i(43290);const tA="accuracy",eA="accuracyGeometry",nA="altitude",rA="altitudeAccuracy",iA="heading",oA="position",sA="projection",aA="speed",hA="tracking",uA="trackingOptions";class lA extends Lr.ZP{constructor(t){super("error"),this.code=t.code,this.message=t.message}}class cA extends rC.Z{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.position_=null,this.transform_=e.identityTransform,this.watchId_=void 0,this.addChangeListener(sA,this.handleProjectionChanged_),this.addChangeListener(hA,this.handleTrackingChanged_),void 0!==t.projection&&this.setProjection(t.projection),void 0!==t.trackingOptions&&this.setTrackingOptions(t.trackingOptions),this.setTracking(void 0!==t.tracking&&t.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const t=this.getProjection();t&&(this.transform_=(0,e.getTransformFromProjections)((0,e.get)("EPSG:4326"),t),this.position_&&this.set(oA,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(t){const e=t.coords;this.set(tA,e.accuracy),this.set(nA,null===e.altitude?void 0:e.altitude),this.set(rA,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(iA,null===e.heading?void 0:(0,br.Yr)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];const n=this.transform_(this.position_);this.set(oA,n.slice()),this.set(aA,null===e.speed?void 0:e.speed);const r=(0,PC.iu)(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(eA,r),this.changed()}positionError_(t){this.dispatchEvent(new lA(t))}getAccuracy(){return this.get(tA)}getAccuracyGeometry(){return this.get(eA)||null}getAltitude(){return this.get(nA)}getAltitudeAccuracy(){return this.get(rA)}getHeading(){return this.get(iA)}getPosition(){return this.get(oA)}getProjection(){return this.get(sA)}getSpeed(){return this.get(aA)}getTracking(){return this.get(hA)}getTrackingOptions(){return this.get(uA)}setProjection(t){this.set(sA,(0,e.get)(t))}setTracking(t){this.set(hA,t)}setTrackingOptions(t){this.set(uA,t)}}const fA=cA;class dA extends Lr.ZP{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}}const pA=dA;var gA=i(26202),mA=i(6101),yA=i(92710),vA=i(1295);class _A extends WC.Z{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,fr.O3)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;(0,mA.qC)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,mA.nb)(r,n)}forEachFeatureAtCoordinate(t,e,n,r,i,o,s,a){let h;const u=e.viewState;function l(t,e,n,r){return i.call(o,e,t?n:null,r)}const c=u.projection,f=(0,IC.Cf)(t.slice(),c),d=[[0,0]];if(c.canWrapX()&&r){const t=c.getExtent(),e=(0,_r.dz)(t);d.push([-e,0],[e,0])}const p=e.layerStatesArray,g=p.length,m=[],y=[];for(let r=0;r<d.length;r++)for(let i=g-1;i>=0;--i){const o=p[i],c=o.layer;if(c.hasRenderer()&&(0,vA.j)(o,u)&&s.call(a,c)){const i=c.getRenderer(),s=c.getSource();if(i&&s){const a=s.getWrapX()?f:t,u=l.bind(null,o.managed);y[0]=a[0]+d[r][0],y[1]=a[1]+d[r][1],h=i.forEachFeatureAtCoordinate(y,e,n,u,m)}if(h)return h}}if(0===m.length)return;const v=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*v)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>h=t.callback(t.feature,t.layer,t.geometry))),h}hasFeatureAtCoordinate(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,pC.uX,this,i,o)}getMap(){return this.map_}renderFrame(t){(0,fr.O3)()}scheduleExpireIconCache(t){yA.c1.canExpireCache()&&t.postRenderFunctions.push(bA)}}function bA(t,e){yA.c1.expire()}const wA=_A;var xA=i(35990),MA=i(57380),EA=i(98771),SA=i(50147);const CA=class extends wA{constructor(t){super(t),this.fontChangeListenerKey_=(0,Cr.oL)(SA.sG,xA.Z.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=uI.XV+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const r=new MA.Z(t,void 0,e);n.dispatchEvent(r)}}disposeInternal(){(0,Cr.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(EA.Z.PRECOMPOSE,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex}));e.some((t=>t.layer instanceof gA.Z&&t.layer.getDeclutter()))&&(t.declutter={});const n=t.viewState;this.children_.length=0;const r=[];let i=null;for(let o=0,s=e.length;o<s;++o){const s=e[o];t.layerIndex=o;const a=s.layer,h=a.getSourceState();if(!(0,vA.j)(s,n)||"ready"!=h&&"undefined"!=h){a.unrender();continue}const u=a.render(t,i);u&&(u!==i&&(this.children_.push(u),i=u),r.push(s))}this.declutter(t,r),(0,mr.hF)(this.element_,this.children_),this.dispatchRenderEvent(EA.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){for(let n=e.length-1;n>=0;--n){const r=e[n],i=r.layer;i.getDeclutter()&&i.renderDeclutter(t,r)}e.forEach((e=>e.layer.renderDeferred(t)))}};var IA=i(68734);const AA=class extends pA{constructor(t,e,n,r,i,o){super(t,e,i),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},PA="pointerdown";class OA extends cr.Z{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=(0,Cr.oL)(n,PA,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,Cr.oL)(n,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(lr.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!gC.bM&&{passive:!1})}emulateClick_(t){let e=new AA(eC.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new AA(eC.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new AA(eC.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==eC.POINTERUP||e.type==eC.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=eC.POINTERDOWN&&e.type!=eC.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new AA(eC.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(Cr.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new AA(eC.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,Cr.oL)(t,eC.POINTERMOVE,this.handlePointerMove_,this),(0,Cr.oL)(t,eC.POINTERUP,this.handlePointerUp_,this),(0,Cr.oL)(this.element_,eC.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,Cr.oL)(this.element_.getRootNode(),eC.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new AA(eC.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new AA(eC.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,Cr.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(lr.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,Cr.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Cr.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const kA=OA;var RA=i(32126);const LA="layergroup",TA="size",NA="target",DA="view",FA=1/0;var jA=i(59090),BA=i(37755),GA=i(70044);function qA(t){t instanceof vA.Z?t.setMapInternal(null):t instanceof IA.default&&t.getLayers().forEach(qA)}function UA(t,e){if(t instanceof vA.Z)t.setMapInternal(e);else if(t instanceof IA.default){const n=t.getLayers().getArray();for(let t=0,r=n.length;t<r;++t)UA(n[t],e)}}class zA extends rC.Z{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new IA.default({layers:t.layers});let i,o,s;return n.layergroup=r,n.target=t.target,n.view=t.view instanceof jA.ZP?t.view:new jA.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?i=new JS.Z(t.controls.slice()):((0,Ar.h)("function"==typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new JS.Z(t.interactions.slice()):((0,Ar.h)("function"==typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?s=new JS.Z(t.overlays.slice()):((0,Ar.h)("function"==typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=t.overlays):s=new JS.Z,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:gC.MP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,mA.Ue)(),this.pixelToCoordinateTransform_=(0,mA.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||mI(),this.interactions=e.interactions||aI({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new class extends class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,KI.Z)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(t){(0,Ar.h)(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=FA&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],s=t;for(;t<r>>1;){const i=this.getLeftChildIndex_(t),o=this.getRightChildIndex_(t),s=o<r&&n[o]<n[i]?o:i;e[t]=e[s],n[t]=n[s],t=s}e[t]=i,n[t]=o,this.siftDown_(s,t)}siftDown_(t,e){const n=this.elements_,r=this.priorities_,i=n[e],o=r[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(r[t]>o))break;n[e]=n[t],r[e]=r[t],e=t}n[e]=i,r[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let r=0;const i=e.length;let o,s,a;for(s=0;s<i;++s)o=e[s],a=t(o),a==FA?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=a,e[r++]=o);e.length=r,n.length=r,this.heapify_()}}{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(lr.Z.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(2===n||3===n||4===n){3!==n&&e.removeEventListener(lr.Z.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,r,i,o=0;for(;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=this.dequeue()[0],i=r.getKey(),n=r.getState(),0!==n||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load())}}(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(LA,this.handleLayerGroupChanged_),this.addChangeListener(DA,this.handleViewChanged_),this.addChangeListener(TA,this.handleSizeChanged_),this.addChangeListener(NA,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof jA.ZP||t.view.then((function(t){n.setView(new jA.ZP(t))})),this.controls.addEventListener(QS.Z.ADD,(t=>{t.element.setMap(this)})),this.controls.addEventListener(QS.Z.REMOVE,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(QS.Z.ADD,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(QS.Z.REMOVE,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(QS.Z.ADD,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(QS.Z.REMOVE,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){UA(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:pC.uX,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,s,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];return function e(n){n.forEach((function(n){n instanceof IA.default?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:pC.uX,i=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=e.width/n[0],i=e.height/n[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-e.left)/r,(o.clientY-e.top)/i]}getTarget(){return this.get(NA)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,e.toUserCoordinate)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,mA.nn)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(LA)}setLayers(t){const e=this.getLayerGroup();if(t instanceof JS.Z)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const r=n.layer.getRenderer();if(r&&!r.ready)return!0;const i=n.layer.getSource();if(i&&i.loading)return!0}return!1}getPixelFromCoordinate(t){const n=(0,e.fromUserCoordinate)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,mA.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(TA)}getView(){return this.get(DA)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return FA;if(!t.wantedTiles[n][e.getKey()])return FA;const o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,t,e,n,r)}handleBrowserEvent(t,e){e=e||t.type;const n=new AA(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===PA||n===lr.Z.WHEEL||n===lr.Z.KEYDOWN){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,r=e.target;if(this.overlayContainerStopEvent_.contains(r)||!(n===t?t.documentElement:n).contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.getMap()===this&&r.getActive()&&this.getTargetElement()&&(!r.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,r=n;if(t){const e=t.viewHints;if(e[BA.Z.ANIMATING]||e[BA.Z.INTERACTING]){const e=Date.now()-t.time>8;n=e?0:8,r=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(EA.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(EA.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new pA(RA.Z.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new pA(RA.Z.LOADSTART,this,t))));const n=this.postRenderFunctions_;for(let e=0,r=n.length;e<r;++e)n[e](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,Cr.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(lr.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(lr.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,mr.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new CA(this)),this.mapBrowserEventHandler_=new kA(this,this.moveTolerance_);for(const t in eC)this.mapBrowserEventHandler_.addEventListener(eC[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(lr.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(lr.Z.WHEEL,this.boundHandleBrowserEvent_,!!gC.bM&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,Cr.oL)(t,lr.Z.KEYDOWN,this.handleBrowserEvent,this),(0,Cr.oL)(t,lr.Z.KEYPRESS,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,Cr.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,Cr.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=(0,Cr.oL)(t,xA.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,Cr.oL)(t,lr.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Cr.bN),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new IA.GroupEvent("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,Cr.oL)(t,xA.Z.PROPERTYCHANGE,this.render,this),(0,Cr.oL)(t,lr.Z.CHANGE,this.render,this),(0,Cr.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,Cr.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){qA(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),r=this.frameState_;let i=null;if(void 0!==e&&(0,qr.py)(e)&&n&&n.isDef()){const r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:(0,_r.p8)(o.center,o.resolution,o.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:r,wantedTiles:{},mapId:(0,fr.sq)(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const t=isNaN(o.nextRotation)?o.rotation:o.nextRotation;i.nextExtent=(0,_r.p8)(o.nextCenter,o.nextResolution,t,e)}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r&&(!this.previousExtent_||!(0,_r.xb)(this.previousExtent_)&&!(0,_r.fS)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new pA(RA.Z.MOVESTART,this,r)),this.previousExtent_=(0,_r.YN)(this.previousExtent_)),this.previousExtent_&&!i.viewHints[BA.Z.ANIMATING]&&!i.viewHints[BA.Z.INTERACTING]&&!(0,_r.fS)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new pA(RA.Z.MOVEEND,this,i)),(0,_r.d9)(i.extent,this.previousExtent_))),this.dispatchEvent(new pA(RA.Z.POSTRENDER,this,i)),this.renderComplete_=this.hasListener(RA.Z.LOADSTART)||this.hasListener(RA.Z.LOADEND)||this.hasListener(EA.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new IA.GroupEvent("removelayer",e)),this.set(LA,t)}setSize(t){this.set(TA,t)}setTarget(t){this.set(NA,t)}setView(t){if(!t||t instanceof jA.ZP)return void this.set(DA,t);this.set(DA,new jA.ZP);const e=this;t.then((function(t){e.setView(new jA.ZP(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||(e=[r,i],!(0,qr.py)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,GA.ZK)("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&(0,Gr.fS)(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}}const ZA=zA;jA.ZP.prototype.getDecimalZoom=function(){var t=this.getResolution(),e=Math.log(this.maxResolution_/t)/Math.log(2);return void 0!==e?this.minZoom_+e:e};const VA="preload",XA="useInterimTilesOnError";class WA extends vA.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(VA)}setPreload(t){this.set(VA,t)}getUseInterimTilesOnError(){return this.get(XA)}setUseInterimTilesOnError(t){this.set(XA,t)}getData(t){return super.getData(t)}}const YA=WA;var HA=i(98015);class $A extends HA.Z{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,_r.lJ)(),this.tmpTileRange_=new Fr(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!r}getTile(t,e,n,r){const i=r.pixelRatio,o=r.viewState.projection,s=this.getLayer();let a=s.getSource().getTile(t,e,n,i,o);return 3==a.getState()&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),r=(0,mA.nn)(e.pixelToCoordinateTransform,t.slice()),i=n.getExtent();if(i&&!(0,_r.b8)(i,r))return null;const o=e.pixelRatio,s=e.viewState.projection,a=e.viewState,h=n.getRenderSource(),u=h.getTileGridForProjection(a.projection),l=h.getTilePixelRatio(e.pixelRatio);for(let t=u.getZForResolution(a.resolution);t>=u.getMinZoom();--t){const e=u.getTileCoordForCoordAndZ(r,t),n=h.getTile(t,e[1],e[2],o,s);if(!(n instanceof vr||n instanceof Ir)||n instanceof Ir&&4===n.getState())return null;if(2!==n.getState())continue;const i=u.getOrigin(t),c=(0,qr.Pq)(u.getTileSize(t)),f=u.getResolution(t),d=Math.floor(l*((r[0]-i[0])/f-e[1]*c[0])),p=Math.floor(l*((i[1]-r[1])/f-e[2]*c[1])),g=Math.round(l*h.getGutterForProjection(a.projection));return this.getImageData(n.getImage(),d+g,p+g)}return null}loadedTileCallback(t,e,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(t,e,n)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,n){const r=t.layerStatesArray[t.layerIndex],i=t.viewState,o=i.projection,s=i.resolution,a=i.center,h=i.rotation,u=t.pixelRatio,l=this.getLayer(),c=l.getSource(),f=c.getRevision(),d=c.getTileGridForProjection(o),p=d.getZForResolution(s,c.zDirection),g=d.getResolution(p);let m=t.extent;const y=t.viewState.resolution,v=c.getTilePixelRatio(u),_=Math.round((0,_r.dz)(m)/y*u),b=Math.round((0,_r.Cr)(m)/y*u),w=r.extent&&(0,e.fromUserExtent)(r.extent,o);w&&(m=(0,_r.Ed)(m,(0,e.fromUserExtent)(r.extent,o)));const x=g*_/2/v,M=g*b/2/v,E=[a[0]-x,a[1]-M,a[0]+x,a[1]+M],S=d.getTileRangeForExtentAndZ(m,p),C={};C[p]={};const I=this.createLoadedTileFinder(c,o,C),A=this.tmpExtent,P=this.tmpTileRange_;this.newTiles_=!1;const O=h?(0,_r.dY)(i.center,y,h,t.size):void 0;for(let e=S.minX;e<=S.maxX;++e)for(let n=S.minY;n<=S.maxY;++n){if(h&&!d.tileCoordIntersectsViewport([p,e,n],O))continue;const i=this.getTile(p,e,n,t);if(this.isDrawableTile(i)){const e=(0,fr.sq)(this);if(2==i.getState()){C[p][i.tileCoord.toString()]=i;let t=i.inTransition(e);t&&1!==r.opacity&&(i.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(i)||(this.newTiles_=!0)}if(1===i.getAlpha(e,t.time))continue}const o=d.getTileCoordChildTileRange(i.tileCoord,P,A);let s=!1;o&&(s=I(p+1,o)),s||d.forEachTileCoordParentTileRange(i.tileCoord,I,P,A)}const k=g/s*u/v;(0,mA.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/u,1/u,h,-_/2,-b/2);const R=(0,mA.BB)(this.pixelTransform);this.useContainer(n,R,this.getBackground(t));const L=this.getRenderContext(t),T=this.context.canvas;(0,mA.nb)(this.inversePixelTransform,this.pixelTransform),(0,mA.qC)(this.tempTransform,_/2,b/2,k,k,0,-_/2,-b/2),T.width!=_||T.height!=b?(T.width=_,T.height=b):this.containerReused||L.clearRect(0,0,_,b),w&&this.clipUnrotated(L,t,w),c.getInterpolate()||(L.imageSmoothingEnabled=!1),this.preRender(L,t),this.renderedTiles.length=0;let N,D,F,j=Object.keys(C).map(Number);j.sort(Gr.j2),1!==r.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(N=[],D=[]):j=j.reverse();for(let e=j.length-1;e>=0;--e){const n=j[e],r=c.getTilePixelSize(n,u,o),i=d.getResolution(n)/g,s=r[0]*i*k,a=r[1]*i*k,h=d.getTileCoordForCoordAndZ((0,_r.rL)(E),n),l=d.getTileCoordExtent(h),f=(0,mA.nn)(this.tempTransform,[v*(l[0]-E[0])/g,v*(E[3]-l[3])/g]),m=v*c.getGutterForProjection(o),y=C[n];for(const e in y){const r=y[e],i=r.tileCoord,o=h[1]-i[1],u=Math.round(f[0]-(o-1)*s),l=h[2]-i[2],d=Math.round(f[1]-(l-1)*a),g=Math.round(f[0]-o*s),v=Math.round(f[1]-l*a),_=u-g,b=d-v,w=p===n,x=w&&1!==r.getAlpha((0,fr.sq)(this),t.time);let M=!1;if(!x)if(N){F=[g,v,g+_,v,g+_,v+b,g,v+b];for(let t=0,e=N.length;t<e;++t)if(p!==n&&n<D[t]){const e=N[t];(0,_r.kK)([g,v,g+_,v+b],[e[0],e[3],e[4],e[7]])&&(M||(L.save(),M=!0),L.beginPath(),L.moveTo(F[0],F[1]),L.lineTo(F[2],F[3]),L.lineTo(F[4],F[5]),L.lineTo(F[6],F[7]),L.moveTo(e[6],e[7]),L.lineTo(e[4],e[5]),L.lineTo(e[2],e[3]),L.lineTo(e[0],e[1]),L.clip())}N.push(F),D.push(n)}else L.clearRect(g,v,_,b);this.drawTileImage(r,t,g,v,_,b,m,w),N&&!x?(M&&L.restore(),this.renderedTiles.unshift(r)):this.renderedTiles.push(r),this.updateUsedTiles(t.usedTiles,c,r)}}return this.renderedRevision=f,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!(0,_r.fS)(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=u,this.renderedProjection=o,this.manageTilePyramid(t,c,d,u,o,m,p,l.getPreload()),this.scheduleExpireCache(t,c),this.postRender(this.context,t),r.extent&&L.restore(),L.imageSmoothingEnabled=!0,R!==T.style.transform&&(T.style.transform=R),this.container}drawTileImage(t,e,n,r,i,o,s,a){const h=this.getTileImage(t);if(!h)return;const u=this.getRenderContext(e),l=(0,fr.sq)(this),c=e.layerStatesArray[e.layerIndex],f=c.opacity*(a?t.getAlpha(l,e.time):1),d=f!==u.globalAlpha;d&&(u.save(),u.globalAlpha=f),u.drawImage(h,s,s,h.width-2*s,h.height-2*s,n,r,i,o),d&&u.restore(),f!==c.opacity?e.animate=!0:a&&t.endTransition(l)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=function(t,e,n){const r=(0,fr.sq)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const r=(0,fr.sq)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0}manageTilePyramid(t,e,n,r,i,o,s,a,h){const u=(0,fr.sq)(e);u in t.wantedTiles||(t.wantedTiles[u]={});const l=t.wantedTiles[u],c=t.tileQueue,f=n.getMinZoom(),d=t.viewState.rotation,p=d?(0,_r.dY)(t.viewState.center,t.viewState.resolution,d,t.size):void 0;let g,m,y,v,_,b,w=0;for(b=f;b<=s;++b)for(m=n.getTileRangeForExtentAndZ(o,b,m),y=n.getResolution(b),v=m.minX;v<=m.maxX;++v)for(_=m.minY;_<=m.maxY;++_)d&&!n.tileCoordIntersectsViewport([b,v,_],p)||(s-b<=a?(++w,g=e.getTile(b,v,_,r,i),0==g.getState()&&(l[g.getKey()]=!0,c.isKeyQueued(g.getKey())||c.enqueue([g,u,n.getTileCoordCenter(g.tileCoord),y])),void 0!==h&&h(g)):e.useTile(b,v,_,i));e.updateCacheSize(w,i)}}const KA=$A,JA=class extends YA{constructor(t){super(t)}createRenderer(){return new KA(this)}};var QA=i(76442);class tP extends bI.ZP{constructor(t,e,n){super(),void 0!==n&&void 0===e?this.setFlatCoordinates(n,t):(e=e||0,this.setCenterAndRadius(t,e,n))}clone(){const t=new tP(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,r){const i=this.flatCoordinates,o=t-i[0],s=e-i[1],a=o*o+s*s;if(a<r){if(0===a)for(let t=0;t<this.stride;++t)n[t]=i[t];else{const t=this.getRadius()/Math.sqrt(a);n[0]=i[0]+t*o,n[1]=i[1]+t*s;for(let t=2;t<this.stride;++t)n[t]=i[t]}return n.length=this.stride,a}return r}containsXY(t,e){const n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,_r.T9)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if((0,_r.kK)(t,e)){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||(0,_r.H6)(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){const e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(let n=1;n<e;++n)r[e+n]=t[n];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let i=(0,xI.IG)(r,0,t,this.stride);r[i++]=r[0]+e;for(let t=1,e=this.stride;t<e;++t)r[i++]=r[t];r.length=i,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const n=this.getCenter(),r=this.getStride();this.setCenter((0,QA.U1)(n,0,n.length,r,t,e,n)),this.changed()}}tP.prototype.transform;const eP=tP;function nP(t,e){return t+(Math.random()-.5)*e}function rP(t){return t*Math.PI/180}function iP(t){return iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iP(t)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oP(t,e)}function sP(t,e){if(e&&("object"===iP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function aP(t){return aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aP(t)}var hP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}(s,t);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=aP(r);if(i){var n=aP(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sP(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,{render:function(t){var n=this.getSource(),r=n.mapboxMap;r.setStyle(n.style);var i=r.getCanvas(),o=t.viewState,s=this.getVisible();i.style.display=s?"block":"none";var a=this.getOpacity();i.style.opacity=a;var h=-180*o.rotation/Math.PI,u=(0,e.toLonLat)(o.center),l=o.zoom-1,c=r.getBearing(),f=r.getCenter().toArray(),d=r.getZoom();return h==c&&u[0]==f[0]&&u[1]==f[1]&&l==d||(h!=c&&r.rotateTo(h,{animate:!1}),u[0]==f[0]&&u[1]==f[1]&&l==d||r.jumpTo({center:u,zoom:l,animate:!1}),r._frame&&(r._frame.cancel(),r._frame=null),r._render()),i},source:t.source})}return n=s,Object.defineProperty(n,"prototype",{writable:!1}),n}(vA.Z);const uP=i.p+"images/6e1f2f2f6fed3c5cddeb925e7ae75aba.png",lP=i.p+"images/6c5dba7f7d76e74c3a8c7c5b1c3fc544.png",cP=i.p+"images/0beac2cb41dfab43ddfd9df80b32b85d.png",fP=i.p+"images/9ac6d81f417d6a5626b7c8d5a087c32b.png";function dP(t){return dP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dP(t)}function pP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gP(t,e){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gP(t,e)}function mP(t,e){if(e&&("object"===dP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yP(t){return yP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yP(t)}var vP=new AC.default({image:new yI.default({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",src:uP})}),_P=new AC.default({image:new yI.default({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",src:lP})}),bP=new AC.default({image:new yI.default({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",src:cP})}),wP=new AC.default({fill:new _I.Z({color:[128,128,256,.2]}),stroke:new vI.Z({color:[128,128,256,1],width:3})}),xP=new AC.default({image:new yI.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:fP})}),MP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gP(t,e)}(a,t);var e,n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yP(i);if(o){var n=yP(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mP(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=or(t||{});var n=new fC.default({source:new dC.default({wrapX:!1})});n.set("name","gps");var r=new fC.default({source:new dC.default({wrapX:!1})});r.set("name","marker");var i=new fC.default({source:new dC.default({wrapX:!1})});i.set("name","feature");var o=new fC.default({source:new dC.default({wrapX:!1})});o.set("name","envelope");var h=a.spawnLayer(null,t.source,t.target),u=new IA.default;u.set("name","overlay");var l={controls:t.controls?t.controls:[],layers:[h,u,o,i,n,r],target:t.div,view:new jA.ZP({center:t.defaultCenter||[0,0],zoom:t.defaultZoom||2,rotation:t.defaultRotation||0,multiWorld:!0})};t.interactions&&(l.interactions=t.interactions),l.renderer="canvas",(e=s.call(this,l))._overlay_group=u,e.fakeGps=t.fakeGps,e.fakeRadius=t.fakeRadius,e.homePosition=t.homePosition,e.northUp=t.northUp,e.tapDuration=t.tapDuration,e.homeMarginPixels=t.homeMarginPixels,e.tapUIVanish=t.tapUIVanish;var c=e.getView();e.__AvoidFirstMoveStart=!0;var f=function t(){e.__AvoidFirstMoveStart||e.dispatchEvent("movestart"),e.__AvoidFirstMoveStart=!1,c.un("propertychange",t)};return c.on("propertychange",f),e.on("moveend",(function(){e.render(),c.on("propertychange",f)})),e}return e=a,n=[{key:"getLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base",e=function e(n){var r=n.getArray().map((function(n){return n.get("name")==t?n:n.getLayers?e(n.getLayers()):void 0})).filter((function(t){return t}));if(0!=r.length)return r[0]};return e(this.getLayers())}},{key:"getSource",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base",e=this.getLayer(t);if(e)return e.getSource()}},{key:"setFeature",value:function(t,e,n){var r=this.getSource(n),i=new tC.default(t);return e&&i.setStyle(e),r.addFeature(i),i}},{key:"removeFeature",value:function(t,e){this.getSource(e).removeFeature(t)}},{key:"resetFeature",value:function(t){this.getSource(t).clear()}},{key:"setGPSPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="sub"==e?bP:"hide"==e?_P:vP;"sub"!=e&&this.resetFeature("gps"),t&&(this.setFeature({geometry:new nC.default(t.xy)},n,"gps"),e||this.setFeature({geometry:new eP(t.xy,t.rad)},wP,"gps"))}},{key:"setMarker",value:function(t,e,n,r){return r||(r="marker"),e.geometry=new nC.default(t),n?"string"==typeof n?(console.log("Make modify 1"),n=new AC.default({image:new yI.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:n})})):n instanceof AC.default?console.log("Use directly"):(console.log("Make modify 2"),n=new AC.default({image:new yI.default(n)})):n=xP,this.setFeature(e,n,r)}},{key:"resetMarker",value:function(t){t||(t="marker"),this.resetFeature(t)}},{key:"setLine",value:function(t,e,n){return this.setVector(t,"Line",e?{stroke:e}:null,n)}},{key:"setVector",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Line",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;r||(r="feature");var i={};null!=n.stroke&&(i.stroke=new vI.Z(n.stroke)),null!=n.fill&&(i.fill=new _I.Z(n.fill));var o=new AC.default(i),s="Line"===e?new PI(t):new PC.ZP(t);return this.setFeature({geometry:s,name:e},o,r)}},{key:"resetLine",value:function(t){this.resetVector(t)}},{key:"resetVector",value:function(t){t||(t="feature"),this.resetFeature(t)}},{key:"setEnvelope",value:function(t,e,n){return n||(n="envelope"),this.setLine(t,e,n)}},{key:"removeEnvelope",value:function(t,e){e||(e="envelope"),this.removeFeature(t,e)}},{key:"resetEnvelope",value:function(t){t||(t="envelope"),this.resetFeature(t)}},{key:"setFillEnvelope",value:function(t,e,n,r){var i;if(r||(r="envelope"),null!=e||null!=n){var o={};null!=e&&(o.stroke=new vI.Z(e)),null!=n&&(o.fill=new _I.Z(n)),i=new AC.default(o)}return this.setFeature({geometry:new PC.ZP([t])},i,r)}},{key:"exchangeSource",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this.getLayers(),n=e.item(0),r=a.spawnLayer(n,t,this.getTarget());r!=n&&e.setAt(0,r),t&&t.setMap(this)}},{key:"setLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this.getLayer("overlay").getLayers();if(e.clear(),t){var n=new JA({source:t});e.push(n)}}},{key:"setTransparency",value:function(t){var e=(100-t)/100,n=this.getSource();n instanceof li||n instanceof Ai?(this.getLayers().item(0).setOpacity(1),this.getLayers().item(1).setOpacity(e)):this.getLayers().item(0).setOpacity(e)}},{key:"setGPSMarker",value:function(t,e){this.getLayers().item(0).getSource().setGPSMarker(t,e)}},{key:"handleGPS",value:function(t,e){var n=this;if(t)if(this.dispatchEvent("gps_request"),this._first_gps_request=!0,this.geolocation)this.geolocation.setTracking(!0);else{var r=this.geolocation=new fA({tracking:!0});r.on("change",(function(t){var e,i,o=n.getLayer("overlay").getLayers().item(0),s=o?o.getSource():n.getLayers().item(0).getSource(),a=r.getPosition(),h=r.getAccuracy();n.fakeGps&&(e=n.homePosition,i=a,6378.14*Math.acos(Math.cos(rP(e[1]))*Math.cos(rP(i[1]))*Math.cos(rP(i[0])-rP(e[0]))+Math.sin(rP(e[1]))*Math.sin(rP(i[1])))>n.fakeGps)&&(a=[nP(n.homePosition[0],.001),nP(n.homePosition[1],.001)],h=nP(15,10));var u={lnglat:a,acc:h};s.setGPSMarkerAsync(u,!n._first_gps_request).then((function(t){t||(u={error:"gps_out"}),n._first_gps_request=!1,n.dispatchEvent(new pA("gps_result",n,u))}))})),r.on("error",(function(t){var e=n.getLayers().item(0).getSource(),r=null;if(n.fakeGps){var i=[nP(n.homePosition[0],.001),nP(n.homePosition[1],.001)],o=nP(15,10);r={lnglat:i,acc:o}}e.setGPSMarkerAsync(r,!n._first_gps_request).then((function(t){t||(r={error:"gps_out"}),n._first_gps_request=!1,n.dispatchEvent(new pA("gps_result",n,r))}))}))}else this.geolocation&&this.geolocation.setTracking(!1),this.getLayers().item(0).getSource().setGPSMarker(),e||this.dispatchEvent(new pA("gps_result",this,{error:"gps_off"}))}}],r=[{key:"spawnLayer",value:function(t,e,n){return e instanceof xi||!(t instanceof JA)?(t=e instanceof xi?new hP({style:e.style,accessToken:e.accessToken,container:n,source:e}):new JA({source:e})).set("name","base"):t.setSource(e),t}}],n&&pP(e.prototype,n),r&&pP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ZA),EP=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-inverse navbar-fixed-top"},[e("div",{staticClass:"container"},[t._m(0),t._v(" "),e("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbar"}},[e("ul",{staticClass:"nav navbar-nav"},[e("header-option",{attrs:{current:t.current,target:t.target0_,title:t.$t("navbar.edit_map")}}),t._v(" "),e("header-option",{attrs:{current:t.current,target:"applist.html",title:t.$t("navbar.edit_app")}}),t._v(" "),e("header-option",{attrs:{current:t.current,target:"settings.html",title:t.$t("navbar.settings")}})],1)])])])};EP._withStripped=!0;var SP=function(t,e,n,r,i,o,s,a){var h,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"navbar-header"},[e("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"}},[e("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),e("span",{staticClass:"icon-bar"}),t._v(" "),e("span",{staticClass:"icon-bar"}),t._v(" "),e("span",{staticClass:"icon-bar"})]),t._v(" "),e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Maplat Editor")])])}],u._compiled=!0),h)if(u.functional){u._injectStyles=h;var l=u.render;u.render=function(t,e){return h.call(e),l(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:u}}({props:["$t","current","target0"],computed:{target0_:function(){return this.target0||"maplist.html"}},components:{"header-option":{props:["current","target","title"],template:'<li v-if="current == target" class="active"><a href="#">{{title}}</a></li><li v-else><a v-bind:href="target">{{title}}</a></li>'}}},EP);const CP=SP.exports;var IP=i(43597),AP=i.n(IP);function PP(t){return PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PP(t)}function OP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kP(){kP=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function d(){}function p(){}var g={};h(g,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==e&&n.call(y,o)&&(g=y);var v=p.prototype=f.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var h=l(t[r],t,o);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==PP(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var h=l(t,e,n);if("normal"===h.type){if(r=n.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r="completed",n.method="throw",n.arg=h.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=h(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,h(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),h(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(v),h(v,a,"Generator"),h(v,o,(function(){return this})),h(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(a&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LP(t,e){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},LP(t,e)}function TP(t,e){if(e&&("object"===PP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function NP(t){return NP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},NP(t)}function DP(t,e,n,r,i,o,s){try{var a=t[o](s),h=a.value}catch(t){return void n(t)}a.done?e(h):Promise.resolve(h).then(r,i)}function FP(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){DP(o,r,i,s,a,"next",t)}function a(t){DP(o,r,i,s,a,"throw",t)}s(void 0)}))}}function jP(t,e){return t.map((function(t){return AP()(t,e)}))}var BP,GP,qP,UP,zP,ZP,VP,XP,WP,YP,HP,$P,KP,JP,QP="Normal 12px Arial";function tO(){return tO=FP(kP().mark((function t(){var e,n,r;return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.baseApi.require("mapedit");case 2:return t.next=4,window.baseApi.require("dialog");case 4:return t.next=6,px.getSingleton();case 6:for(BP=t.sent,e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<e.length;n++)"mapid"===(r=e[n].split("="))[0]&&(zP=r[1]);if(!zP){t.next=13;break}window.mapedit.request(zP),t.next=16;break;case 13:return t.next=15,SO();case 15:IO();case 16:window.mapedit.on("mapData",(function(t,e){AO(e[0],e[1])})),JP=new Og({el:"#modalBody",data:{modal:new(Ka().Modal)(document.getElementById("staticModal"),{}),percent:0,progressText:"",enableClose:!1,text:""},methods:{show:function(t){this.text=t,this.percent=0,this.progressText="",this.enableClose=!1,this.modal.show()},progress:function(t,e,n){this.text=t,this.percent=e,this.progressText=n},finish:function(t){this.text=t,this.enableClose=!0},hide:function(){this.modal.hide()}}});case 18:case"end":return t.stop()}}),t)}))),tO.apply(this,arguments)}function eO(t,e){var n=void 0;return(n=document.createElement("canvas").getContext("2d")).font=e,n.measureText(t).width}function nO(t,e){for(var r=t[0],i=t.slice(1,5).map((function(t){return[t[0]-r[0],t[1]-r[1]]})),o=[[0,1],[1,0],[0,-1],[-1,0]],s=0,a=0,h=0,u=0;u<4;u++){var l=i[u],c=o[u],f=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2));s+=f;var d=l[0]*c[1]-l[1]*c[0],p=Math.acos((l[0]*c[0]+l[1]*c[1])/f),g=d>0?-1*p:p;a+=Math.cos(g),h+=Math.sin(g)}var m=s/4,y=Math.atan2(h,a),v=Math.floor(Math.min(e[0],e[1])/4),_=Math.log(v*n/128/m)/Math.log(2);return[r,_,y]}function rO(){if(KP.homePosition){var t=new AC.default({image:new yI.default({src:"data:image/svg+xml,".concat(encodeURIComponent('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nx="0px" y="0px" width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<polygon x="0" y="0" points="10,0 20,10 17,10 17,20 3,20 3,10 0,10 10,0" stroke="#FF0000" fill="#FF0000" stroke-width="2"></polygon></svg>')),size:[20,20],anchor:[.5,1]})}),n=(0,e.transform)(KP.homePosition,"EPSG:4326","EPSG:3857");if(YP.setMarker(n,{gcpIndex:"home"},t),"strict"===KP.errorStatus||"loose"===KP.errorStatus){var r=KP.tinObjects[0].transform(n,!0),i=WP.xy2SysCoord(r);XP.setMarker(i,{gcpIndex:"home"},t)}}}function iO(t){var e=KP.gcps,n=KP.edges;XP.resetMarker(),YP.resetMarker(),XP.getSource("edges").clear(),YP.getSource("edges").clear(),rO();for(var r=0;r<e.length;r++){var i=e[r],o=WP.xy2SysCoord(i[0]),s=eO(r+1,QP)+10,a='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nx="0px" y="0px" width="'.concat(s,'px" height="20px"\nviewBox="0 0 ').concat(s,' 20" enable-background="new 0 0 ').concat(s,' 20" xml:space="preserve">\n<polygon x="0" y="0" points="0,0 ').concat(s,",0 ").concat(s,",16 ").concat(s/2+4,",16\n").concat(s/2,",20 ").concat(s/2-4,',16 0,16 0,0" stroke="#000000" fill="').concat(r===t?"#FF0000":"#DEEFAE",'"\nstroke-width="2"></polygon>\n<text x="5" y="13" fill="#000000" font-family="Arial" font-size="12" font-weight="normal">').concat(r+1,"</text></svg>"),h=new AC.default({image:new yI.default({src:"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(a)),size:[s,70],anchor:[.5,1],offset:[0,-50]})});console.log("gcpsToMarkers ".concat(r,", ").concat(i,", ").concat(a)),XP.setMarker(o,{gcpIndex:r},h),YP.setMarker(i[1],{gcpIndex:r},h)}for(var u=function(t){var r=e[n[t][2][0]],i=e[n[t][2][1]],o=WP.xy2SysCoord(r[0]),s=WP.xy2SysCoord(i[0]),a=new AC.default({stroke:new vI.Z({color:"red",width:2})}),h=[r[1]];n[t][1].map((function(t){h.push(t)})),h.push(i[1]);var u={geometry:new PI(h),startEnd:n[t][2]},l=[o];n[t][0].map((function(t){l.push(WP.xy2SysCoord(t))})),l.push(s);var c={geometry:new PI(l),startEnd:n[t][2]};XP.setFeature(c,a,"edges"),YP.setFeature(u,a,"edges")},l=0;l<n.length;l++)u(l)}function oO(t,e){var n=t.data.marker.get("gcpIndex");"new"!==n&&(ZP=n,iO(n))}function sO(t,e){return aO.apply(this,arguments)}function aO(){return(aO=FP(kP().mark((function t(e,n){var r,i,o,s;return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=BP.t,i=e.data.marker,"new"===(o=i.get("gcpIndex"))){t.next=13;break}if(s=[ZP,o].sort((function(t,e){return t>e?1:t<e?-1:0})),ZP=void 0,!(KP.edges.findIndex((function(t){return t[2][0]===s[0]&&t[2][1]===s[1]}))<0)){t.next=10;break}KP.edges.push([[],[],s]),t.next=12;break;case 10:return t.next=12,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:r("mapedit.line_selected_already")});case 12:iO();case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hO(t,e){ZP=void 0,iO()}function uO(t,e){KP.newGcp=void 0,iO(KP.gcps)}function lO(t,e){var n=t.data.marker.get("gcpIndex");if("new"!==n){var r=KP.gcps[n],i=WP.xy2SysCoord(r[0]),o=r[1],s=XP.getView(),a=YP.getView();s.setCenter(i),a.setCenter(o),s.setZoom(WP.maxZoom-1),a.setZoom(17)}}function cO(t,e){KP.homePosition=void 0,KP.mercZoom=void 0,iO()}function fO(t,i){if(KP.homePosition){var o=YP.getView(),s=(0,e.transform)(KP.homePosition,"EPSG:4326","EPSG:3857");if(o.setCenter(s),o.setZoom(KP.mercZoom),"strict"===KP.errorStatus||"loose"===KP.errorStatus){var a=function(t,e,i){var o=YP.getSize(),s=function(t,e){return Math.floor(Math.min(t[0],t[1])/4)*n/128/Math.pow(2,e)}(o,e),a=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i[0]*Math.cos(e)-i[1]*Math.sin(e),s=i[0]*Math.sin(e)+i[1]*Math.cos(e);n.push([o,s])}return n}(r,i),h=a.map((function(e){return[e[0]*s+t[0],e[1]*s+t[1]]}));return h.push(o),h}(s,KP.mercZoom,0),h=a[5];delete a[5];var u=nO(a.map((function(t){var e=KP.tinObjects[0].transform(t,!0);return WP.xy2SysCoord(e)})),h),l=XP.getView();l.setCenter(u[0]),l.setZoom(u[1]),l.setRotation(0),o.setRotation(-u[2])}}}function dO(t,e){var n=t.data.edge.get("startEnd"),r=KP.edges,i=r.findIndex((function(t){return t[2][0]===n[0]&&t[2][1]===n[1]}));i>-1&&r.splice(i,1),iO()}function pO(t,e){var n=t.data.edge,r=e===XP,i=n.getGeometry().getClosestPoint(t.coordinate),o=r?jP(WP.sysCoord2Xy(i),2):jP(i,6),s=n.get("startEnd"),a=KP.edges.findIndex((function(t){return t[2][0]===s[0]&&t[2][1]===s[1]})),h=KP.edges[a],u=KP.gcps[s[0]],l=KP.gcps[s[1]],c=u[r?0:1],f=l[r?0:1],d=u[r?1:0],p=l[r?1:0],g=Object.assign([],r?h[0]:h[1]),m=Object.assign([],r?h[1]:h[0]);g.unshift(c),g.push(f),m.unshift(d),m.push(p);var y=0,v=0,_=0,b=g.reduce((function(t,e,n,r){if(0===n)return t.push([0,0]),t;var i=r[n-1],s=Math.sqrt(Math.pow(e[1]-i[1],2)+Math.pow(e[0]-i[0],2)),a=Math.abs((e[1]-i[1])*o[0]-(e[0]-i[0])*o[1]+e[0]*i[1]-e[1]*i[0])/s,h=t[n-1][1]+s;return t.push([s,h,a]),(!v||y>a)&&(v=n,y=a,_=t[n-1][1]+Math.sqrt(Math.pow(o[1]-i[1],2)+Math.pow(o[0]-i[0],2))),t}),[]),w=g.slice(1,v),x=g.slice(v,g.length-1),M=_/b[b.length-1][1],E=m.reduce((function(t,e,n,r){if(0===n)return t.push([0,0]),t;var i=r[n-1],o=Math.sqrt(Math.pow(e[1]-i[1],2)+Math.pow(e[0]-i[0],2)),s=t[n-1][1]+o;return t.push([o,s]),t}),[]),S=[],C=0,I=M*E[E.length-1][1];E.map((function(t,e,n){if(I<t[1]&&!C){C=e;var r=(I-n[e-1][1])/t[0],i=m[e-1],o=m[e];S=[(o[0]-i[0])*r+i[0],(o[1]-i[1])*r+i[1]]}}));var A=m.slice(1,C),P=m.slice(C,m.length-1);KP.gcps.push([r?o:S,r?S:o]);var O=KP.gcps.length-1;KP.editingID=O+1,KP.edges.splice(a,1,[r?w:A,r?A:w,[s[0],O]]),KP.edges.push([r?x:P,r?P:x,[O,s[1]]]),iO()}function gO(t,e){var n=t.data.marker,r=n.get("gcpIndex");if("new"===r)KP.newGcp=void 0,e.getSource("marker").removeFeature(n);else{KP.gcps.splice(r,1);for(var i=KP.edges,o=i.length-1;o>=0;o--){var s=i[o];s[2][0]===r||s[2][1]===r?i.splice(o,1):(s[2][0]>r&&(s[2][0]=s[2][0]-1),s[2][1]>r&&(s[2][1]=s[2][1]-1))}iO()}KP.editingID=""}function mO(t,e){var n=KP.gcps,r=n.length+1,i=e===XP,o=t.coordinate,s=i?jP(WP.sysCoord2Xy(o),2):jP(o,6);if(KP.newGcp)(i&&!KP.newGcp[0]||!i&&!KP.newGcp[1])&&(i?KP.newGcp[0]=s:KP.newGcp[1]=s,delete KP.newGcp[2],n.push(KP.newGcp),iO(),KP.newGcp=void 0,KP.editingID=n.length);else{var a=eO(r,QP)+10,h='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nx="0px" y="0px" width="'.concat(a,'px" height="20px" viewBox="0 0 ').concat(a,' 20"\nenable-background="new 0 0 ').concat(a,' 20" xml:space="preserve">\n<polygon x="0" y="0" points="0,0 ').concat(a,",0 ").concat(a,",16 ").concat(a/2+4,",16\n").concat(a/2,",20 ").concat(a/2-4,',16 0,16 0,0" stroke="#000000" fill="#FFCCCC" stroke-width="2"></polygon>\n<text x="5" y="13" fill="#000000" font-family="Arial" font-size="12" font-weight="normal">').concat(r,"</text></svg>"),u=new AC.default({image:new yI.default({src:"data:image/svg+xml,".concat(encodeURIComponent(h)),size:[a,70],anchor:[.5,1],offset:[0,-50]})});e.setMarker(o,{gcpIndex:"new"},u),KP.newGcp=i?[s,,r]:[,s,r]}}function yO(t){return vO.apply(this,arguments)}function vO(){return vO=FP(kP().mark((function t(e){var n,r,i,o,s,a,h,u,l,c,f,d,p,g;return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.originalEvent.altKey){t.next=2;break}return t.abrupt("return");case 2:if(n=BP.t,i=(r=this===XP)?XP:YP,o=r?YP:XP,s=e.coordinate,a=r?jP(WP.sysCoord2Xy(s),2):jP(s,6),h=i.getSource("check"),u=o.getSource("check"),h.clear(),u.clear(),"string"!=typeof(l=KP.tinObject)){t.next=17;break}return t.next=16,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:n("tooLessGcps"===l?"mapedit.testerror_too_short":"tooLinear"===l?"mapedit.testerror_too_linear":"pointsOutside"===l?"mapedit.testerror_outside":"edgeError"===l?"mapedit.testerror_line":"mapedit.testerror_unknown")});case 16:return t.abrupt("return");case 17:if("strict_error"!==l.strict_status||r){t.next=21;break}return t.next=20,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:n("mapedit.testerror_valid_error")});case 20:return t.abrupt("return");case 21:if(c=l.transform(a,!r)){t.next=26;break}return t.next=25,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:n("mapedit.testerror_outside_map")});case 25:return t.abrupt("return");case 26:f=r?c:WP.xy2SysCoord(c),o.getView().setCenter(f),d=new AC.default({image:new yI.default({src:"data:image/svg+xml,".concat(encodeURIComponent('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nx="0px" y="0px" width="10px" height="15px" viewBox="0 0 10 15" enable-background="new 0 0 10 15" xml:space="preserve">\n<polygon x="0" y="0" points="5,1 9,5 5,14 1,5 5,1" stroke="#FF0000" fill="#FFFF00" stroke-width="2"></polygon></svg>')),size:[10,15],anchor:[.5,1]})}),p=new tC.default({geometry:new nC.default(s)}),g=new tC.default({geometry:new nC.default(f)}),p.setStyle(d),g.setStyle(d),h.addFeature(p),u.addFeature(g);case 36:case"end":return t.stop()}}),t,this)}))),vO.apply(this,arguments)}function _O(){var t=KP.tinObject;XP.getSource("json").clear(),YP.getSource("json").clear(),XP.getSource("bounds").clear();var n,r="ZOOM:".concat(WP.maxZoom),i=new class extends class extends class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=tC.default,this.supportedMediaTypes=null}getReadOptions(t,n){if(n){let r=n.dataProjection?(0,e.get)(n.dataProjection):this.readProjection(t);n.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,e.get)(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return(0,fr.O3)()}readFeature(t,e){return(0,fr.O3)()}readFeatures(t,e){return(0,fr.O3)()}readGeometry(t,e){return(0,fr.O3)()}readProjection(t){return(0,fr.O3)()}writeFeature(t,e){return(0,fr.O3)()}writeFeatures(t,e){return(0,fr.O3)()}writeGeometry(t,e){return(0,fr.O3)()}}{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject($I(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject($I(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return(0,fr.O3)()}readFeaturesFromObject(t,e){return(0,fr.O3)()}readGeometry(t,e){return this.readGeometryFromObject($I(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return(0,fr.O3)()}readProjection(t){return this.readProjectionFromObject($I(t))}readProjectionFromObject(t){return(0,fr.O3)()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return(0,fr.O3)()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return(0,fr.O3)()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return(0,fr.O3)()}}{constructor(t){t=t||{},super(),this.dataProjection=(0,e.get)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,e.get)(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const r=JI(n.geometry);if(this.featureClass===OI.ZP)return YI({geometry:r,id:n.id,properties:n.properties},e);const i=new tC.default;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&i.setGeometryName(n.geometry_name),i.setGeometry(HI(r,e)),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i}readFeaturesFromObject(t,e){let n=null;if("FeatureCollection"===t.type){n=[];const r=t.features;for(let t=0,i=r.length;t<i;++t){const i=this.readFeatureFromObject(r[t],e);i&&n.push(i)}}else n=[this.readFeatureFromObject(t,e)];return n.flat()}readGeometryFromObject(t,e){return function(t,e){return HI(JI(t),e)}(t,e)}readProjectionFromObject(t){const n=t.crs;let r;if(n)if("name"==n.type)r=(0,e.get)(n.properties.name);else{if("EPSG"!==n.type)throw new Error("Unknown SRS type");r=(0,e.get)("EPSG:"+n.properties.code)}else r=this.dataProjection;return r}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;const i=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=QI(o,e),delete i[t.getGeometryName()]),(0,KI.x)(i)||(n.properties=i),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return QI(t,this.adaptOptions(e))}},o=XP.getSource("bounds");0===KP.currentEditingLayer?n=[[0,0],[KP.width,0],[KP.width,KP.height],[0,KP.height],[0,0]]:(n=Object.assign([],KP.bounds)).push(KP.bounds[0]);var s,a,h=Z([n]),u=i.readFeatures(h,{dataProjection:r,featureProjection:"EPSG:3857"});if(o.addFeatures(u),HP&&XP.removeInteraction(HP),$P&&XP.removeInteraction($P),0!==KP.currentEditingLayer&&((HP=new jC({source:o})).on("modifyend",(function(t){KP.bounds=t.features.item(0).getGeometry().getCoordinates()[0].filter((function(t,e,n){return e!==n.length-1})).map((function(t){return(0,e.transform)(t,"EPSG:3857",r)})),window.mapedit.updateTin(KP.gcps,KP.edges,KP.currentEditingLayer,KP.bounds,KP.strictMode,KP.vertexMode)})),$P=new UC({source:o}),XP.addInteraction(HP),XP.addInteraction($P)),s=XP.getSource("marker").getFeatures().filter((function(t){return"home"===t.get("gcpIndex")}))[0],a=YP.getSource("marker").getFeatures().filter((function(t){return"home"===t.get("gcpIndex")}))[0],s&&XP.getSource("marker").removeFeature(s),a&&YP.getSource("marker").removeFeature(a),rO(),"string"!=typeof t){var l=t.tins.forw,c=t.tins.bakw,f=i.readFeatures(c,{dataProjection:"EPSG:3857"}),d=i.readFeatures(l,{dataProjection:r,featureProjection:"EPSG:3857"});if(YP.getSource("json").addFeatures(f),XP.getSource("json").addFeatures(d),VP=null,"strict_error"===t.strict_status){var p=i.readFeatures(t.kinks.bakw,{dataProjection:"EPSG:3857"});YP.getSource("json").addFeatures(p)}}}function bO(t){return"Polygon"===t.getGeometry().getType()?new AC.default({stroke:new vI.Z({color:"blue",width:1}),fill:new _I.Z({color:"rgba(0, 0, 255, 0.05)"})}):"LineString"===t.getGeometry().getType()?new AC.default({stroke:new vI.Z({color:"red",width:2})}):new AC.default({image:new yI.default({src:"data:image/svg+xml,".concat(encodeURIComponent('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nx="0px" y="0px" width="6px" height="6px" viewBox="0 0 6 6" enable-background="new 0 0 6 6" xml:space="preserve">\n<polygon x="0" y="0" points="3,0 6,3 3,6 0,3 3,0" stroke="#FF0000" fill="#FFFF00" stroke-width="2"></polygon></svg>')),size:[6,6],anchor:[.5,.5]})})}var wO=new AC.default({stroke:new vI.Z({color:"red",width:2}),fill:new _I.Z({color:"rgba(0, 0, 0, 0)"})});function xO(){return Xa({mapID:zP,url:KP.url_,width:KP.width,height:KP.height,attr:KP.attr,noload:!0},{}).then((function(t){WP=t,XP.exchangeSource(WP);var e=WP.xy2SysCoord([KP.width/2,KP.height/2]);XP.getView().setCenter(e);var r=KP.gcps;if(r&&r.length>0){var i,o;if(1===r.length)i=r[0][1],o=16;else{var s=r.reduce((function(t,e,n){var i=e[1];if(t[0][0]=t[0][0]+i[0],t[0][1]=t[0][1]+i[1],i[0]>t[1][0]&&(t[1][0]=i[0]),i[1]>t[1][1]&&(t[1][1]=i[1]),i[0]<t[2][0]&&(t[2][0]=i[0]),i[1]<t[2][1]&&(t[2][1]=i[1]),n===r.length-1){var o=[t[0][0]/r.length,t[0][1]/r.length],s=t[1][0]-t[2][0];return t[1][1],t[2][1],[o,Math.log(93925820.35682458/s)/Math.log(2)]}return t}),[[0,0],[-1*n,-1*n],[n,n]]);i=s[0],o=s[1]}var a=YP.getView();a.setCenter(i),a.setZoom(o)}})).catch((function(t){console.log(t)}))}var MO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LP(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=NP(r);if(i){var n=NP(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return TP(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,{handleDownEvent:s.prototype.handleDownEvent,handleDragEvent:s.prototype.handleDragEvent,handleMoveEvent:s.prototype.handleMoveEvent,handleUpEvent:s.prototype.handleUpEvent})).coordinate_=null,t.cursor_="pointer",t.feature_=null,t.previousCursor_=void 0,t.layerFilter="marker",t}return e=s,(n=[{key:"handleDownEvent",value:function(t){if(2!==t.originalEvent.button){var e=t.map,n=this,r=e.forEachFeatureAtPixel(t.pixel,(function(t,e){return t}),{layerFilter:function(t){return t.get("name")===n.layerFilter}});return r&&("LineString"===r.getGeometry().getType()||"home"===r.get("gcpIndex")?r=void 0:(this.coordinate_=t.coordinate,this.feature_=r,"new"!==r.get("gcpIndex")&&(KP.editingID=r.get("gcpIndex")+1))),!!r}}},{key:"handleDragEvent",value:function(t){if(2!==t.originalEvent.button){var e=t.coordinate[0]-this.coordinate_[0],n=t.coordinate[1]-this.coordinate_[1];this.feature_.getGeometry().translate(e,n),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1]}}},{key:"handleMoveEvent",value:function(t){if(2!==t.originalEvent.button&&((t.map===XP?YP:XP).closeContextMenu(),this.cursor_)){var e=t.map,n=this,r=e.forEachFeatureAtPixel(t.pixel,(function(t,e){return t}),{layerFilter:function(t){return t.get("name")===n.layerFilter}}),i=t.map.getTargetElement();r?i.style.cursor!==this.cursor_&&(this.previousCursor_=i.style.cursor,i.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}},{key:"handleUpEvent",value:function(t){if(2!==t.originalEvent.button){var e=t.map===XP,n=this.feature_,r=n.getGeometry().getCoordinates();r=e?jP(WP.sysCoord2Xy(r),2):jP(r,6);var i=n.get("gcpIndex");if("new"!==i){var o=KP.gcps,s=o[i];s[e?0:1]=r,o.splice(i,1,s),iO()}else KP.newGcp.splice(e?0:1,1,r);return this.coordinate_=null,this.feature_=null,!1}}}])&&RP(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(uC);function EO(){(XP=new MP({div:"illstMap",interactions:aI().extend([new hI({condition:yC})]),controls:mI()})).initContextMenu();var t=new fC.default({source:new dC.default({wrapX:!1}),style:wO});t.set("name","bounds"),XP.getLayer("overlay").getLayers().push(t);var n=new fC.default({source:new dC.default({wrapX:!1}),style:bO});n.set("name","json"),XP.getLayer("overlay").getLayers().push(n);var r=new fC.default({source:new dC.default({wrapX:!1}),style:bO});r.set("name","check"),XP.getLayers().push(r);var i=new fC.default({source:new dC.default({wrapX:!1}),style:wO});i.set("name","edges"),XP.getLayer("overlay").getLayers().push(i),XP.on("click",yO),XP.addInteraction(new MO);var o=function(t){if(2===t.originalEvent.button)return!1;var e=this.getMap().getFeaturesAtPixel(t.pixel,{layerFilter:function(t){var e=t.get("name");return"edges"===e||"marker"===e}});if(e&&e.length>0&&"LineString"==e[0].getGeometry().getType()){var n=e[0].getGeometry().getCoordinates(),r=t.pixel,i=this.getMap().getPixelFromCoordinate(n[0]),o=r[0]-i[0],s=r[1]-i[1];return!(Math.sqrt(o*o+s*s)<=10||(i=this.getMap().getPixelFromCoordinate(n.slice(-1)[0]),o=r[0]-i[0],s=r[1]-i[1],Math.sqrt(o*o+s*s)<=10))}return!1},s=XP.getSource("edges"),a=new jC({source:s,condition:o}),h=[],u=function(t){h=[],t.features.forEach((function(t){h.push(t.getRevision())}))},l=function(t){var n=t.target.getMap()===XP,r=n?"ZOOM:".concat(WP.maxZoom):"EPSG:3857",i=null;t.features.forEach((function(t,e){t.getRevision()!==h[e]&&(i=t)}));var o=i.get("startEnd"),s=(KP.gcps[o[0]],KP.gcps[o[1]],KP.edges.findIndex((function(t){return t[2][0]===o[0]&&t[2][1]===o[1]}))),a=KP.edges[s],u=i.getGeometry().getCoordinates().filter((function(t,e,n){return 0!==e&&e!==n.length-1})).map((function(t){return(0,e.transform)(t,"EPSG:3857",r)}));n?a[0]=u:a[1]=u,KP.edges.splice(s,1,a)};a.on("modifystart",u),a.on("modifyend",l);var c=new UC({source:s});XP.addInteraction(a),XP.addInteraction(c),(YP=new MP({div:"mercMap",interactions:aI().extend([new hI({condition:yC})]),controls:mI()})).initContextMenu(),(n=new fC.default({source:new dC.default({wrapX:!1}),style:bO})).set("name","json"),YP.getLayer("overlay").getLayers().push(n),(r=new fC.default({source:new dC.default({wrapX:!1}),style:bO})).set("name","check"),YP.getLayers().push(r),(i=new fC.default({source:new dC.default({wrapX:!1}),style:wO})).set("name","edges"),YP.getLayer("overlay").getLayers().push(i),YP.on("click",yO),YP.addInteraction(new MO),s=YP.getSource("edges"),(a=new jC({source:s,condition:o})).on("modifystart",u),a.on("modifyend",l),c=new UC({source:s}),YP.addInteraction(a),YP.addInteraction(c);var f,d=function(){var t=FP(kP().mark((function t(e){var n;return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.calculateExtent(),window.mapedit.checkExtentMap(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=!1;YP.on("postrender",(function(t){p||(p=!1,d(YP.getView()))})),window.mapedit.on("extentMapList",(function(t,e){console.log(e),KP.templateMaps=e}));var g=window.mapedit.getTmsListOfMapID(zP).then((function(t){return f=t,Promise.all(f.reverse().map((function(t){return function(t){return(t.attr?Xa({mapID:t.mapID,attr:t.attr,maptype:"base",url:t.url,maxZoom:t.maxZoom,tileSize:t.tileSize||256},{}):Xa(t.mapID,{tileSize:t.tileSize||256})).then((function(e){var n=BP.translate(e.attr);return e.setAttributions(n),new JA({title:t.title,type:"base",visible:"osm"===t.mapID,source:e})}))}(t)})))})),m=BP.t;g.then((function(t){var e=new IA.default({title:m("mapedit.control_basemap"),layers:t}),n=YP.getLayers();n.removeAt(0),n.insertAt(0,e);var r=new(KS())({});YP.addControl(r)}));var y=new(HS())("nominatim",{provider:"osm",lang:"en-US",placeholder:m("mapedit.control_put_address"),limit:5,keepOpen:!1});YP.addControl(y)}function SO(){return CO.apply(this,arguments)}function CO(){return CO=FP(kP().mark((function t(){var e;return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(){for(var t=document.querySelectorAll('a[data-toggle="tab"]'),e=0;e<t.length;e++)new(Ka().Tab)(t[e],{height:!0});EO(),document.querySelector('a[href="#gcpsTab"]').addEventListener("shown.bs.tab",(function(t){XP.updateSize(),YP.updateSize()}))},t.t1={"header-template":CP},t.t2=BP.vi18n,t.t3={gcps:function(t){WP&&window.mapedit.updateTin(this.gcps,this.edges,this.currentEditingLayer,this.bounds,this.strictMode,this.vertexMode)},edges:function(t){WP&&window.mapedit.updateTin(this.gcps,this.edges,this.currentEditingLayer,this.bounds,this.strictMode,this.vertexMode)},sub_maps:function(t){},vertexMode:function(){WP&&window.mapedit.updateTin(this.gcps,this.edges,this.currentEditingLayer,this.bounds,this.strictMode,this.vertexMode)},strictMode:function(){WP&&window.mapedit.updateTin(this.gcps,this.edges,this.currentEditingLayer,this.bounds,this.strictMode,this.vertexMode)},currentEditingLayer:function(){WP&&iO()}},t.next=6,window.mapedit.getWmtsFolder();case 6:t.t4=t.sent,t.t5={wmtsFolder:t.t4},e={mounted:t.t0,components:t.t1,i18n:t.t2,el:"#container",template:"#mapedit-vue-template",watch:t.t3,data:t.t5},KP=new gS(e);case 10:case"end":return t.stop()}}),t)}))),CO.apply(this,arguments)}function IO(){KP.vueInit=!0;var t=BP.t;KP.$on("setHomeMerc",(function(){var t=YP.getView(),n=(0,e.transform)(t.getCenter(),"EPSG:3857","EPSG:4326"),r=t.getZoom();KP.homePosition=n,KP.mercZoom=r,iO()})),KP.$on("setHomeIllst",(function(){var t=XP.getView(),n=t.getCenter(),r=t.getZoom(),i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OP(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(WP.viewpoint2SysCoords([n,r,0]),2),o=i[0],s=i[1],a=nO(o.map((function(t){var e=WP.sysCoord2Xy(t);return KP.tinObjects[0].transform(e,!1)})),s),h=(0,e.transform)(a[0],"EPSG:3857","EPSG:4326");KP.homePosition=h,KP.mercZoom=a[1],iO()})),KP.$on("setXY",(function(){var t=XP.getSource("marker").getFeatures().filter((function(t){var e=t.get("gcpIndex");return KP.newGcp?"new"===e:e===KP.editingID-1}))[0],e=WP.xy2SysCoord(KP.newGcp?KP.newGcp[0]:KP.gcps[KP.editingID-1][0]);t.getGeometry().setCoordinates(e)})),KP.$on("setLongLat",(function(){var t=YP.getSource("marker").getFeatures().filter((function(t){var e=t.get("gcpIndex");return KP.newGcp?"new"===e:e===KP.editingID-1}))[0],e=KP.newGcp?KP.newGcp[1]:KP.gcps[KP.editingID-1][1];t.getGeometry().setCoordinates(e)})),KP.$on("updateMapID",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_change_mapid")});case 2:if(1!==e.sent.response){e.next=5;break}return e.abrupt("return");case 5:KP.onlyOne=!1;case 6:case"end":return e.stop()}}),e)})))),KP.$on("checkOnlyOne",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.style.pointerEvents="none",e.next=3,window.mapedit.checkID(KP.mapID);case 3:window.mapedit.once("checkIDResult",function(){var e=FP(kP().mark((function e(n,r){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.body.style.pointerEvents=null,!r){e.next=8;break}return e.next=4,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:t("mapedit.alert_mapid_checked")});case 4:KP.onlyOne=!0,"Update"===KP.status&&(KP.status="Change:".concat(zP)),e.next=11;break;case 8:return e.next=10,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:t("mapedit.alert_mapid_duplicated")});case 10:KP.onlyOne=!1;case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))),KP.$on("wmtsGenerate",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UP){e.next=5;break}return UP=!0,e.next=4,window.baseApi.require("wmts_generator");case 4:window.wmtsGen.on("wmtsGenerated",(function(e,n){document.body.style.pointerEvents=null,n.err?(console.log(n.err),JP.finish(t("wmtsgenerate.error_generation"))):(KP.wmtsHash=n.hash,JP.finish(t("wmtsgenerate.success_generation")))}));case 5:document.body.style.pointerEvents="none",JP.show(t("wmtsgenerate.generating_tile")),setTimeout((function(){window.wmtsGen.generate(KP.mapID,KP.width,KP.height,KP.tinObjects[0].getCompiled(),KP.imageExtension,KP.mainLayerHash)}),1);case 8:case"end":return e.stop()}}),e)})))),KP.$on("mapUpload",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=KP.gcpsEditReady,!e.t0){e.next=6;break}return e.next=4,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_override_image")});case 4:e.t1=e.sent.response,e.t0=1===e.t1;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return");case 8:if(GP){e.next=13;break}return GP=!0,e.next=12,window.baseApi.require("mapupload");case 12:window.mapupload.on("uploadedMap",(function(e,n){document.body.style.pointerEvents=null,n.err?"Canceled"!==n.err?(console.log(n.err),JP.finish(t("mapedit.error_image_upload"))):JP.finish(t("mapedit.imexport_canceled")):(JP.finish(t("mapedit.success_image_upload")),KP.width=n.width,KP.height=n.height,KP.url_=n.url,"jpg"===n.imageExtension?KP.imageExtension=void 0:KP.imageExtension=n.imageExtension,xO().then((function(){iO(),window.mapedit.updateTin(KP.gcps,KP.edges,KP.currentEditingLayer,KP.bounds,KP.strictMode,KP.vertexMode)})))}));case 13:document.body.style.pointerEvents="none",JP.show(t("mapedit.image_uploading")),window.mapupload.showMapSelectDialog(t("mapupload.map_image"));case 16:case"end":return e.stop()}}),e)})))),KP.$on("importMap",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qP){e.next=5;break}return qP=!0,e.next=4,window.baseApi.require("dataupload");case 4:window.dataupload.on("uploadedData",(function(t,e){document.body.style.pointerEvents=null,e.err?"Canceled"===e.err?JP.finish(""):"Exist"===e.err?JP.finish("ID"):"NoTile"===e.err?JP.finish(""):"NoTmb"===e.err?JP.finish(""):(console.log(e.err),JP.finish("")):(JP.finish(""),AO(e[0],e[1]))}));case 5:document.body.style.pointerEvents="none",JP.show(t("mapedit.image_uploading")),window.dataupload.showDataSelectDialog(t("dataupload.data_zip"));case 8:case"end":return e.stop()}}),e)})))),KP.$on("exportMap",(function(){document.body.style.pointerEvents="none",JP.show(t("mapedit.message_export")),window.mapedit.once("mapDownloadResult",(function(e,n){document.body.style.pointerEvents=null,"Success"===n?JP.finish(t("mapedit.export_success")):"Canceled"===n?JP.finish(t("mapedit.imexport_canceled")):(console.log(n),JP.finish(t("mapedit.export_error")))})),window.mapedit.download(KP.map,KP.tinObjects.map((function(t){return"string"==typeof t?t:t.getCompiled()})))})),KP.$on("uploadCsv",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(KP.gcps.length>0)){e.next=6;break}return e.next=3,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("dataio.csv_override_confirm")});case 3:if(e.t0=e.sent.response,1!==e.t0){e.next=6;break}return e.abrupt("return");case 6:document.body.style.pointerEvents="none",window.mapedit.uploadCsv(t("dataio.csv_file"),KP.csvUploadUiValue,[KP.currentEditingLayer,KP.bounds,KP.strictMode,KP.vertexMode]),window.mapedit.once("uploadedCsv",function(){var e=FP(kP().mark((function e(n,r){var i;return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.body.style.pointerEvents=null,!r.err){e.next=8;break}return i="Canceled"===r.err?t("mapedit.imexport_canceled"):"".concat(t("dataio.error_occurs"),": ").concat(t("dataio.".concat(r.err))),e.next=5,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:i});case 5:return e.abrupt("return");case 8:r.gcps&&(KP._updateWholeGcps(r.gcps),iO());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))),KP.$on("saveMap",FP(kP().mark((function e(){var n;return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_save")});case 2:if(e.t0=e.sent.response,1!==e.t0){e.next=5;break}return e.abrupt("return");case 5:if(n=KP.map,e.t1=n.status.match(/^Change:(.+)$/),!e.t1){e.next=12;break}return e.next=10,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_save")});case 10:e.t2=e.sent.response,e.t1=0===e.t2;case 12:if(!e.t1){e.next=14;break}n.status="Copy:".concat(zP);case 14:document.body.style.pointerEvents="none",window.mapedit.save(n,KP.tinObjects.map((function(t){return"string"==typeof t?t:t.getCompiled()}))),window.mapedit.once("saveResult",function(){var e=FP(kP().mark((function e(n,r){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.body.style.pointerEvents=null,"Success"!==r){e.next=8;break}return e.next=4,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:t("mapedit.success_save")});case 4:zP!==KP.mapID&&(zP=KP.mapID),window.mapedit.request(zP),e.next=16;break;case 8:if("Exist"!==r){e.next=13;break}return e.next=11,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:t("mapedit.error_duplicate_id")});case 11:e.next=16;break;case 13:return console.log(r),e.next=16,window.dialog.showMessageBox({type:"info",buttons:["OK"],message:t("mapedit.error_saving")});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)})))),KP.$on("viewError",(function(){var t=KP.tinObject;if(t instanceof ks){var e=t.kinks.bakw.features;(null===VP||++VP>=e.length)&&(VP=0);var n=e[VP].geometry.coordinates,r=YP.getView();r.setCenter(n),r.setZoom(17)}})),KP.$on("removeSubMap",FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_layer_delete")});case 2:if(e.t0=e.sent.response,0!==e.t0){e.next=5;break}KP.removeSubMap();case 5:case"end":return e.stop()}}),e)}))));for(var n=!1,r=document.querySelectorAll("a[data-nav]"),i=0;i<r.length;i++)r[i].addEventListener("click",function(){var e=FP(kP().mark((function e(r){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!KP.dirty,e.t0){e.next=6;break}return e.next=4,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_no_save")});case 4:e.t1=e.sent.response,e.t0=0===e.t1;case 6:if(!e.t0){e.next=9;break}n=!0,window.location.href=r.target.getAttribute("data-nav");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());window.addEventListener("beforeunload",(function(e){KP.dirty&&(n?n=!1:(e.returnValue="false",setTimeout(FP(kP().mark((function e(){return kP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.dialog.showMessageBox({type:"info",buttons:["OK","Cancel"],cancelId:1,message:t("mapedit.confirm_no_save")});case 2:0===e.sent.response&&(n=!0,window.close());case 4:case"end":return e.stop()}}),e)}))),2)))})),window.mapedit.on("updatedTin",(function(t,e){var n,r=e[0];"string"==typeof e[1]?n=e[1]:(n=new ks({})).setCompiled(e[1]),KP.tinObjects.splice(r,1,n),XP.getSource("check").clear(),YP.getSource("check").clear(),_O()})),window.mapedit.on("taskProgress",(function(e,n){JP.progress(t(n.text),n.percent,n.progress)}))}function AO(t,e){return PO.apply(this,arguments)}function PO(){return(PO=FP(kP().mark((function t(e,n){return kP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(document.body.style.pointerEvents=null,KP){t.next=4;break}return t.next=4,SO();case 4:KP.setInitialMap(e),n&&(KP.tinObjects=n.map((function(t){if("string"==typeof t)return t;var e=new ks({});return e.setCompiled(t),e}))),KP.vueInit||IO(),xO().then((function(){iO(),_O()}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}MP.prototype.initContextMenu=function(){var t=this,e=BP.t,n={text:e("mapedit.context_add_marker"),callback:mO},r={text:e("mapedit.context_remove_marker"),callback:gO},i={text:e("mapedit.context_correspond_marker"),callback:lO},o={text:e("mapedit.context_cancel_add_marker"),callback:uO},s={text:e("mapedit.context_correspond_line_start"),callback:oO},a={text:e("mapedit.context_correspond_line_end"),callback:sO},h={text:e("mapedit.context_correspond_line_cancel"),callback:hO},u={text:e("mapedit.context_correspond_line_cancel"),callback:dO},l={text:e("mapedit.context_marker_on_line"),callback:pO},c={text:e("mapedit.context_home_remove"),callback:cO},f={text:e("mapedit.context_home_show"),callback:fO},d=this.contextmenu=new WS({width:170,defaultItems:!1,items:[n]});this.addControl(d);var p=!1;d.on("open",(function(e){var g=this.map_.forEachFeatureAtPixel(e.pixel,(function(t,e){return t}),{layerFilter:function(t){return"marker"===t.get("name")||"edges"===t.get("name")},hitTolerance:5});if(g){var m="LineString"===g.getGeometry().getType();d.clear(),void 0!==ZP?m||"new"===g.get("gcpIndex")||g.get("gcpIndex")===ZP?d.push(h):(a.data={marker:g},d.push(a)):void 0!==KP.newGcp?d.push(o):m?(u.data={edge:g},d.push(u),l.data={edge:g},d.push(l)):"home"===g.get("gcpIndex")?(d.push(c),d.push(f)):("new"!==g.get("gcpIndex")&&(KP.editingID=g.get("gcpIndex")+1,i.data={marker:g},d.push(i),s.data={marker:g},d.push(s)),r.data={marker:g},d.push(r)),p=!0}else void 0!==ZP?(d.clear(),d.push(h),p=!0):void 0!==KP.newGcp&&void 0!==KP.newGcp[t===XP?0:1]?(d.clear(),d.push(o),p=!0):p&&(d.clear(),d.push(n),p=!1);if(this.map_===XP){var y=jP(WP.sysCoord2Xy(e.coordinate),2),v=KP.currentEditingLayer?function(t){var e=Object.assign([],KP.bounds);return e.push(KP.bounds[0]),!R(t,Z([e]))}:function(t){return t[0]<0||t[1]<0||t[0]>KP.width||t[1]>KP.height};v(y)&&setTimeout((function(){d.close()}),10)}})),this.on("unfocus",(function(){console.log("unfocus")}))},MP.prototype.closeContextMenu=function(){this.contextmenu.close()},function(){tO.apply(this,arguments)}()})()})();
//# sourceMappingURL=mapedit.bundle.js.map